{"version":3,"file":"component---src-pages-picture-index-tsx-ed85008fc1a7f620807c.js","mappings":"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","sources":["webpack://exmap/./node_modules/@mui/material/FormControlLabel/formControlLabelClasses.js","webpack://exmap/./node_modules/@mui/material/FormControlLabel/FormControlLabel.js","webpack://exmap/./node_modules/@mui/material/internal/svg-icons/RadioButtonUnchecked.js","webpack://exmap/./node_modules/@mui/material/internal/svg-icons/RadioButtonChecked.js","webpack://exmap/./node_modules/@mui/material/Radio/RadioButtonIcon.js","webpack://exmap/./node_modules/@mui/material/Radio/radioClasses.js","webpack://exmap/./node_modules/@mui/material/Radio/Radio.js","webpack://exmap/./node_modules/@mui/material/RadioGroup/useRadioGroup.js","webpack://exmap/./node_modules/@mui/material/FormGroup/formGroupClasses.js","webpack://exmap/./node_modules/@mui/material/FormGroup/FormGroup.js","webpack://exmap/./node_modules/@mui/material/RadioGroup/RadioGroup.js","webpack://exmap/./node_modules/@mui/material/RadioGroup/RadioGroupContext.js","webpack://exmap/./node_modules/@mui/material/internal/switchBaseClasses.js","webpack://exmap/./node_modules/@mui/material/internal/SwitchBase.js","webpack://exmap/./node_modules/@mui/system/esm/styled.js","webpack://exmap/./node_modules/ol/control/MousePosition.js","webpack://exmap/./node_modules/path-browserify/index.js","webpack://exmap/./src/hooks/useDnDSort.tsx","webpack://exmap/./src/scripts/ImageGrid/Global.ts","webpack://exmap/./src/scripts/ImageGrid/Regional.ts","webpack://exmap/./src/pages/picture/index.tsx"],"sourcesContent":["import { generateUtilityClasses, generateUtilityClass } from '@mui/base';\nexport function getFormControlLabelUtilityClasses(slot) {\n  return generateUtilityClass('MuiFormControlLabel', slot);\n}\nvar formControlLabelClasses = generateUtilityClasses('MuiFormControlLabel', ['root', 'labelPlacementStart', 'labelPlacementTop', 'labelPlacementBottom', 'disabled', 'label']);\nexport default formControlLabelClasses;","import _defineProperty from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar _excluded = [\"checked\", \"className\", \"componentsProps\", \"control\", \"disabled\", \"disableTypography\", \"inputRef\", \"label\", \"labelPlacement\", \"name\", \"onChange\", \"value\"];\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { refType } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { useFormControl } from '../FormControl';\nimport Typography from '../Typography';\nimport capitalize from '../utils/capitalize';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport formControlLabelClasses, { getFormControlLabelUtilityClasses } from './formControlLabelClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar useUtilityClasses = function useUtilityClasses(ownerState) {\n  var classes = ownerState.classes,\n      disabled = ownerState.disabled,\n      labelPlacement = ownerState.labelPlacement;\n  var slots = {\n    root: ['root', disabled && 'disabled', \"labelPlacement\".concat(capitalize(labelPlacement))],\n    label: ['label', disabled && 'disabled']\n  };\n  return composeClasses(slots, getFormControlLabelUtilityClasses, classes);\n};\n\nexport var FormControlLabelRoot = styled('label', {\n  name: 'MuiFormControlLabel',\n  slot: 'Root',\n  overridesResolver: function overridesResolver(props, styles) {\n    var ownerState = props.ownerState;\n    return [_defineProperty({}, \"& .\".concat(formControlLabelClasses.label), styles.label), styles.root, styles[\"labelPlacement\".concat(capitalize(ownerState.labelPlacement))]];\n  }\n})(function (_ref2) {\n  var theme = _ref2.theme,\n      ownerState = _ref2.ownerState;\n  return _extends(_defineProperty({\n    display: 'inline-flex',\n    alignItems: 'center',\n    cursor: 'pointer',\n    // For correct alignment with the text.\n    verticalAlign: 'middle',\n    WebkitTapHighlightColor: 'transparent',\n    marginLeft: -11,\n    marginRight: 16\n  }, \"&.\".concat(formControlLabelClasses.disabled), {\n    cursor: 'default'\n  }), ownerState.labelPlacement === 'start' && {\n    flexDirection: 'row-reverse',\n    marginLeft: 16,\n    // used for row presentation of radio/checkbox\n    marginRight: -11\n  }, ownerState.labelPlacement === 'top' && {\n    flexDirection: 'column-reverse',\n    marginLeft: 16\n  }, ownerState.labelPlacement === 'bottom' && {\n    flexDirection: 'column',\n    marginLeft: 16\n  }, _defineProperty({}, \"& .\".concat(formControlLabelClasses.label), _defineProperty({}, \"&.\".concat(formControlLabelClasses.disabled), {\n    color: theme.palette.text.disabled\n  })));\n});\n/**\n * Drop-in replacement of the `Radio`, `Switch` and `Checkbox` component.\n * Use this component if you want to display an extra label.\n */\n\nvar FormControlLabel = /*#__PURE__*/React.forwardRef(function FormControlLabel(inProps, ref) {\n  var props = useThemeProps({\n    props: inProps,\n    name: 'MuiFormControlLabel'\n  });\n\n  var className = props.className,\n      _props$componentsProp = props.componentsProps,\n      componentsProps = _props$componentsProp === void 0 ? {} : _props$componentsProp,\n      control = props.control,\n      disabledProp = props.disabled,\n      disableTypography = props.disableTypography,\n      label = props.label,\n      _props$labelPlacement = props.labelPlacement,\n      labelPlacement = _props$labelPlacement === void 0 ? 'end' : _props$labelPlacement,\n      other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var muiFormControl = useFormControl();\n  var disabled = disabledProp;\n\n  if (typeof disabled === 'undefined' && typeof control.props.disabled !== 'undefined') {\n    disabled = control.props.disabled;\n  }\n\n  if (typeof disabled === 'undefined' && muiFormControl) {\n    disabled = muiFormControl.disabled;\n  }\n\n  var controlProps = {\n    disabled: disabled\n  };\n  ['checked', 'name', 'onChange', 'value', 'inputRef'].forEach(function (key) {\n    if (typeof control.props[key] === 'undefined' && typeof props[key] !== 'undefined') {\n      controlProps[key] = props[key];\n    }\n  });\n\n  var ownerState = _extends({}, props, {\n    disabled: disabled,\n    label: label,\n    labelPlacement: labelPlacement\n  });\n\n  var classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(FormControlLabelRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other, {\n    children: [/*#__PURE__*/React.cloneElement(control, controlProps), label.type === Typography || disableTypography ? label : /*#__PURE__*/_jsx(Typography, _extends({\n      component: \"span\",\n      className: classes.label\n    }, componentsProps.typography, {\n      children: label\n    }))]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default FormControlLabel;","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), 'RadioButtonUnchecked');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z\"\n}), 'RadioButtonChecked');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport RadioButtonUncheckedIcon from '../internal/svg-icons/RadioButtonUnchecked';\nimport RadioButtonCheckedIcon from '../internal/svg-icons/RadioButtonChecked';\nimport styled from '../styles/styled';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar RadioButtonIconRoot = styled('span')({\n  position: 'relative',\n  display: 'flex'\n});\nvar RadioButtonIconBackground = styled(RadioButtonUncheckedIcon, {\n  skipSx: true\n})({\n  // Scale applied to prevent dot misalignment in Safari\n  transform: 'scale(1)'\n});\nvar RadioButtonIconDot = styled(RadioButtonCheckedIcon, {\n  skipSx: true\n})(function (_ref) {\n  var theme = _ref.theme,\n      ownerState = _ref.ownerState;\n  return _extends({\n    left: 0,\n    position: 'absolute',\n    transform: 'scale(0)',\n    transition: theme.transitions.create('transform', {\n      easing: theme.transitions.easing.easeIn,\n      duration: theme.transitions.duration.shortest\n    })\n  }, ownerState.checked && {\n    transform: 'scale(1)',\n    transition: theme.transitions.create('transform', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.shortest\n    })\n  });\n});\n/**\n * @ignore - internal component.\n */\n\nfunction RadioButtonIcon(props) {\n  var _props$checked = props.checked,\n      checked = _props$checked === void 0 ? false : _props$checked,\n      _props$classes = props.classes,\n      classes = _props$classes === void 0 ? {} : _props$classes,\n      fontSize = props.fontSize;\n\n  var ownerState = _extends({}, props, {\n    checked: checked\n  });\n\n  return /*#__PURE__*/_jsxs(RadioButtonIconRoot, {\n    className: classes.root,\n    ownerState: ownerState,\n    children: [/*#__PURE__*/_jsx(RadioButtonIconBackground, {\n      fontSize: fontSize,\n      className: classes.background,\n      ownerState: ownerState\n    }), /*#__PURE__*/_jsx(RadioButtonIconDot, {\n      fontSize: fontSize,\n      className: classes.dot,\n      ownerState: ownerState\n    })]\n  });\n}\n\nprocess.env.NODE_ENV !== \"production\" ? RadioButtonIcon.propTypes = {\n  /**\n   * If `true`, the component is checked.\n   */\n  checked: PropTypes.bool,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * The size of the component.\n   * `small` is equivalent to the dense radio styling.\n   */\n  fontSize: PropTypes.oneOf(['small', 'medium'])\n} : void 0;\nexport default RadioButtonIcon;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getRadioUtilityClass(slot) {\n  return generateUtilityClass('MuiRadio', slot);\n}\nvar radioClasses = generateUtilityClasses('MuiRadio', ['root', 'checked', 'disabled', 'colorPrimary', 'colorSecondary']);\nexport default radioClasses;","import _defineProperty from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar _excluded = [\"checked\", \"checkedIcon\", \"color\", \"icon\", \"name\", \"onChange\", \"size\"];\nimport * as React from 'react';\nimport { refType } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { alpha } from '@mui/system';\nimport SwitchBase from '../internal/SwitchBase';\nimport useThemeProps from '../styles/useThemeProps';\nimport RadioButtonIcon from './RadioButtonIcon';\nimport capitalize from '../utils/capitalize';\nimport createChainedFunction from '../utils/createChainedFunction';\nimport useRadioGroup from '../RadioGroup/useRadioGroup';\nimport radioClasses, { getRadioUtilityClass } from './radioClasses';\nimport styled, { rootShouldForwardProp } from '../styles/styled';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar useUtilityClasses = function useUtilityClasses(ownerState) {\n  var classes = ownerState.classes,\n      color = ownerState.color;\n  var slots = {\n    root: ['root', \"color\".concat(capitalize(color))]\n  };\n  return _extends({}, classes, composeClasses(slots, getRadioUtilityClass, classes));\n};\n\nvar RadioRoot = styled(SwitchBase, {\n  shouldForwardProp: function shouldForwardProp(prop) {\n    return rootShouldForwardProp(prop) || prop === 'classes';\n  },\n  name: 'MuiRadio',\n  slot: 'Root',\n  overridesResolver: function overridesResolver(props, styles) {\n    var ownerState = props.ownerState;\n    return [styles.root, styles[\"color\".concat(capitalize(ownerState.color))]];\n  }\n})(function (_ref) {\n  var theme = _ref.theme,\n      ownerState = _ref.ownerState;\n  return _extends({\n    color: theme.palette.text.secondary,\n    '&:hover': {\n      backgroundColor: alpha(ownerState.color === 'default' ? theme.palette.action.active : theme.palette[ownerState.color].main, theme.palette.action.hoverOpacity),\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        backgroundColor: 'transparent'\n      }\n    }\n  }, ownerState.color !== 'default' && _defineProperty({}, \"&.\".concat(radioClasses.checked), {\n    color: theme.palette[ownerState.color].main\n  }), _defineProperty({}, \"&.\".concat(radioClasses.disabled), {\n    color: theme.palette.action.disabled\n  }));\n});\n\nfunction areEqualValues(a, b) {\n  if (typeof b === 'object' && b !== null) {\n    return a === b;\n  } // The value could be a number, the DOM will stringify it anyway.\n\n\n  return String(a) === String(b);\n}\n\nvar defaultCheckedIcon = /*#__PURE__*/_jsx(RadioButtonIcon, {\n  checked: true\n});\n\nvar defaultIcon = /*#__PURE__*/_jsx(RadioButtonIcon, {});\n\nvar Radio = /*#__PURE__*/React.forwardRef(function Radio(inProps, ref) {\n  var _defaultIcon$props$fo, _defaultCheckedIcon$p;\n\n  var props = useThemeProps({\n    props: inProps,\n    name: 'MuiRadio'\n  });\n\n  var checkedProp = props.checked,\n      _props$checkedIcon = props.checkedIcon,\n      checkedIcon = _props$checkedIcon === void 0 ? defaultCheckedIcon : _props$checkedIcon,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'primary' : _props$color,\n      _props$icon = props.icon,\n      icon = _props$icon === void 0 ? defaultIcon : _props$icon,\n      nameProp = props.name,\n      onChangeProp = props.onChange,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var ownerState = _extends({}, props, {\n    color: color,\n    size: size\n  });\n\n  var classes = useUtilityClasses(ownerState);\n  var radioGroup = useRadioGroup();\n  var checked = checkedProp;\n  var onChange = createChainedFunction(onChangeProp, radioGroup && radioGroup.onChange);\n  var name = nameProp;\n\n  if (radioGroup) {\n    if (typeof checked === 'undefined') {\n      checked = areEqualValues(radioGroup.value, props.value);\n    }\n\n    if (typeof name === 'undefined') {\n      name = radioGroup.name;\n    }\n  }\n\n  return /*#__PURE__*/_jsx(RadioRoot, _extends({\n    type: \"radio\",\n    icon: /*#__PURE__*/React.cloneElement(icon, {\n      fontSize: (_defaultIcon$props$fo = defaultIcon.props.fontSize) != null ? _defaultIcon$props$fo : size\n    }),\n    checkedIcon: /*#__PURE__*/React.cloneElement(checkedIcon, {\n      fontSize: (_defaultCheckedIcon$p = defaultCheckedIcon.props.fontSize) != null ? _defaultCheckedIcon$p : size\n    }),\n    ownerState: ownerState,\n    classes: classes,\n    name: name,\n    checked: checked,\n    onChange: onChange,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default Radio;","import * as React from 'react';\nimport RadioGroupContext from './RadioGroupContext';\nexport default function useRadioGroup() {\n  return React.useContext(RadioGroupContext);\n}","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getFormGroupUtilityClass(slot) {\n  return generateUtilityClass('MuiFormGroup', slot);\n}\nvar formGroupClasses = generateUtilityClasses('MuiFormGroup', ['root', 'row']);\nexport default formGroupClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar _excluded = [\"className\", \"row\"];\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getFormGroupUtilityClass } from './formGroupClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar useUtilityClasses = function useUtilityClasses(ownerState) {\n  var classes = ownerState.classes,\n      row = ownerState.row;\n  var slots = {\n    root: ['root', row && 'row']\n  };\n  return composeClasses(slots, getFormGroupUtilityClass, classes);\n};\n\nvar FormGroupRoot = styled('div', {\n  name: 'MuiFormGroup',\n  slot: 'Root',\n  overridesResolver: function overridesResolver(props, styles) {\n    var ownerState = props.ownerState;\n    return [styles.root, ownerState.row && styles.row];\n  }\n})(function (_ref) {\n  var ownerState = _ref.ownerState;\n  return _extends({\n    display: 'flex',\n    flexDirection: 'column',\n    flexWrap: 'wrap'\n  }, ownerState.row && {\n    flexDirection: 'row'\n  });\n});\n/**\n * `FormGroup` wraps controls such as `Checkbox` and `Switch`.\n * It provides compact row layout.\n * For the `Radio`, you should be using the `RadioGroup` component instead of this one.\n */\n\nvar FormGroup = /*#__PURE__*/React.forwardRef(function FormGroup(inProps, ref) {\n  var props = useThemeProps({\n    props: inProps,\n    name: 'MuiFormGroup'\n  });\n\n  var className = props.className,\n      _props$row = props.row,\n      row = _props$row === void 0 ? false : _props$row,\n      other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var ownerState = _extends({}, props, {\n    row: row\n  });\n\n  var classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(FormGroupRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default FormGroup;","import _slicedToArray from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"actions\", \"children\", \"defaultValue\", \"name\", \"onChange\", \"value\"];\nimport * as React from 'react';\nimport FormGroup from '../FormGroup';\nimport useForkRef from '../utils/useForkRef';\nimport useControlled from '../utils/useControlled';\nimport RadioGroupContext from './RadioGroupContext';\nimport useId from '../utils/useId';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar RadioGroup = /*#__PURE__*/React.forwardRef(function RadioGroup(props, ref) {\n  var actions = props.actions,\n      children = props.children,\n      defaultValue = props.defaultValue,\n      nameProp = props.name,\n      onChange = props.onChange,\n      valueProp = props.value,\n      other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var rootRef = React.useRef(null);\n\n  var _useControlled = useControlled({\n    controlled: valueProp,\n    default: defaultValue,\n    name: 'RadioGroup'\n  }),\n      _useControlled2 = _slicedToArray(_useControlled, 2),\n      value = _useControlled2[0],\n      setValueState = _useControlled2[1];\n\n  React.useImperativeHandle(actions, function () {\n    return {\n      focus: function focus() {\n        var input = rootRef.current.querySelector('input:not(:disabled):checked');\n\n        if (!input) {\n          input = rootRef.current.querySelector('input:not(:disabled)');\n        }\n\n        if (input) {\n          input.focus();\n        }\n      }\n    };\n  }, []);\n  var handleRef = useForkRef(ref, rootRef);\n\n  var handleChange = function handleChange(event) {\n    setValueState(event.target.value);\n\n    if (onChange) {\n      onChange(event, event.target.value);\n    }\n  };\n\n  var name = useId(nameProp);\n  return /*#__PURE__*/_jsx(RadioGroupContext.Provider, {\n    value: {\n      name: name,\n      onChange: handleChange,\n      value: value\n    },\n    children: /*#__PURE__*/_jsx(FormGroup, _extends({\n      role: \"radiogroup\",\n      ref: handleRef\n    }, other, {\n      children: children\n    }))\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default RadioGroup;","import * as React from 'react';\n/**\n * @ignore - internal component.\n */\n\nvar RadioGroupContext = /*#__PURE__*/React.createContext(undefined);\n\nif (process.env.NODE_ENV !== 'production') {\n  RadioGroupContext.displayName = 'RadioGroupContext';\n}\n\nexport default RadioGroupContext;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getSwitchBaseUtilityClass(slot) {\n  return generateUtilityClass('PrivateSwitchBase', slot);\n}\nvar switchBaseClasses = generateUtilityClasses('PrivateSwitchBase', ['root', 'checked', 'disabled', 'input', 'edgeStart', 'edgeEnd']);\nexport default switchBaseClasses;","import _slicedToArray from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar _excluded = [\"autoFocus\", \"checked\", \"checkedIcon\", \"className\", \"defaultChecked\", \"disabled\", \"disableFocusRipple\", \"edge\", \"icon\", \"id\", \"inputProps\", \"inputRef\", \"name\", \"onBlur\", \"onChange\", \"onFocus\", \"readOnly\", \"required\", \"tabIndex\", \"type\", \"value\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { refType } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport capitalize from '../utils/capitalize';\nimport styled from '../styles/styled';\nimport useControlled from '../utils/useControlled';\nimport useFormControl from '../FormControl/useFormControl';\nimport ButtonBase from '../ButtonBase';\nimport { getSwitchBaseUtilityClass } from './switchBaseClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar useUtilityClasses = function useUtilityClasses(ownerState) {\n  var classes = ownerState.classes,\n      checked = ownerState.checked,\n      disabled = ownerState.disabled,\n      edge = ownerState.edge;\n  var slots = {\n    root: ['root', checked && 'checked', disabled && 'disabled', edge && \"edge\".concat(capitalize(edge))],\n    input: ['input']\n  };\n  return composeClasses(slots, getSwitchBaseUtilityClass, classes);\n};\n\nvar SwitchBaseRoot = styled(ButtonBase, {\n  skipSx: true\n})(function (_ref) {\n  var ownerState = _ref.ownerState;\n  return _extends({\n    padding: 9,\n    borderRadius: '50%'\n  }, ownerState.edge === 'start' && {\n    marginLeft: ownerState.size === 'small' ? -3 : -12\n  }, ownerState.edge === 'end' && {\n    marginRight: ownerState.size === 'small' ? -3 : -12\n  });\n});\nvar SwitchBaseInput = styled('input', {\n  skipSx: true\n})({\n  cursor: 'inherit',\n  position: 'absolute',\n  opacity: 0,\n  width: '100%',\n  height: '100%',\n  top: 0,\n  left: 0,\n  margin: 0,\n  padding: 0,\n  zIndex: 1\n});\n/**\n * @ignore - internal component.\n */\n\nvar SwitchBase = /*#__PURE__*/React.forwardRef(function SwitchBase(props, ref) {\n  var autoFocus = props.autoFocus,\n      checkedProp = props.checked,\n      checkedIcon = props.checkedIcon,\n      className = props.className,\n      defaultChecked = props.defaultChecked,\n      disabledProp = props.disabled,\n      _props$disableFocusRi = props.disableFocusRipple,\n      disableFocusRipple = _props$disableFocusRi === void 0 ? false : _props$disableFocusRi,\n      _props$edge = props.edge,\n      edge = _props$edge === void 0 ? false : _props$edge,\n      icon = props.icon,\n      id = props.id,\n      inputProps = props.inputProps,\n      inputRef = props.inputRef,\n      name = props.name,\n      onBlur = props.onBlur,\n      onChange = props.onChange,\n      onFocus = props.onFocus,\n      readOnly = props.readOnly,\n      required = props.required,\n      tabIndex = props.tabIndex,\n      type = props.type,\n      value = props.value,\n      other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var _useControlled = useControlled({\n    controlled: checkedProp,\n    default: Boolean(defaultChecked),\n    name: 'SwitchBase',\n    state: 'checked'\n  }),\n      _useControlled2 = _slicedToArray(_useControlled, 2),\n      checked = _useControlled2[0],\n      setCheckedState = _useControlled2[1];\n\n  var muiFormControl = useFormControl();\n\n  var handleFocus = function handleFocus(event) {\n    if (onFocus) {\n      onFocus(event);\n    }\n\n    if (muiFormControl && muiFormControl.onFocus) {\n      muiFormControl.onFocus(event);\n    }\n  };\n\n  var handleBlur = function handleBlur(event) {\n    if (onBlur) {\n      onBlur(event);\n    }\n\n    if (muiFormControl && muiFormControl.onBlur) {\n      muiFormControl.onBlur(event);\n    }\n  };\n\n  var handleInputChange = function handleInputChange(event) {\n    // Workaround for https://github.com/facebook/react/issues/9023\n    if (event.nativeEvent.defaultPrevented) {\n      return;\n    }\n\n    var newChecked = event.target.checked;\n    setCheckedState(newChecked);\n\n    if (onChange) {\n      // TODO v6: remove the second argument.\n      onChange(event, newChecked);\n    }\n  };\n\n  var disabled = disabledProp;\n\n  if (muiFormControl) {\n    if (typeof disabled === 'undefined') {\n      disabled = muiFormControl.disabled;\n    }\n  }\n\n  var hasLabelFor = type === 'checkbox' || type === 'radio';\n\n  var ownerState = _extends({}, props, {\n    checked: checked,\n    disabled: disabled,\n    disableFocusRipple: disableFocusRipple,\n    edge: edge\n  });\n\n  var classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(SwitchBaseRoot, _extends({\n    component: \"span\",\n    className: clsx(classes.root, className),\n    centerRipple: true,\n    focusRipple: !disableFocusRipple,\n    disabled: disabled,\n    tabIndex: null,\n    role: undefined,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    ownerState: ownerState,\n    ref: ref\n  }, other, {\n    children: [/*#__PURE__*/_jsx(SwitchBaseInput, _extends({\n      autoFocus: autoFocus,\n      checked: checkedProp,\n      defaultChecked: defaultChecked,\n      className: classes.input,\n      disabled: disabled,\n      id: hasLabelFor && id,\n      name: name,\n      onChange: handleInputChange,\n      readOnly: readOnly,\n      ref: inputRef,\n      required: required,\n      ownerState: ownerState,\n      tabIndex: tabIndex,\n      type: type\n    }, type === 'checkbox' && value === undefined ? {} : {\n      value: value\n    }, inputProps)), checked ? checkedIcon : icon]\n  }));\n}); // NB: If changed, please update Checkbox, Switch and Radio\n// so that the API documentation is updated.\n\nprocess.env.NODE_ENV !== \"production\" ? SwitchBase.propTypes = {\n  /**\n   * If `true`, the `input` element is focused during the first mount.\n   */\n  autoFocus: PropTypes.bool,\n\n  /**\n   * If `true`, the component is checked.\n   */\n  checked: PropTypes.bool,\n\n  /**\n   * The icon to display when the component is checked.\n   */\n  checkedIcon: PropTypes.node.isRequired,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  defaultChecked: PropTypes.bool,\n\n  /**\n   * If `true`, the component is disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the  keyboard focus ripple is disabled.\n   * @default false\n   */\n  disableFocusRipple: PropTypes.bool,\n\n  /**\n   * If given, uses a negative margin to counteract the padding on one\n   * side (this is often helpful for aligning the left or right\n   * side of the icon with content above or below, without ruining the border\n   * size and shape).\n   * @default false\n   */\n  edge: PropTypes.oneOf(['end', 'start', false]),\n\n  /**\n   * The icon to display when the component is unchecked.\n   */\n  icon: PropTypes.node.isRequired,\n\n  /**\n   * The id of the `input` element.\n   */\n  id: PropTypes.string,\n\n  /**\n   * [Attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Attributes) applied to the `input` element.\n   */\n  inputProps: PropTypes.object,\n\n  /**\n   * Pass a ref to the `input` element.\n   */\n  inputRef: refType,\n\n  /*\n   * @ignore\n   */\n  name: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * Callback fired when the state is changed.\n   *\n   * @param {object} event The event source of the callback.\n   * You can pull out the new checked state by accessing `event.target.checked` (boolean).\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * It prevents the user from changing the value of the field\n   * (not from interacting with the field).\n   */\n  readOnly: PropTypes.bool,\n\n  /**\n   * If `true`, the `input` element is required.\n   */\n  required: PropTypes.bool,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  tabIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * The input component prop `type`.\n   */\n  type: PropTypes.string.isRequired,\n\n  /**\n   * The value of the component.\n   */\n  value: PropTypes.any\n} : void 0;\nexport default SwitchBase;","import createStyled from './createStyled';\nvar styled = createStyled();\nexport default styled;","/**\n * @module ol/control/MousePosition\n */\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport Control from './Control.js';\nimport EventType from '../pointer/EventType.js';\nimport { get as getProjection, getTransformFromProjections, getUserProjection, identityTransform } from '../proj.js';\nimport { listen } from '../events.js';\n/**\n * @type {string}\n */\n\nvar PROJECTION = 'projection';\n/**\n * @type {string}\n */\n\nvar COORDINATE_FORMAT = 'coordinateFormat';\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"../ObjectEventType\").Types|\n *     'change:coordinateFormat'|'change:projection', import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"../ObjectEventType\").Types|\n *     'change:coordinateFormat'|'change:projection', Return>} MousePositionOnSignature\n */\n\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-mouse-position'] CSS class name.\n * @property {import(\"../coordinate.js\").CoordinateFormat} [coordinateFormat] Coordinate format.\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. Default is the view projection.\n * @property {function(import(\"../MapEvent.js\").default):void} [render] Function called when the\n * control should be re-rendered. This is called in a `requestAnimationFrame`\n * callback.\n * @property {HTMLElement|string} [target] Specify a target if you want the\n * control to be rendered outside of the map's viewport.\n * @property {string|boolean} [placeholder] Markup to show when the mouse position is not\n * available (e.g. when the pointer leaves the map viewport).  By default, a non-breaking space\n * is rendered when the mouse leaves the viewport.  To render something else, provide a string\n * to be used as the text content (e.g. 'no position' or '' for an empty string).  Set the placeholder\n * to `false` to retain the last position when the mouse leaves the viewport.  In a future release, this\n * will be the default behavior.\n * @property {string} [undefinedHTML='&#160;'] This option is deprecated.  Use the `placeholder` option instead.\n */\n\n/**\n * @classdesc\n * A control to show the 2D coordinates of the mouse cursor. By default, these\n * are in the view projection, but can be in any supported projection.\n * By default the control is shown in the top right corner of the map, but this\n * can be changed by using the css selector `.ol-mouse-position`.\n *\n * On touch devices, which usually do not have a mouse cursor, the coordinates\n * of the currently touched position are shown.\n *\n * @api\n */\n\nvar MousePosition =\n/** @class */\nfunction (_super) {\n  __extends(MousePosition, _super);\n  /**\n   * @param {Options} [opt_options] Mouse position options.\n   */\n\n\n  function MousePosition(opt_options) {\n    var _this = this;\n\n    var options = opt_options ? opt_options : {};\n    var element = document.createElement('div');\n    element.className = options.className !== undefined ? options.className : 'ol-mouse-position';\n    _this = _super.call(this, {\n      element: element,\n      render: options.render,\n      target: options.target\n    }) || this;\n    /***\n     * @type {MousePositionOnSignature<import(\"../events\").EventsKey>}\n     */\n\n    _this.on;\n    /***\n     * @type {MousePositionOnSignature<import(\"../events\").EventsKey>}\n     */\n\n    _this.once;\n    /***\n     * @type {MousePositionOnSignature<void>}\n     */\n\n    _this.un;\n\n    _this.addChangeListener(PROJECTION, _this.handleProjectionChanged_);\n\n    if (options.coordinateFormat) {\n      _this.setCoordinateFormat(options.coordinateFormat);\n    }\n\n    if (options.projection) {\n      _this.setProjection(options.projection);\n    }\n    /**\n     * Change this to `false` when removing the deprecated `undefinedHTML` option.\n     * @type {boolean}\n     */\n\n\n    var renderOnMouseOut = true;\n    /**\n     * @type {string}\n     */\n\n    var placeholder = '&#160;';\n\n    if ('undefinedHTML' in options) {\n      // deprecated behavior\n      if (options.undefinedHTML !== undefined) {\n        placeholder = options.undefinedHTML;\n      }\n\n      renderOnMouseOut = !!placeholder;\n    } else if ('placeholder' in options) {\n      if (options.placeholder === false) {\n        renderOnMouseOut = false;\n      } else {\n        placeholder = String(options.placeholder);\n      }\n    }\n    /**\n     * @private\n     * @type {string}\n     */\n\n\n    _this.placeholder_ = placeholder;\n    /**\n     * @private\n     * @type {boolean}\n     */\n\n    _this.renderOnMouseOut_ = renderOnMouseOut;\n    /**\n     * @private\n     * @type {string}\n     */\n\n    _this.renderedHTML_ = element.innerHTML;\n    /**\n     * @private\n     * @type {?import(\"../proj/Projection.js\").default}\n     */\n\n    _this.mapProjection_ = null;\n    /**\n     * @private\n     * @type {?import(\"../proj.js\").TransformFunction}\n     */\n\n    _this.transform_ = null;\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  MousePosition.prototype.handleProjectionChanged_ = function () {\n    this.transform_ = null;\n  };\n  /**\n   * Return the coordinate format type used to render the current position or\n   * undefined.\n   * @return {import(\"../coordinate.js\").CoordinateFormat|undefined} The format to render the current\n   *     position in.\n   * @observable\n   * @api\n   */\n\n\n  MousePosition.prototype.getCoordinateFormat = function () {\n    return (\n      /** @type {import(\"../coordinate.js\").CoordinateFormat|undefined} */\n      this.get(COORDINATE_FORMAT)\n    );\n  };\n  /**\n   * Return the projection that is used to report the mouse position.\n   * @return {import(\"../proj/Projection.js\").default|undefined} The projection to report mouse\n   *     position in.\n   * @observable\n   * @api\n   */\n\n\n  MousePosition.prototype.getProjection = function () {\n    return (\n      /** @type {import(\"../proj/Projection.js\").default|undefined} */\n      this.get(PROJECTION)\n    );\n  };\n  /**\n   * @param {MouseEvent} event Browser event.\n   * @protected\n   */\n\n\n  MousePosition.prototype.handleMouseMove = function (event) {\n    var map = this.getMap();\n    this.updateHTML_(map.getEventPixel(event));\n  };\n  /**\n   * @param {Event} event Browser event.\n   * @protected\n   */\n\n\n  MousePosition.prototype.handleMouseOut = function (event) {\n    this.updateHTML_(null);\n  };\n  /**\n   * Remove the control from its current map and attach it to the new map.\n   * Pass `null` to just remove the control from the current map.\n   * Subclasses may set up event handlers to get notified about changes to\n   * the map here.\n   * @param {import(\"../PluggableMap.js\").default|null} map Map.\n   * @api\n   */\n\n\n  MousePosition.prototype.setMap = function (map) {\n    _super.prototype.setMap.call(this, map);\n\n    if (map) {\n      var viewport = map.getViewport();\n      this.listenerKeys.push(listen(viewport, EventType.POINTERMOVE, this.handleMouseMove, this));\n\n      if (this.renderOnMouseOut_) {\n        this.listenerKeys.push(listen(viewport, EventType.POINTEROUT, this.handleMouseOut, this));\n      }\n\n      this.updateHTML_(null);\n    }\n  };\n  /**\n   * Set the coordinate format type used to render the current position.\n   * @param {import(\"../coordinate.js\").CoordinateFormat} format The format to render the current\n   *     position in.\n   * @observable\n   * @api\n   */\n\n\n  MousePosition.prototype.setCoordinateFormat = function (format) {\n    this.set(COORDINATE_FORMAT, format);\n  };\n  /**\n   * Set the projection that is used to report the mouse position.\n   * @param {import(\"../proj.js\").ProjectionLike} projection The projection to report mouse\n   *     position in.\n   * @observable\n   * @api\n   */\n\n\n  MousePosition.prototype.setProjection = function (projection) {\n    this.set(PROJECTION, getProjection(projection));\n  };\n  /**\n   * @param {?import(\"../pixel.js\").Pixel} pixel Pixel.\n   * @private\n   */\n\n\n  MousePosition.prototype.updateHTML_ = function (pixel) {\n    var html = this.placeholder_;\n\n    if (pixel && this.mapProjection_) {\n      if (!this.transform_) {\n        var projection = this.getProjection();\n\n        if (projection) {\n          this.transform_ = getTransformFromProjections(this.mapProjection_, projection);\n        } else {\n          this.transform_ = identityTransform;\n        }\n      }\n\n      var map = this.getMap();\n      var coordinate = map.getCoordinateFromPixelInternal(pixel);\n\n      if (coordinate) {\n        var userProjection = getUserProjection();\n\n        if (userProjection) {\n          this.transform_ = getTransformFromProjections(this.mapProjection_, userProjection);\n        }\n\n        this.transform_(coordinate, coordinate);\n        var coordinateFormat = this.getCoordinateFormat();\n\n        if (coordinateFormat) {\n          html = coordinateFormat(coordinate);\n        } else {\n          html = coordinate.toString();\n        }\n      }\n    }\n\n    if (!this.renderedHTML_ || html !== this.renderedHTML_) {\n      this.element.innerHTML = html;\n      this.renderedHTML_ = html;\n    }\n  };\n  /**\n   * Update the projection. Rendering of the coordinates is done in\n   * `handleMouseMove` and `handleMouseUp`.\n   * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n   * @override\n   */\n\n\n  MousePosition.prototype.render = function (mapEvent) {\n    var frameState = mapEvent.frameState;\n\n    if (!frameState) {\n      this.mapProjection_ = null;\n    } else {\n      if (this.mapProjection_ != frameState.viewState.projection) {\n        this.mapProjection_ = frameState.viewState.projection;\n        this.transform_ = null;\n      }\n    }\n  };\n\n  return MousePosition;\n}(Control);\n\nexport default MousePosition;","// 'path' module extracted from Node.js v8.11.1 (only the posix part)\n// transplited with Babel\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));\n  }\n} // Resolves . and .. elements in a path with directory names\n\n\nfunction normalizeStringPosix(path, allowAboveRoot) {\n  var res = '';\n  var lastSegmentLength = 0;\n  var lastSlash = -1;\n  var dots = 0;\n  var code;\n\n  for (var i = 0; i <= path.length; ++i) {\n    if (i < path.length) code = path.charCodeAt(i);else if (code === 47\n    /*/*/\n    ) break;else code = 47\n    /*/*/\n    ;\n\n    if (code === 47\n    /*/*/\n    ) {\n      if (lastSlash === i - 1 || dots === 1) {// NOOP\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46\n        /*.*/\n        || res.charCodeAt(res.length - 2) !== 46\n        /*.*/\n        ) {\n          if (res.length > 2) {\n            var lastSlashIndex = res.lastIndexOf('/');\n\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = '';\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');\n              }\n\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = '';\n            lastSegmentLength = 0;\n            lastSlash = i;\n            dots = 0;\n            continue;\n          }\n        }\n\n        if (allowAboveRoot) {\n          if (res.length > 0) res += '/..';else res = '..';\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0) res += '/' + path.slice(lastSlash + 1, i);else res = path.slice(lastSlash + 1, i);\n        lastSegmentLength = i - lastSlash - 1;\n      }\n\n      lastSlash = i;\n      dots = 0;\n    } else if (code === 46\n    /*.*/\n    && dots !== -1) {\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n\n  return res;\n}\n\nfunction _format(sep, pathObject) {\n  var dir = pathObject.dir || pathObject.root;\n  var base = pathObject.base || (pathObject.name || '') + (pathObject.ext || '');\n\n  if (!dir) {\n    return base;\n  }\n\n  if (dir === pathObject.root) {\n    return dir + base;\n  }\n\n  return dir + sep + base;\n}\n\nvar posix = {\n  // path.resolve([from ...], to)\n  resolve: function resolve() {\n    var resolvedPath = '';\n    var resolvedAbsolute = false;\n    var cwd;\n\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n      var path;\n      if (i >= 0) path = arguments[i];else {\n        if (cwd === undefined) cwd = process.cwd();\n        path = cwd;\n      }\n      assertPath(path); // Skip empty entries\n\n      if (path.length === 0) {\n        continue;\n      }\n\n      resolvedPath = path + '/' + resolvedPath;\n      resolvedAbsolute = path.charCodeAt(0) === 47\n      /*/*/\n      ;\n    } // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n    // Normalize the path\n\n\n    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0) return '/' + resolvedPath;else return '/';\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath;\n    } else {\n      return '.';\n    }\n  },\n  normalize: function normalize(path) {\n    assertPath(path);\n    if (path.length === 0) return '.';\n    var isAbsolute = path.charCodeAt(0) === 47\n    /*/*/\n    ;\n    var trailingSeparator = path.charCodeAt(path.length - 1) === 47\n    /*/*/\n    ; // Normalize the path\n\n    path = normalizeStringPosix(path, !isAbsolute);\n    if (path.length === 0 && !isAbsolute) path = '.';\n    if (path.length > 0 && trailingSeparator) path += '/';\n    if (isAbsolute) return '/' + path;\n    return path;\n  },\n  isAbsolute: function isAbsolute(path) {\n    assertPath(path);\n    return path.length > 0 && path.charCodeAt(0) === 47\n    /*/*/\n    ;\n  },\n  join: function join() {\n    if (arguments.length === 0) return '.';\n    var joined;\n\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      assertPath(arg);\n\n      if (arg.length > 0) {\n        if (joined === undefined) joined = arg;else joined += '/' + arg;\n      }\n    }\n\n    if (joined === undefined) return '.';\n    return posix.normalize(joined);\n  },\n  relative: function relative(from, to) {\n    assertPath(from);\n    assertPath(to);\n    if (from === to) return '';\n    from = posix.resolve(from);\n    to = posix.resolve(to);\n    if (from === to) return ''; // Trim any leading backslashes\n\n    var fromStart = 1;\n\n    for (; fromStart < from.length; ++fromStart) {\n      if (from.charCodeAt(fromStart) !== 47\n      /*/*/\n      ) break;\n    }\n\n    var fromEnd = from.length;\n    var fromLen = fromEnd - fromStart; // Trim any leading backslashes\n\n    var toStart = 1;\n\n    for (; toStart < to.length; ++toStart) {\n      if (to.charCodeAt(toStart) !== 47\n      /*/*/\n      ) break;\n    }\n\n    var toEnd = to.length;\n    var toLen = toEnd - toStart; // Compare paths to find the longest common path from root\n\n    var length = fromLen < toLen ? fromLen : toLen;\n    var lastCommonSep = -1;\n    var i = 0;\n\n    for (; i <= length; ++i) {\n      if (i === length) {\n        if (toLen > length) {\n          if (to.charCodeAt(toStart + i) === 47\n          /*/*/\n          ) {\n            // We get here if `from` is the exact base path for `to`.\n            // For example: from='/foo/bar'; to='/foo/bar/baz'\n            return to.slice(toStart + i + 1);\n          } else if (i === 0) {\n            // We get here if `from` is the root\n            // For example: from='/'; to='/foo'\n            return to.slice(toStart + i);\n          }\n        } else if (fromLen > length) {\n          if (from.charCodeAt(fromStart + i) === 47\n          /*/*/\n          ) {\n            // We get here if `to` is the exact base path for `from`.\n            // For example: from='/foo/bar/baz'; to='/foo/bar'\n            lastCommonSep = i;\n          } else if (i === 0) {\n            // We get here if `to` is the root.\n            // For example: from='/foo'; to='/'\n            lastCommonSep = 0;\n          }\n        }\n\n        break;\n      }\n\n      var fromCode = from.charCodeAt(fromStart + i);\n      var toCode = to.charCodeAt(toStart + i);\n      if (fromCode !== toCode) break;else if (fromCode === 47\n      /*/*/\n      ) lastCommonSep = i;\n    }\n\n    var out = ''; // Generate the relative path based on the path difference between `to`\n    // and `from`\n\n    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n      if (i === fromEnd || from.charCodeAt(i) === 47\n      /*/*/\n      ) {\n        if (out.length === 0) out += '..';else out += '/..';\n      }\n    } // Lastly, append the rest of the destination (`to`) path that comes after\n    // the common path parts\n\n\n    if (out.length > 0) return out + to.slice(toStart + lastCommonSep);else {\n      toStart += lastCommonSep;\n      if (to.charCodeAt(toStart) === 47\n      /*/*/\n      ) ++toStart;\n      return to.slice(toStart);\n    }\n  },\n  _makeLong: function _makeLong(path) {\n    return path;\n  },\n  dirname: function dirname(path) {\n    assertPath(path);\n    if (path.length === 0) return '.';\n    var code = path.charCodeAt(0);\n    var hasRoot = code === 47\n    /*/*/\n    ;\n    var end = -1;\n    var matchedSlash = true;\n\n    for (var i = path.length - 1; i >= 1; --i) {\n      code = path.charCodeAt(i);\n\n      if (code === 47\n      /*/*/\n      ) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n        // We saw the first non-path separator\n        matchedSlash = false;\n      }\n    }\n\n    if (end === -1) return hasRoot ? '/' : '.';\n    if (hasRoot && end === 1) return '//';\n    return path.slice(0, end);\n  },\n  basename: function basename(path, ext) {\n    if (ext !== undefined && typeof ext !== 'string') throw new TypeError('\"ext\" argument must be a string');\n    assertPath(path);\n    var start = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i;\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path) return '';\n      var extIdx = ext.length - 1;\n      var firstNonSlashEnd = -1;\n\n      for (i = path.length - 1; i >= 0; --i) {\n        var code = path.charCodeAt(i);\n\n        if (code === 47\n        /*/*/\n        ) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            start = i + 1;\n            break;\n          }\n        } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i;\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n\n      if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;\n      return path.slice(start, end);\n    } else {\n      for (i = path.length - 1; i >= 0; --i) {\n        if (path.charCodeAt(i) === 47\n        /*/*/\n        ) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            start = i + 1;\n            break;\n          }\n        } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false;\n          end = i + 1;\n        }\n      }\n\n      if (end === -1) return '';\n      return path.slice(start, end);\n    }\n  },\n  extname: function extname(path) {\n    assertPath(path);\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true; // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n\n    var preDotState = 0;\n\n    for (var i = path.length - 1; i >= 0; --i) {\n      var code = path.charCodeAt(i);\n\n      if (code === 47\n      /*/*/\n      ) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n\n        continue;\n      }\n\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n\n      if (code === 46\n      /*.*/\n      ) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 || // We saw a non-dot character immediately before the dot\n    preDotState === 0 || // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return '';\n    }\n\n    return path.slice(startDot, end);\n  },\n  format: function format(pathObject) {\n    if (pathObject === null || typeof pathObject !== 'object') {\n      throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof pathObject);\n    }\n\n    return _format('/', pathObject);\n  },\n  parse: function parse(path) {\n    assertPath(path);\n    var ret = {\n      root: '',\n      dir: '',\n      base: '',\n      ext: '',\n      name: ''\n    };\n    if (path.length === 0) return ret;\n    var code = path.charCodeAt(0);\n    var isAbsolute = code === 47\n    /*/*/\n    ;\n    var start;\n\n    if (isAbsolute) {\n      ret.root = '/';\n      start = 1;\n    } else {\n      start = 0;\n    }\n\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i = path.length - 1; // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n\n    var preDotState = 0; // Get non-dir info\n\n    for (; i >= start; --i) {\n      code = path.charCodeAt(i);\n\n      if (code === 47\n      /*/*/\n      ) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n\n        continue;\n      }\n\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n\n      if (code === 46\n      /*.*/\n      ) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 || // We saw a non-dot character immediately before the dot\n    preDotState === 0 || // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path.slice(1, startDot);\n        ret.base = path.slice(1, end);\n      } else {\n        ret.name = path.slice(startPart, startDot);\n        ret.base = path.slice(startPart, end);\n      }\n\n      ret.ext = path.slice(startDot, end);\n    }\n\n    if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = '/';\n    return ret;\n  },\n  sep: '/',\n  delimiter: ':',\n  win32: null,\n  posix: null\n};\nposix.posix = posix;\nmodule.exports = posix;","import React, { useRef, useState } from \"react\";\n\n// thx https://zenn.dev/uttk/articles/b90454baec68c8\n\ntype DnDMode = \"grid\" | \"topbottom\" | \"bottomtop\" | \"leftright\" | \"rightleft\";\n\nconst getClientCoordinates = (\n  event:\n    | MouseEvent\n    | TouchEvent\n    | React.MouseEvent<HTMLElement>\n    | React.TouchEvent<HTMLElement>\n): { clientX: number; clientY: number } | null => {\n  if (\"changedTouches\" in event && event.changedTouches?.length > 0) {\n    return {\n      clientX: event.changedTouches[0].clientX,\n      clientY: event.changedTouches[0].clientY,\n    };\n  } else if (\"clientX\" in event && \"clientY\" in event) {\n    return {\n      clientX: event.clientX,\n      clientY: event.clientY,\n    };\n  }\n  return null;\n};\n\nconst isHover = (\n  event: MouseEvent | TouchEvent,\n  element: HTMLElement,\n  mode: DnDMode = \"grid\",\n  index: number,\n  length: number\n): boolean => {\n  const coordinates = getClientCoordinates(event);\n  if (!coordinates) return false;\n  const { clientX, clientY } = coordinates;\n  const rect = element.getBoundingClientRect();\n\n  switch (mode) {\n    case \"topbottom\": {\n      return (\n        (clientY < rect.bottom ||\n          (index === length - 1 && clientY >= rect.bottom)) &&\n        (clientY > rect.top || (index === 0 && clientY <= rect.top))\n      );\n    }\n    case \"bottomtop\": {\n      return (\n        (clientY < rect.bottom || (index === 0 && clientY >= rect.bottom)) &&\n        (clientY > rect.top || (index === length - 1 && clientY <= rect.top))\n      );\n    }\n    case \"leftright\": {\n      return (\n        (clientX > rect.left || (index === 0 && clientX <= rect.left)) &&\n        (clientX < rect.right ||\n          (index === length - 1 && clientX >= rect.right))\n      );\n    }\n    case \"rightleft\": {\n      return (\n        (clientX > rect.left ||\n          (index === length - 1 && clientX <= rect.left)) &&\n        (clientX < rect.right || (index === 0 && clientX >= rect.right))\n      );\n    }\n    default: {\n      return (\n        clientY < rect.bottom &&\n        clientY > rect.top &&\n        clientX < rect.right &&\n        clientX > rect.left\n      );\n    }\n  }\n};\n\ninterface Position {\n  x: number;\n  y: number;\n}\n\ninterface DnDItem<T> {\n  value: T;\n  key: string;\n  position: Position;\n  element: HTMLElement;\n  index: number;\n}\n\ninterface DnDTarget<T> {\n  value: T;\n  index: number;\n}\n\ninterface DnDRef<T> {\n  keys: Map<T, string>;\n  dndItems: DnDItem<T>[];\n  canCheckHovered: boolean;\n  pointerPosition: Position;\n  dragItem: DnDItem<T> | null;\n  hoverItem: DnDTarget<T> | null;\n}\n\nexport interface DnDSortEvent {\n  onMouseDown: (event: React.MouseEvent<HTMLElement>) => void;\n  onTouchStart: (event: React.TouchEvent<HTMLElement>) => void;\n}\n\nexport interface DnDSortResult<T> {\n  key: string;\n  value: T;\n  ref: (element: HTMLElement | null) => void;\n  trigger: DnDSortEvent;\n  propagation: DnDSortEvent;\n}\n\nexport type Drop<T> = (draged: DnDTarget<T>, hovered: DnDTarget<T>) => void;\n\nexport interface DnDProps<T> {\n  defaultItems: T[];\n  mode: DnDMode;\n  zIndex?: number;\n  duration?: number;\n  drop?: Drop<T>;\n}\n\nconst getInitState = () => {\n  return {\n    dndItems: [],\n    keys: new Map(),\n    dragItem: null,\n    hoverItem: null,\n    canCheckHovered: true,\n    pointerPosition: { x: 0, y: 0 },\n  };\n};\n\nconst stopPropagation = (\n  event: React.MouseEvent<HTMLElement> | React.TouchEvent<HTMLElement>\n) => {\n  event.stopPropagation();\n};\n\nexport const useDnDSort = <T,>(\n  props: DnDProps<T>\n): { items: DnDSortResult<T>[]; reset: (items: T[]) => void } => {\n  const { mode, defaultItems, zIndex = 100, duration = 300, drop } = props;\n\n  const [items, setItems] = useState(defaultItems);\n\n  const state = useRef<DnDRef<T>>(getInitState());\n\n  const onMove = (event: MouseEvent | TouchEvent) => {\n    if (event.cancelable) event.preventDefault();\n\n    const coordinates = getClientCoordinates(event);\n    if (!coordinates) return;\n    const { clientX, clientY } = coordinates;\n\n    const { dndItems, dragItem, pointerPosition } = state.current;\n    if (!dragItem) return;\n\n    const x = clientX - pointerPosition.x;\n    const y = clientY - pointerPosition.y;\n\n    const dragStyle = dragItem.element.style;\n\n    dragStyle.zIndex = String(zIndex);\n    dragStyle.cursor = \"grabbing\";\n    dragStyle.transform = `translate(${x}px,${y}px)`;\n\n    if (!state.current.canCheckHovered) return;\n\n    state.current.canCheckHovered = false;\n    setTimeout(() => (state.current.canCheckHovered = true), 300);\n\n    const dragIndex = dndItems.findIndex(({ key }) => key === dragItem.key);\n\n    const hoveredIndex = dndItems.findIndex(\n      ({ element }, index) =>\n        index !== dragIndex &&\n        isHover(event, element, mode, index, dndItems.length)\n    );\n    if (hoveredIndex !== -1) {\n      state.current.hoverItem = {\n        index: hoveredIndex,\n        value: dndItems[hoveredIndex].value,\n      };\n      state.current.pointerPosition.x = clientX;\n      state.current.pointerPosition.y = clientY;\n      dndItems.splice(dragIndex, 1);\n      dndItems.splice(hoveredIndex, 0, dragItem);\n      const { left: x, top: y } = dragItem.element.getBoundingClientRect();\n      dragItem.position = { x, y };\n      setItems(dndItems.map(v => v.value));\n    }\n  };\n\n  const onEnd = () => {\n    const { dragItem, hoverItem } = state.current;\n    if (dragItem === null) return;\n    const dragStyle = dragItem.element.style;\n    dragStyle.zIndex = \"\";\n    dragStyle.cursor = \"\";\n    dragStyle.transform = \"\";\n    dragStyle.userSelect = \"\";\n    state.current.dragItem = null;\n    state.current.hoverItem = null;\n\n    if (window) {\n      window.removeEventListener(\"mouseup\", onEnd);\n      window.removeEventListener(\"mousemove\", onMove);\n      window.removeEventListener(\"touchend\", onEnd);\n      window.removeEventListener(\"touchmove\", onMove);\n    }\n    const draged = {\n      index: dragItem.index,\n      value: dragItem.value,\n    };\n    const hovered = hoverItem ?? draged;\n\n    if (drop) drop(draged, hovered);\n  };\n\n  const reset = React.useCallback((items: T[]) => {\n    state.current = getInitState();\n    setItems(items);\n  }, []);\n\n  return {\n    items: items.map((value: T, index: number): DnDSortResult<T> => {\n      const key = state.current.keys.get(value) || Math.random().toString(16);\n\n      state.current.keys.set(value, key);\n\n      const onStart = (\n        event: React.MouseEvent<HTMLElement> | React.TouchEvent<HTMLElement>\n      ) => {\n        const element = event.currentTarget;\n\n        const coordinates = getClientCoordinates(event);\n        if (!coordinates) return;\n        const { clientX, clientY } = coordinates;\n        state.current.pointerPosition.x = clientX;\n        state.current.pointerPosition.y = clientY;\n\n        const dragStyle = element.style;\n        dragStyle.transition = \"\";\n        dragStyle.cursor = \"grabbing\";\n        dragStyle.userSelect = \"none\";\n\n        const { left: x, top: y } = element.getBoundingClientRect();\n        const position: Position = { x, y };\n\n        state.current.dragItem = { key, value, element, position, index };\n        state.current.hoverItem = null;\n        if (window) {\n          window.addEventListener(\"mouseup\", onEnd);\n          window.addEventListener(\"mousemove\", onMove, { passive: false });\n          window.addEventListener(\"touchend\", onEnd);\n          window.addEventListener(\"touchmove\", onMove, { passive: false });\n        }\n      };\n\n      return {\n        value,\n        key,\n        ref: (element: HTMLElement | null) => {\n          if (!element) return;\n\n          const { dndItems, dragItem, pointerPosition } = state.current;\n\n          element.style.transform = \"\";\n          const { left: x, top: y } = element.getBoundingClientRect();\n          const position: Position = { x, y };\n\n          const itemIndex = dndItems.findIndex(item => item.key === key);\n\n          if (itemIndex === -1) {\n            return dndItems.push({\n              key,\n              value,\n              element,\n              position,\n              index: dndItems.length,\n            });\n          }\n\n          if (dragItem?.key === key) {\n            const dragX = dragItem.position.x - position.x;\n            const dragY = dragItem.position.y - position.y;\n            element.style.transform = `translate(${dragX}px,${dragY}px)`;\n\n            pointerPosition.x -= dragX;\n            pointerPosition.y -= dragY;\n          } else {\n            const item = dndItems[itemIndex];\n\n            const x = item.position.x - position.x;\n            const y = item.position.y - position.y;\n\n            element.style.transition = \"\";\n            element.style.transform = `translate(${x}px,${y}px)`;\n\n            requestAnimationFrame(() => {\n              if (dragItem) {\n                element.style.transition = `all ${duration}ms`;\n              }\n              element.style.transform = \"\";\n            });\n          }\n\n          state.current.dndItems[itemIndex] = {\n            key,\n            value,\n            element,\n            position,\n            index: itemIndex,\n          };\n        },\n        trigger: {\n          onMouseDown: onStart,\n          onTouchStart: onStart,\n        },\n        propagation: {\n          onMouseDown: stopPropagation,\n          onTouchStart: stopPropagation,\n        },\n      };\n    }),\n    reset,\n  };\n};\n","import SourceState from \"ol/source/State\";\nimport TileState from \"ol/TileState\";\nimport {\n    DEFAULT_MAX_ZOOM,\n    DEFAULT_TILE_SIZE\n} from \"ol/tilegrid/common\";\nimport {\n    getHeight,\n    getWidth,\n} from \"ol/extent\";\nimport {\n    ProjectionLike,\n    get as getCachedProjection,\n} from \"ol/proj\";\nimport ImageTile from \"ol/ImageTile\";\nimport Tile from \"ol/Tile\";\nimport { AttributionLike } from \"ol/source/Source\";\nimport TileGrid from \"ol/tilegrid/TileGrid\";\nimport TileImage from \"ol/source/TileImage\";\nimport { PROJECTIONS as EPSG4326_PROJECTIONS } from \"ol/proj/epsg4326\";\nimport { PROJECTIONS as EPSG3857_PROJECTIONS } from \"ol/proj/epsg3857\";\n\nconst HALF_WORLD_3857 = Math.PI * 6378137;\nconst EXTENT = {\n    3857: [-HALF_WORLD_3857, -HALF_WORLD_3857, HALF_WORLD_3857, HALF_WORLD_3857],\n    4326: [-180, -90, 180, 90],\n};\n\nfunction is4326(code?: string) {\n    return !!(EPSG4326_PROJECTIONS.find((projection) => {\n        return projection.getCode() === code\n    }))\n}\nfunction is3857(code?: string) {\n    return !!(EPSG3857_PROJECTIONS.find((projection) => {\n        return projection.getCode() === code\n    }))\n}\n\nexport const isSupportedCode = (code: string) => {\n    return is4326(code) || is3857(code);\n}\n\nfunction rotateExtent(extent: number[], rad: number): number[] {\n    const center = [(extent[2] - extent[0]) / 2 + extent[0], (extent[3] - extent[1]) / 2 + extent[1]];\n    const leftTop = [\n        (extent[0] - center[0]) * Math.cos(rad) - (extent[3] - center[1]) * Math.sin(rad),\n        (extent[0] - center[0]) * Math.sin(rad) + (extent[3] - center[1]) * Math.cos(rad),\n    ];\n    const leftBottom = [\n        (extent[0] - center[0]) * Math.cos(rad) - (extent[1] - center[1]) * Math.sin(rad),\n        (extent[0] - center[0]) * Math.sin(rad) + (extent[1] - center[1]) * Math.cos(rad),\n    ];\n    const rightBottom = [\n        (extent[2] - center[0]) * Math.cos(rad) - (extent[1] - center[1]) * Math.sin(rad),\n        (extent[2] - center[0]) * Math.sin(rad) + (extent[1] - center[1]) * Math.cos(rad),\n    ];\n    const rightTop = [\n        (extent[2] - center[0]) * Math.cos(rad) - (extent[3] - center[1]) * Math.sin(rad),\n        (extent[2] - center[0]) * Math.sin(rad) + (extent[3] - center[1]) * Math.cos(rad),\n    ];\n\n    return [\n        Math.min(leftTop[0], leftBottom[0], rightBottom[0], rightTop[0]) + center[0],\n        Math.min(leftTop[1], leftBottom[1], rightBottom[1], rightTop[1]) + center[1],\n        Math.max(leftTop[0], leftBottom[0], rightBottom[0], rightTop[0]) + center[0],\n        Math.max(leftTop[1], leftBottom[1], rightBottom[1], rightTop[1]) + center[1],\n    ];\n}\n\ninterface ResolutionsFromExtentOptions {\n    maxZoom?: number;\n    tileSize?: number;\n    maxResolution?: number;\n    sourceResolution?: number;\n}\nfunction resolutionsFromExtent(\n    extent: number[],\n    options?: ResolutionsFromExtentOptions\n): number[] {\n    const maxZoom = options?.maxZoom !== undefined ? options.maxZoom : DEFAULT_MAX_ZOOM;\n\n    const height = getHeight(extent);\n    const width = getWidth(extent);\n\n    const tileSize = options?.tileSize !== undefined ? options.tileSize : DEFAULT_TILE_SIZE;\n    const maxResolution =\n        options?.maxResolution && options.maxResolution > 0 ?\n            options.maxResolution :\n            Math.max(width / tileSize, height / tileSize);\n\n    const sourceResolution =\n        options?.sourceResolution && options.sourceResolution > 0 ? options.sourceResolution : 0;\n\n\n    const length = maxZoom + 1;\n    const resolutions: number[] = [];\n    for (let z = 0; z < length; ++z) {\n        const resolution = maxResolution / Math.pow(2, z);\n        if (resolution < sourceResolution) break;\n        resolutions.push(resolution);\n    }\n    return resolutions;\n}\n\nfunction getWindow(gridExtent: number[], z: number, x: number, y: number,): number[] {\n    const size = Math.max(gridExtent[2] - gridExtent[0], gridExtent[3] - gridExtent[1]) / (2 ** z);\n    const left = gridExtent[0] + x * size;\n    const top = gridExtent[3] - y * size;\n    const right = left + size;\n    const bottom = top - size;\n\n    return [left, top, right, bottom]\n}\n\nfunction crossing(extentLeft: number[], extentRight: number[]): boolean {\n    return Math.max(extentLeft[0], extentRight[0]) <= Math.min(extentLeft[2], extentRight[2]) &&\n        Math.max(extentLeft[1], extentRight[1]) <= Math.min(extentLeft[3], extentRight[3])\n}\n\n\n\nexport type GlobalProps = {\n    url: string;\n    imageExtent: number[];\n    projection: ProjectionLike;\n    rotate?: number;\n    minZoom?: number;\n    maxZoom?: number;\n    tileSize?: number;\n    attributions?: AttributionLike;\n    attributionsCollapsible?: boolean;\n    cacheSize?: number;\n    crossOrigin?: string | null;\n    interpolate?: boolean;\n    opaque?: boolean;\n    reprojectionErrorThreshold?: number;\n    tilePixelRatio?: number;\n    wrapX?: boolean;\n    transition?: number;\n};\n\nexport class Global extends TileImage {\n    private imageExtent_: number[];\n    private context_: CanvasRenderingContext2D | null;\n\n    constructor(userOptions: GlobalProps) {\n        const options = userOptions || {};\n        const tileSize = options.tileSize ? options.tileSize : DEFAULT_TILE_SIZE;\n\n        const projection = getCachedProjection(options.projection);\n        const code = projection?.getCode();\n        const gridExtent = is4326(code) ? EXTENT[4326] : is3857(code) ? EXTENT[3857] : null;\n        if (!projection || !gridExtent) throw new Error(\"Unsupported projection\");\n\n        const tileLoadFunction =\n            (imageTile: Tile, coordString: string) => {\n                const [z, x, y] = coordString.split(\",\").map(Number);\n                const canvas = document.createElement(\"canvas\");\n                const context = canvas.getContext(\"2d\");\n                const tempCanvas = document.createElement(\"canvas\");\n                const tempContext = tempCanvas.getContext(\"2d\");\n                if (!this.context_ || !context || !tempContext) {\n                    imageTile.setState(TileState.ERROR);\n                    return;\n                }\n                canvas.width = tileSize;\n                canvas.height = tileSize;\n\n                const window = getWindow(gridExtent, z, x, y);\n                let tileLeft = window[0];\n                let tileRight = window[2];\n                const tileTop = window[1];\n                const tileBottom = window[3];\n                const [\n                    imageExtentLeft, imageExtentBottom, imageExtentRight, imageExtentTop\n                ] = this.imageExtent_;\n\n                const extentWidth = gridExtent[2] - gridExtent[0];\n                if (imageExtentLeft < gridExtent[0] && 0 < tileRight) {\n                    tileLeft -= extentWidth;\n                    tileRight -= extentWidth;\n                } else if (gridExtent[2] < imageExtentRight && tileLeft < 0) {\n                    tileLeft += extentWidth;\n                    tileRight += extentWidth;\n                }\n\n                if (!crossing([\n                    imageExtentLeft, imageExtentBottom, imageExtentRight, imageExtentTop\n                ], [\n                    tileLeft, tileBottom, tileRight, tileTop\n                ])) {\n                    imageTile.setState(TileState.EMPTY);\n                }\n\n                const sourcePerPixel = [(imageExtentRight - imageExtentLeft) / this.context_.canvas.width, (imageExtentTop - imageExtentBottom) / this.context_.canvas.height];\n                const tilePerPixel = [(tileRight - tileLeft) / tileSize, (tileTop - tileBottom) / tileSize];\n                const leftBottom = [Math.max(tileLeft, imageExtentLeft), Math.max(imageExtentBottom, tileBottom)];\n                const rightTop = [Math.min(tileRight, imageExtentRight), Math.min(imageExtentTop, tileTop)];\n                const tileRect = [\n                    Math.round((leftBottom[0] - tileLeft) / tilePerPixel[0]), Math.round((tileTop - rightTop[1]) / tilePerPixel[1]),\n                    Math.round((rightTop[0] - tileLeft) / tilePerPixel[0]), Math.round((tileTop - leftBottom[1]) / tilePerPixel[1])\n                ];\n                const sourceRect = [\n                    Math.round((leftBottom[0] - imageExtentLeft) / sourcePerPixel[0]), Math.round((imageExtentTop - rightTop[1]) / sourcePerPixel[1]),\n                    Math.round((rightTop[0] - imageExtentLeft) / sourcePerPixel[0]), Math.round((imageExtentTop - leftBottom[1]) / sourcePerPixel[1])\n                ];\n                const sourceRectSize = [sourceRect[2] - sourceRect[0], sourceRect[3] - sourceRect[1]];\n                const tileRectSize = [tileRect[2] - tileRect[0], tileRect[3] - tileRect[1]];\n\n                if (Math.min(...sourceRectSize, ...tileRectSize) <= 0) {\n                    imageTile.setState(TileState.EMPTY);\n                    return\n                }\n                tempCanvas.width = sourceRectSize[0];\n                tempCanvas.height = sourceRectSize[1];\n                tempContext.clearRect(0, 0, sourceRectSize[0], sourceRectSize[1]);\n                tempContext.putImageData(this.context_.getImageData(sourceRect[0], sourceRect[1], sourceRectSize[0], sourceRectSize[1]), 0, 0);\n                context.drawImage(tempCanvas, 0, 0, sourceRectSize[0], sourceRectSize[1], tileRect[0], tileRect[1], tileRectSize[0], tileRectSize[1]);\n\n                const src = canvas.toDataURL();\n                ((imageTile as ImageTile).getImage() as HTMLImageElement).src = src;\n            };\n\n        const interpolate =\n            options.interpolate !== undefined ? options.interpolate : true;\n\n        super({\n            state: SourceState.LOADING,\n            attributions: options.attributions,\n            cacheSize: options.cacheSize,\n            crossOrigin: options.crossOrigin,\n            interpolate: interpolate,\n            opaque: options.opaque,\n            projection,\n            reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n            tileLoadFunction,\n            tilePixelRatio: options.tilePixelRatio,\n            url: \"{z},{x},{y}\",\n            wrapX: options.wrapX !== undefined ? options.wrapX : true,\n            transition: options.transition,\n            attributionsCollapsible: options.attributionsCollapsible,\n        });\n\n\n        this.imageExtent_ = [Infinity, Infinity, -Infinity, -Infinity];\n        if (Array.isArray(options.imageExtent) && options.imageExtent.length > 3) {\n            this.imageExtent_ = options.imageExtent;\n        }\n        const originExtentAspectRatio = (this.imageExtent_[2] - this.imageExtent_[0]) / (this.imageExtent_[3] - this.imageExtent_[1]);\n\n        const gridExtentWidth = gridExtent[2] - gridExtent[0];\n        const gridExtentHeight = gridExtent[3] - gridExtent[1];\n        if (\n            this.imageExtent_[0] < gridExtent[0] - gridExtentWidth / 2 || gridExtent[2] + gridExtentWidth / 2 < this.imageExtent_[0] ||\n            this.imageExtent_[1] < gridExtent[1] || gridExtent[3] < this.imageExtent_[1] ||\n            this.imageExtent_[2] < gridExtent[0] - gridExtentWidth / 2 || gridExtent[2] + gridExtentWidth / 2 < this.imageExtent_[2] ||\n            this.imageExtent_[3] < gridExtent[1] || gridExtent[3] < this.imageExtent_[3] ||\n            this.imageExtent_[2] <= this.imageExtent_[0] ||\n            this.imageExtent_[0] - this.imageExtent_[2] > gridExtentWidth\n        ) throw new Error(\"invalid extent.\");\n\n        let rad = 0;\n        if (options.rotate) {\n            rad = options.rotate;\n            this.imageExtent_ = rotateExtent(this.imageExtent_, rad)\n        }\n\n        const canvas = document.createElement(\"canvas\");\n        const context = canvas.getContext(\"2d\");\n        if (!context) {\n            this.context_ = null;\n            return;\n        }\n        context.imageSmoothingEnabled = interpolate;\n        this.context_ = context;\n\n        const image = new Image();\n        image.crossOrigin = options.crossOrigin || \"\";\n\n        image.addEventListener(\"load\", () => {\n            let imageWidth = image.width;\n            let imageHeight = image.height;\n\n            if (imageWidth < imageHeight) {\n                imageHeight = imageWidth / originExtentAspectRatio;\n            } else {\n                imageWidth = imageHeight * originExtentAspectRatio;\n            }\n\n            const rotatedCoordinates = rotateExtent([0, 0, imageWidth, imageHeight], rad);\n            const rotatedWidth = rotatedCoordinates[2] - rotatedCoordinates[0];\n            const rotatedHeight = rotatedCoordinates[3] - rotatedCoordinates[1];\n\n            const sourceResolution = Math.max(\n                (this.imageExtent_[2] - this.imageExtent_[0]) / rotatedWidth,\n                (this.imageExtent_[3] - this.imageExtent_[1]) / rotatedHeight\n            );\n            const maxResolution = Math.max(gridExtentWidth, gridExtentHeight) / tileSize;\n            const tileGrid = new TileGrid({\n                extent: gridExtent,\n                tileSize: tileSize,\n                minZoom: options.minZoom,\n                resolutions: resolutionsFromExtent(gridExtent, {\n                    maxZoom: options.maxZoom,\n                    tileSize: tileSize,\n                    maxResolution,\n                    sourceResolution,\n                }),\n            });\n            if (tileGrid) {\n                this.tileGrid = tileGrid;\n                canvas.width = rotatedWidth;\n                canvas.height = rotatedHeight;\n\n                context.save();\n                context.translate(rotatedWidth / 2, rotatedHeight / 2);\n                context.rotate(-rad);\n                context.drawImage(image, 0, 0, image.width, image.height, -imageWidth / 2, -imageHeight / 2, imageWidth, imageHeight);\n                context.restore();\n\n                this.setState(SourceState.READY);\n            } else {\n                this.setState(SourceState.ERROR);\n            }\n        });\n        image.addEventListener(\"error\", () => {\n            this.setState(SourceState.ERROR);\n        });\n\n        image.src = options.url;\n    }\n}","import SourceState from \"ol/source/State\";\nimport TileState from \"ol/TileState\";\nimport {\n    DEFAULT_MAX_ZOOM,\n    DEFAULT_TILE_SIZE\n} from \"ol/tilegrid/common\";\nimport {\n    getHeight,\n    getWidth,\n} from \"ol/extent\";\nimport {\n    ProjectionLike,\n    get as getCachedProjection,\n} from \"ol/proj\";\nimport ImageTile from \"ol/ImageTile\";\nimport Tile from \"ol/Tile\";\nimport { AttributionLike } from \"ol/source/Source\";\nimport TileGrid from \"ol/tilegrid/TileGrid\";\nimport TileImage from \"ol/source/TileImage\";\n\nfunction rotateExtent(extent: number[], rad: number): number[] {\n    const center = [(extent[2] - extent[0]) / 2 + extent[0], (extent[3] - extent[1]) / 2 + extent[1]];\n    const leftTop = [\n        (extent[0] - center[0]) * Math.cos(rad) - (extent[3] - center[1]) * Math.sin(rad),\n        (extent[0] - center[0]) * Math.sin(rad) + (extent[3] - center[1]) * Math.cos(rad),\n    ];\n    const leftBottom = [\n        (extent[0] - center[0]) * Math.cos(rad) - (extent[1] - center[1]) * Math.sin(rad),\n        (extent[0] - center[0]) * Math.sin(rad) + (extent[1] - center[1]) * Math.cos(rad),\n    ];\n    const rightBottom = [\n        (extent[2] - center[0]) * Math.cos(rad) - (extent[1] - center[1]) * Math.sin(rad),\n        (extent[2] - center[0]) * Math.sin(rad) + (extent[1] - center[1]) * Math.cos(rad),\n    ];\n    const rightTop = [\n        (extent[2] - center[0]) * Math.cos(rad) - (extent[3] - center[1]) * Math.sin(rad),\n        (extent[2] - center[0]) * Math.sin(rad) + (extent[3] - center[1]) * Math.cos(rad),\n    ];\n\n    return [\n        Math.min(leftTop[0], leftBottom[0], rightBottom[0], rightTop[0]) + center[0],\n        Math.min(leftTop[1], leftBottom[1], rightBottom[1], rightTop[1]) + center[1],\n        Math.max(leftTop[0], leftBottom[0], rightBottom[0], rightTop[0]) + center[0],\n        Math.max(leftTop[1], leftBottom[1], rightBottom[1], rightTop[1]) + center[1],\n    ];\n}\n\ninterface ResolutionsFromExtentOptions {\n    maxZoom?: number;\n    tileSize?: number;\n    maxResolution?: number;\n    sourceResolution?: number;\n}\nfunction resolutionsFromExtent(\n    extent: number[],\n    options?: ResolutionsFromExtentOptions\n): number[] {\n    const maxZoom = options?.maxZoom !== undefined ? options.maxZoom : DEFAULT_MAX_ZOOM;\n\n    const height = getHeight(extent);\n    const width = getWidth(extent);\n\n    const tileSize = options?.tileSize !== undefined ? options.tileSize : DEFAULT_TILE_SIZE;\n    const maxResolution =\n        options?.maxResolution && options.maxResolution > 0 ?\n            options.maxResolution :\n            Math.max(width / tileSize, height / tileSize);\n\n    const sourceResolution =\n        options?.sourceResolution && options.sourceResolution > 0 ? options.sourceResolution : 0;\n\n\n    const length = maxZoom + 1;\n    const resolutions: number[] = [];\n    for (let z = 0; z < length; ++z) {\n        const resolution = maxResolution / Math.pow(2, z);\n        if (resolution < sourceResolution) break;\n        resolutions.push(resolution);\n    }\n    return resolutions;\n}\n\nfunction getWindow(gridExtent: number[], z: number, x: number, y: number,): number[] {\n    const size = Math.max(gridExtent[2] - gridExtent[0], gridExtent[3] - gridExtent[1]) / (2 ** z);\n    const left = gridExtent[0] + x * size;\n    const top = gridExtent[3] - y * size;\n    const right = left + size;\n    const bottom = top - size;\n\n    return [left, top, right, bottom]\n}\n\nfunction crossing(extentLeft: number[], extentRight: number[]): boolean {\n    return Math.max(extentLeft[0], extentRight[0]) <= Math.min(extentLeft[2], extentRight[2]) &&\n        Math.max(extentLeft[1], extentRight[1]) <= Math.min(extentLeft[3], extentRight[3])\n}\n\nexport type RegionalProps = {\n    url: string;\n    imageExtent: number[];\n    projection: ProjectionLike;\n    rotate?: number;\n    minZoom?: number;\n    maxZoom?: number;\n    tileSize?: number;\n    attributions?: AttributionLike;\n    attributionsCollapsible?: boolean;\n    cacheSize?: number;\n    crossOrigin?: string | null;\n    interpolate?: boolean;\n    opaque?: boolean;\n    reprojectionErrorThreshold?: number;\n    tilePixelRatio?: number;\n    wrapX?: boolean;\n    transition?: number;\n};\n\nexport class Regional extends TileImage {\n    private imageExtent_: number[];\n    private context_: CanvasRenderingContext2D | null;\n\n    constructor(userOptions: RegionalProps) {\n        const options = userOptions || {};\n        const tileSize = options.tileSize ? options.tileSize : DEFAULT_TILE_SIZE;\n\n        const projection = getCachedProjection(options.projection);\n        if (!projection) throw new Error(\"projection is necessary.\");\n\n        let imageExtent = [Infinity, Infinity, -Infinity, -Infinity];\n        if (Array.isArray(options.imageExtent) && options.imageExtent.length > 3) {\n            imageExtent = options.imageExtent;\n        }\n        if (\n            imageExtent[2] <= imageExtent[0] || imageExtent[3] <= imageExtent[1]\n        ) throw new Error(\"invalid extent.\");\n        let rad = 0;\n        if (options.rotate) {\n            rad = options.rotate;\n            imageExtent = rotateExtent(imageExtent, rad)\n        }\n\n        const tileLoadFunction =\n            (imageTile: Tile, coordString: string) => {\n                const [z, x, y] = coordString.split(\",\").map(Number);\n                const canvas = document.createElement(\"canvas\");\n                const context = canvas.getContext(\"2d\");\n                const tempCanvas = document.createElement(\"canvas\");\n                const tempContext = tempCanvas.getContext(\"2d\");\n                if (!this.context_ || !context || !tempContext) {\n                    imageTile.setState(TileState.ERROR);\n                    return;\n                }\n                canvas.width = tileSize;\n                canvas.height = tileSize;\n\n                const window = getWindow(imageExtent, z, x, y);\n                const tileLeft = window[0];\n                const tileRight = window[2];\n                const tileTop = window[1];\n                const tileBottom = window[3];\n                const [\n                    imageExtentLeft, imageExtentBottom, imageExtentRight, imageExtentTop\n                ] = this.imageExtent_;\n\n\n                const sourcePerPixel = [(imageExtentRight - imageExtentLeft) / this.context_.canvas.width, (imageExtentTop - imageExtentBottom) / this.context_.canvas.height];\n                const tilePerPixel = [(tileRight - tileLeft) / tileSize, (tileTop - tileBottom) / tileSize];\n                const leftBottom = [Math.max(tileLeft, imageExtentLeft), Math.max(imageExtentBottom, tileBottom)];\n                const rightTop = [Math.min(tileRight, imageExtentRight), Math.min(imageExtentTop, tileTop)];\n                const tileRect = [\n                    Math.round((leftBottom[0] - tileLeft) / tilePerPixel[0]), Math.round((tileTop - rightTop[1]) / tilePerPixel[1]),\n                    Math.round((rightTop[0] - tileLeft) / tilePerPixel[0]), Math.round((tileTop - leftBottom[1]) / tilePerPixel[1])\n                ];\n                const sourceRect = [\n                    Math.round((leftBottom[0] - imageExtentLeft) / sourcePerPixel[0]), Math.round((imageExtentTop - rightTop[1]) / sourcePerPixel[1]),\n                    Math.round((rightTop[0] - imageExtentLeft) / sourcePerPixel[0]), Math.round((imageExtentTop - leftBottom[1]) / sourcePerPixel[1])\n                ];\n                const sourceRectSize = [sourceRect[2] - sourceRect[0], sourceRect[3] - sourceRect[1]];\n                const tileRectSize = [tileRect[2] - tileRect[0], tileRect[3] - tileRect[1]];\n\n                if (Math.min(...sourceRectSize, ...tileRectSize) <= 0) {\n                    imageTile.setState(TileState.EMPTY);\n                    return\n                }\n                tempCanvas.width = sourceRectSize[0];\n                tempCanvas.height = sourceRectSize[1];\n                tempContext.clearRect(0, 0, sourceRectSize[0], sourceRectSize[1]);\n                tempContext.putImageData(this.context_.getImageData(sourceRect[0], sourceRect[1], sourceRectSize[0], sourceRectSize[1]), 0, 0);\n                context.drawImage(tempCanvas, 0, 0, sourceRectSize[0], sourceRectSize[1], tileRect[0], tileRect[1], tileRectSize[0], tileRectSize[1]);\n\n                const src = canvas.toDataURL();\n                ((imageTile as ImageTile).getImage() as HTMLImageElement).src = src;\n            };\n\n        const interpolate =\n            options.interpolate !== undefined ? options.interpolate : true;\n\n        super({\n            state: SourceState.LOADING,\n            attributions: options.attributions,\n            cacheSize: options.cacheSize,\n            crossOrigin: options.crossOrigin,\n            interpolate: interpolate,\n            opaque: options.opaque,\n            projection,\n            reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n            tileLoadFunction,\n            tilePixelRatio: options.tilePixelRatio,\n            url: \"{z},{x},{y}\",\n            wrapX: options.wrapX !== undefined ? options.wrapX : true,\n            transition: options.transition,\n            attributionsCollapsible: options.attributionsCollapsible,\n        });\n\n        this.imageExtent_ = imageExtent;\n\n        const extentWidth = imageExtent[2] - imageExtent[0];\n        const extentHeight = imageExtent[3] - imageExtent[1];\n        const originExtentAspectRatio = extentWidth / extentHeight;\n\n\n        const canvas = document.createElement(\"canvas\");\n        const context = canvas.getContext(\"2d\");\n        if (!context) {\n            this.context_ = null;\n            return;\n        }\n        context.imageSmoothingEnabled = interpolate;\n        this.context_ = context;\n\n        const image = new Image();\n        image.crossOrigin = options.crossOrigin || \"\";\n\n        image.addEventListener(\"load\", () => {\n            let imageWidth = image.width;\n            let imageHeight = image.height;\n\n            if (imageWidth < imageHeight) {\n                imageHeight = imageWidth / originExtentAspectRatio;\n            } else {\n                imageWidth = imageHeight * originExtentAspectRatio;\n            }\n\n            const rotatedCoordinates = rotateExtent([0, 0, imageWidth, imageHeight], rad);\n            const rotatedWidth = rotatedCoordinates[2] - rotatedCoordinates[0];\n            const rotatedHeight = rotatedCoordinates[3] - rotatedCoordinates[1];\n\n            const sourceResolution = Math.max(\n                (this.imageExtent_[2] - this.imageExtent_[0]) / rotatedWidth,\n                (this.imageExtent_[3] - this.imageExtent_[1]) / rotatedHeight\n            );\n            const maxResolution = Math.max(extentWidth, extentHeight) / tileSize;\n            const tileGrid = new TileGrid({\n                extent: this.imageExtent_,\n                tileSize: tileSize,\n                minZoom: options.minZoom,\n                resolutions: resolutionsFromExtent(this.imageExtent_, {\n                    maxZoom: options.maxZoom,\n                    tileSize: tileSize,\n                    maxResolution,\n                    sourceResolution,\n                }),\n            });\n            if (tileGrid) {\n                this.tileGrid = tileGrid;\n                canvas.width = rotatedWidth;\n                canvas.height = rotatedHeight;\n\n                context.save();\n                context.translate(rotatedWidth / 2, rotatedHeight / 2);\n                context.rotate(-rad);\n                context.drawImage(image, 0, 0, image.width, image.height, -imageWidth / 2, -imageHeight / 2, imageWidth, imageHeight);\n                context.restore();\n\n                this.setState(SourceState.READY);\n            } else {\n                this.setState(SourceState.ERROR);\n            }\n        });\n        image.addEventListener(\"error\", () => {\n            this.setState(SourceState.ERROR);\n        });\n\n        image.src = options.url;\n    }\n}","import * as React from \"react\";\nimport { Helmet } from \"react-helmet-async\";\nimport { useForm, SubmitHandler, Controller } from \"react-hook-form\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport { join } from \"path-browserify\";\nimport {\n  Container,\n  Typography,\n  Stack,\n  Grid,\n  TextField,\n  Button,\n  RadioGroup,\n  Radio,\n  Tooltip,\n  FormControl,\n  FormControlLabel,\n  FormHelperText,\n} from \"@mui/material\";\nimport { styled } from \"@mui/system\";\n\nimport { Map } from \"ol\";\nimport SourceState from \"ol/source/State\";\nimport TileLayer from \"ol/layer/Tile\";\nimport { get as getProjection, transformExtent } from \"ol/proj\";\nimport MousePosition from \"ol/control/MousePosition\";\nimport proj4 from \"proj4\";\nimport { useOl } from \"~/hooks/useOl\";\nimport { useDnDSort } from \"~/hooks/useDnDSort\";\nimport { register as olRegister } from \"ol/proj/proj4\";\nimport { utils } from \"geo4326\";\n\nimport { Global, isSupportedCode } from \"~/scripts/ImageGrid/Global\";\nimport { Regional } from \"~/scripts/ImageGrid/Regional\";\nimport { rotate } from \"ol/coordinate\";\n\nconst Hint = styled(\"div\")({\n  fontSize: \"12px\",\n});\n\nconst EllipsisWrapper = styled(\"div\")({\n  overflow: \"hidden\",\n});\n\nconst EllipsisTypography = styled(Typography)({\n  overflow: \"hidden\",\n  whiteSpace: \"nowrap\",\n  textOverflow: \"ellipsis\",\n});\n\nconst LayerName = styled(EllipsisWrapper)({\n  flex: \"1 1 auto\",\n});\n\nconst LayerButton = styled(\"div\")({\n  flex: \"0 0 auto\",\n});\n\nconst StyledUl = styled(\"ul\")({\n  listStyle: \"none\",\n  margin: 0,\n  padding: 0,\n  \"& > li\": {\n    marginTop: \"5px\",\n    \"&:firstChild\": {\n      marginTop: 0,\n    },\n  },\n});\n\ntype Input = {\n  code: string;\n  type: string;\n  url: string;\n  files: FileList | string;\n  extent: string;\n  rotate: string;\n};\n\ntype SubmitProps = {\n  id: string;\n  source: Input;\n};\n\ntype FormError =\n  | \"Duplicate\"\n  | \"InvalidExtent\"\n  | \"ReversedExtent\"\n  | \"UnsupportedExtent\"\n  | \"FailedLoadSource\"\n  | \"UnsupportedCrs\";\n\ntype LayerConf = {\n  layer: TileLayer<Regional | Global>;\n  name: string;\n  id: string;\n};\n\nconst defaultSourceValue = {\n  code: \"EPSG:4326\",\n  type: \"file\",\n  files: \"\",\n  url: \"\",\n  extent: \"\",\n  rotate: \"0\",\n};\n\nconst Coordinates = styled(\"div\")({\n  position: \"absolute\",\n  top: 0,\n  left: 0,\n  padding: \"2px 4px\",\n  fontSize: 10,\n  pointerEvents: \"none\",\n});\n\nconst Viewer = (): React.ReactElement => {\n  const ol = useOl();\n  const wrapperRef = React.useRef<HTMLDivElement | null>(null);\n  const positionRef = React.useRef<HTMLDivElement | null>(null);\n  const [layerConfs, setLayerConfs] = React.useState<LayerConf[]>([]);\n  const [error, setError] = React.useState<FormError | null>(null);\n  const [loading, setLoading] = React.useState<boolean>();\n\n  const layerList = useDnDSort<LayerConf>({\n    defaultItems: [],\n    mode: \"topbottom\",\n    drop: (draged, hovered) => {\n      if (draged.index !== hovered.index)\n        setLayerConfs(prevList => {\n          if (\n            hovered.index < 0 ||\n            draged.index < 0 ||\n            draged.index > prevList.length - 1 ||\n            hovered.index > prevList.length - 1\n          ) {\n            return prevList;\n          }\n\n          const nextList = [...prevList];\n          const target = nextList[draged.index];\n          nextList.splice(draged.index, 1);\n          nextList.splice(hovered.index, 0, target);\n          return nextList;\n        });\n    },\n  });\n\n  const {\n    control,\n    handleSubmit,\n    register,\n    reset,\n    watch,\n    setValue,\n    formState: { errors },\n  } = useForm<Input>({\n    mode: \"onSubmit\",\n    criteriaMode: \"all\",\n    defaultValues: defaultSourceValue,\n  });\n\n  const removeLayer = React.useCallback(\n    (id: string) => {\n      setLayerConfs(layerConfs => {\n        const newLayerConfs = [...layerConfs];\n        const index = newLayerConfs.findIndex(layerConf => {\n          return id === layerConf.id;\n        });\n        const target = newLayerConfs[index];\n        if (target) {\n          if (ol.map) {\n            ol.map.removeLayer(target.layer);\n\n            newLayerConfs.splice(index, 1);\n            return newLayerConfs;\n          }\n        }\n        return newLayerConfs;\n      });\n    },\n    [ol.map]\n  );\n\n  const resetList = layerList.reset;\n  React.useEffect(() => {\n    let zIndex = 0;\n    layerConfs.forEach(({ layer }) => {\n      layer.setZIndex(zIndex++);\n    });\n\n    resetList([...layerConfs]);\n  }, [layerConfs, resetList]);\n\n  const setLayer = React.useCallback(\n    async (map: Map, id: string, source: Input) => {\n      setLoading(true);\n      let url = \"\";\n      let revoke = false;\n      let name = \"\";\n      const code = source.code;\n      const rotate = source.rotate.length > 0 ? parseFloat(source.rotate) : 0;\n      if (!getProjection(code)) {\n        try {\n          const crs = utils.getCrs(code);\n          proj4.defs(code, crs);\n        } catch {\n          setError(\"UnsupportedCrs\");\n          return;\n        }\n        olRegister(proj4);\n      }\n\n      const extent = source.extent.split(\",\").map(v => Number(v));\n      switch (source.type) {\n        case \"file\": {\n          if (!(source.files instanceof FileList)) break;\n\n          const file = source.files[0];\n          name = file.name;\n          url = URL.createObjectURL(file);\n          revoke = true;\n          break;\n        }\n        case \"url\": {\n          url = source.url;\n          name = url;\n          break;\n        }\n      }\n      let imageSource: Regional | Global | null = null;\n      try {\n        if (isSupportedCode(code)) {\n          imageSource = new Global({\n            projection: code,\n            url,\n            imageExtent: extent,\n            rotate: (rotate / 180) * Math.PI,\n            crossOrigin: \"anonymous\",\n            wrapX: true,\n          });\n        } else {\n          imageSource = new Regional({\n            projection: code,\n            url,\n            imageExtent: extent,\n            rotate: (rotate / 180) * Math.PI,\n            crossOrigin: \"anonymous\",\n            wrapX: true,\n          });\n        }\n      } catch {\n        setError(\"UnsupportedExtent\");\n        if (revoke) URL.revokeObjectURL(url);\n        setLoading(false);\n      }\n      if (imageSource) {\n        const source = imageSource;\n        const sourceState = source.getState();\n        const setting = () => {\n          const layer = new TileLayer({\n            source,\n          });\n          map.addLayer(layer);\n          setLayerConfs(layerConfs => {\n            return [\n              ...layerConfs,\n              {\n                id,\n                layer,\n                name,\n                error: null,\n              },\n            ];\n          });\n\n          const originExtent = extent;\n          if (originExtent) {\n            const transformed = transformExtent(\n              originExtent,\n              code,\n              \"EPSG:3857\"\n            );\n\n            if (transformed[0] > transformed[2])\n              transformed[2] += proj4(code, \"EPSG:3857\", [180, 0])[0] * 2;\n\n            map.getView().fit(transformed, {\n              padding: [40, 20, 40, 20],\n              maxZoom: 20,\n            });\n          }\n        };\n\n        if (sourceState === SourceState.READY) {\n          setting();\n          if (revoke) URL.revokeObjectURL(url);\n          setLoading(false);\n        } else {\n          const sourceListener = () => {\n            const sourceState = source.getState();\n            if (sourceState === SourceState.ERROR) {\n              source.removeEventListener(\"change\", sourceListener);\n              setError(\"FailedLoadSource\");\n              if (revoke) URL.revokeObjectURL(url);\n              setLoading(false);\n            }\n            if (sourceState === SourceState.READY) {\n              source.removeEventListener(\"change\", sourceListener);\n              setting();\n              if (revoke) URL.revokeObjectURL(url);\n              setLoading(false);\n            }\n          };\n          imageSource.addEventListener(\"change\", sourceListener);\n        }\n      }\n    },\n    []\n  );\n\n  const load = React.useCallback(\n    ({ source, id }: SubmitProps) => {\n      if (ol.map) setLayer(ol.map, id, source);\n    },\n    [ol.map, setLayer]\n  );\n\n  React.useEffect(() => {\n    if (loading === false) {\n      reset();\n    }\n  }, [loading, reset]);\n\n  const onSubmit: SubmitHandler<Input> = React.useCallback(\n    data => {\n      const extent = data.extent.split(\",\").map(v => Number(v));\n\n      for (let i = 0; i < extent.length; i++) {\n        const n = extent[i];\n        if (!(typeof n === \"number\" && n - n === 0)) {\n          setError(\"InvalidExtent\");\n          return;\n        }\n      }\n      if (extent[0] > extent[2] || extent[1] > extent[3]) {\n        setError(\"ReversedExtent\");\n        return;\n      }\n      let id = \"\";\n      switch (data.type) {\n        case \"file\": {\n          if (!(data.files instanceof FileList)) break;\n\n          const file = data.files[0];\n          id += file.name;\n          break;\n        }\n        case \"url\": {\n          const url = data.url;\n          id += url;\n          break;\n        }\n      }\n      id += extent.join(\",\");\n\n      const rotate = data.rotate.length > 0 ? data.rotate : 0;\n      id += \",\" + rotate;\n      if (id.length > 0) {\n        const index = layerConfs.findIndex(layerConf => {\n          return id === layerConf.id;\n        });\n        if (index >= 0) {\n          setError(\"Duplicate\");\n          return;\n        }\n        load({\n          id,\n          source: data,\n        });\n      }\n    },\n    [load, layerConfs]\n  );\n\n  const watcher = watch();\n  const sample = React.useCallback(() => {\n    reset();\n    setValue(\"code\", \"EPSG:4326\");\n    setValue(\"type\", \"url\");\n    setValue(\n      \"url\",\n      location.origin + join(location.pathname, \"../image/rect.png\")\n    );\n    setValue(\"extent\", \"0,0,10,10\");\n\n    setError(null);\n  }, [setValue, setError, reset]);\n\n  React.useEffect(() => {\n    let mousePositionControl: MousePosition | null = null;\n\n    if (ol.map && positionRef.current) {\n      mousePositionControl = new MousePosition({\n        coordinateFormat: coords => {\n          if (coords)\n            return `lon: ${coords[0].toFixed(4)}, lat: ${coords[1].toFixed(4)}`;\n          return \"\";\n        },\n        projection: \"EPSG:4326\",\n        className: \"\",\n        target: positionRef.current,\n      });\n      ol.map.addControl(mousePositionControl);\n    }\n    return () => {\n      if (ol.map && mousePositionControl) {\n        ol.map.removeControl(mousePositionControl);\n      }\n    };\n  }, [ol.map]);\n\n  return (\n    <>\n      <CssBaseline />\n      <Helmet>\n        <title>Display Image</title>\n        <meta name=\"description\" content=\"Display image on map.\" />\n        <link\n          rel=\"canonical\"\n          href=\"https://yonda-yonda.github.io/exmap/picture\"\n        />\n        <link\n          rel=\"icon\"\n          type=\"image/x-icon\"\n          href=\"https://github.githubassets.com/favicon.ico\"\n        />\n        <link\n          rel=\"stylesheet\"\n          href=\"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap\"\n        />\n        <meta name=\"twitter:card\" content=\"summary_large_image\" />\n        <meta name=\"twitter:title\" content=\"Display Image\" />\n        <meta\n          name=\"twitter:description\"\n          content=\"PNG JPEG GIF WEBP\"\n        />\n        <meta\n          property=\"og:url\"\n          content=\"https://yonda-yonda.github.io/exmap/picture\"\n        />\n        <meta\n          name=\"twitter:image\"\n          content=\"https://yonda-yonda.github.io/exmap/image/twitter_picture.png\"\n        />\n      </Helmet>\n      <Container>\n        <Typography variant=\"h2\" component=\"h1\">\n          Display Image\n        </Typography>\n        <Stack my={4} spacing={4}>\n          <div>\n            <Grid container spacing={2}>\n              <Grid item xs={9}>\n                <div style={{ position: \"relative\" }} ref={wrapperRef}>\n                  <div\n                    ref={ol.ref}\n                    style={{\n                      width: \"100%\",\n                      height: \"340px\",\n                    }}\n                  />\n                  <Coordinates ref={positionRef}></Coordinates>\n                </div>\n              </Grid>\n              <Grid item xs={3}>\n                {layerConfs.length > 0 ? (\n                  <StyledUl>\n                    {layerList.items.map(item => {\n                      return (\n                        <li key={item.key} ref={item.ref} {...item.trigger}>\n                          <Stack\n                            direction=\"row\"\n                            spacing={1}\n                            justifyContent=\"space-between\"\n                            alignItems=\"center\"\n                          >\n                            <LayerName>\n                              <Tooltip\n                                title={\n                                  <Typography\n                                    variant=\"caption\"\n                                    display=\"block\"\n                                    {...item.propagation}\n                                  >\n                                    {item.value.name}\n                                  </Typography>\n                                }\n                                arrow\n                                placement=\"left\"\n                              >\n                                <EllipsisTypography variant=\"body2\">\n                                  {item.value.name}\n                                </EllipsisTypography>\n                              </Tooltip>\n                            </LayerName>\n                            <LayerButton {...item.propagation}>\n                              <Button\n                                size=\"small\"\n                                variant=\"outlined\"\n                                onClick={() => {\n                                  removeLayer(item.value.id);\n                                }}\n                              >\n                                REMOVE\n                              </Button>\n                            </LayerButton>\n                          </Stack>\n                        </li>\n                      );\n                    })}\n                  </StyledUl>\n                ) : (\n                  <Typography>Nothing to display.</Typography>\n                )}\n              </Grid>\n            </Grid>\n          </div>\n          <div>\n            <form onSubmit={handleSubmit(onSubmit)}>\n              <Stack spacing={2}>\n                <div>\n                  <Button variant=\"outlined\" onClick={sample} size=\"small\">\n                    sample\n                  </Button>\n                </div>\n                <Controller\n                  control={control}\n                  name=\"type\"\n                  render={({ field }) => (\n                    <FormControl fullWidth>\n                      <RadioGroup row {...field}>\n                        <FormControlLabel\n                          value=\"file\"\n                          control={<Radio size=\"small\" />}\n                          label=\"Local File\"\n                        />\n                        <FormControlLabel\n                          value=\"url\"\n                          control={<Radio size=\"small\" />}\n                          label=\"URL\"\n                        />\n                      </RadioGroup>\n                    </FormControl>\n                  )}\n                />\n                {watcher.type === \"file\" && (\n                  <FormControl\n                    component=\"fieldset\"\n                    error={!!errors?.files}\n                    fullWidth\n                  >\n                    <input\n                      {...register(\"files\", {\n                        required: true,\n                        validate: {\n                          length: f => f instanceof FileList && f.length === 1,\n                        },\n                      })}\n                      disabled={loading}\n                      accept=\".webp,.png,.jpeg,.jpg,.gif,image/webp,image/png,image/jpeg,image/svg+xml,image/gif\"\n                      type=\"file\"\n                    />\n                    {errors?.files?.type === \"required\" && (\n                      <FormHelperText>\n                        Required. <br />\n                        \n                      </FormHelperText>\n                    )}\n                    {errors?.files?.type === \"length\" && (\n                      <FormHelperText>\n                        Required. <br />\n                        1\n                      </FormHelperText>\n                    )}\n                  </FormControl>\n                )}\n                {watcher.type === \"url\" && (\n                  <Controller\n                    control={control}\n                    name=\"url\"\n                    render={({ field, fieldState: { invalid, error } }) => (\n                      <FormControl\n                        component=\"fieldset\"\n                        error={invalid}\n                        fullWidth\n                      >\n                        <TextField\n                          {...field}\n                          label=\"url\"\n                          size=\"small\"\n                          error={invalid}\n                          placeholder=\"https://\"\n                          disabled={loading}\n                        />\n                        {error?.type === \"required\" && (\n                          <FormHelperText>\n                            Required. <br />\n                            \n                          </FormHelperText>\n                        )}\n                        {error?.type === \"pattern\" && (\n                          <FormHelperText>\n                            Not matched URL pattern.\n                            <br />\n                            URL\n                          </FormHelperText>\n                        )}\n                      </FormControl>\n                    )}\n                    rules={{\n                      required: true,\n                      pattern: /(^(https?):\\/\\/[^ \"]+$|(^http:\\/\\/localhost))/,\n                    }}\n                  />\n                )}\n                <Hint>support: .webp, .png, .jpeg, .jpg, .gif</Hint>\n                <Stack direction=\"row\" spacing={4} sx={{ mt: 2, mb: 1 }}>\n                  <Controller\n                    control={control}\n                    name=\"code\"\n                    render={({ field, fieldState: { invalid, error } }) => (\n                      <FormControl\n                        component=\"fieldset\"\n                        error={invalid}\n                        fullWidth\n                      >\n                        <TextField\n                          {...field}\n                          label=\"Code\"\n                          size=\"small\"\n                          error={invalid}\n                        />\n                        {error?.type === \"required\" && (\n                          <FormHelperText>\n                            Required. <br />\n                            \n                          </FormHelperText>\n                        )}\n                      </FormControl>\n                    )}\n                    rules={{\n                      required: true,\n                    }}\n                  />\n                  <Controller\n                    control={control}\n                    name=\"extent\"\n                    render={({ field, fieldState: { invalid, error } }) => (\n                      <FormControl\n                        component=\"fieldset\"\n                        error={invalid}\n                        fullWidth\n                      >\n                        <TextField\n                          {...field}\n                          label=\"Extent\"\n                          size=\"small\"\n                          error={invalid}\n                          placeholder=\"left, bottom, right, top\"\n                        />\n                        {error?.type === \"required\" && (\n                          <FormHelperText>\n                            Required. <br />\n                            \n                          </FormHelperText>\n                        )}\n                        {error?.type === \"pattern\" && (\n                          <FormHelperText>\n                            Must be left bottom and right top coordinates\n                            separated by commas.\n                            <br />\n                            ,,,\n                          </FormHelperText>\n                        )}\n                      </FormControl>\n                    )}\n                    rules={{\n                      required: true,\n                      pattern: /^(\\+|-|\\.|\\d|e|E|,|\\s)*$/,\n                    }}\n                  />\n                </Stack>\n                <Stack direction=\"row\" spacing={4} sx={{ mb: 1 }}>\n                  <Controller\n                    control={control}\n                    name=\"rotate\"\n                    render={({ field, fieldState: { invalid, error } }) => (\n                      <FormControl\n                        component=\"fieldset\"\n                        error={invalid}\n                        fullWidth\n                      >\n                        <TextField\n                          {...field}\n                          label=\"Rotate(degree)\"\n                          size=\"small\"\n                          error={invalid}\n                        />\n                        {error?.type === \"pattern\" && (\n                          <FormHelperText>\n                            must be a number. <br />\n                            \n                          </FormHelperText>\n                        )}\n                      </FormControl>\n                    )}\n                    rules={{\n                      pattern: /^((\\+|-){0,1}[1-9]\\d*|0)(\\.\\d+)?$/,\n                    }}\n                  />\n                </Stack>\n              </Stack>\n              <FormControl error={!!error} sx={{ mt: 3 }}>\n                <div>\n                  <Button\n                    variant=\"contained\"\n                    type=\"submit\"\n                    disabled={loading}\n                    onClick={() => {\n                      setError(null);\n                    }}\n                  >\n                    Add Layer\n                  </Button>\n                </div>\n                {error === \"Duplicate\" && (\n                  <FormHelperText sx={{ ml: 0 }}>\n                    Duplicate Layer. <br />\n                    \n                  </FormHelperText>\n                )}\n                {error === \"InvalidExtent\" && (\n                  <FormHelperText sx={{ ml: 0 }}>\n                    Extent includes Non-numbers. <br />\n                    Extent\n                  </FormHelperText>\n                )}\n                {error === \"ReversedExtent\" && (\n                  <FormHelperText sx={{ ml: 0 }}>\n                    Some values of Extent are reversed. <br />\n                    Extent\n                  </FormHelperText>\n                )}\n                {error === \"UnsupportedExtent\" && (\n                  <FormHelperText sx={{ ml: 0 }}>\n                    Some values of Extent are unsupported. <br />\n                    Extent\n                  </FormHelperText>\n                )}\n                {error === \"FailedLoadSource\" && (\n                  <FormHelperText sx={{ ml: 0 }}>\n                    Failed to load source. <br />\n                    \n                  </FormHelperText>\n                )}\n                {error === \"UnsupportedCrs\" && (\n                  <FormHelperText sx={{ ml: 0 }}>\n                    Unsupported CRS. <br />\n                    \n                  </FormHelperText>\n                )}\n              </FormControl>\n            </form>\n          </div>\n        </Stack>\n      </Container>\n    </>\n  );\n};\nexport default Viewer;\n"],"names":["getFormControlLabelUtilityClasses","slot","generateUtilityClass","_excluded","FormControlLabelRoot","styled","name","overridesResolver","props","styles","ownerState","concat","label","root","capitalize","labelPlacement","_ref2","theme","display","alignItems","cursor","verticalAlign","WebkitTapHighlightColor","marginLeft","marginRight","flexDirection","color","palette","text","disabled","inProps","ref","useThemeProps","className","_props$componentsProp","componentsProps","control","disabledProp","disableTypography","_props$labelPlacement","other","muiFormControl","useFormControl","controlProps","forEach","key","classes","slots","composeClasses","useUtilityClasses","children","type","Typography","component","typography","createSvgIcon","d","RadioButtonIconRoot","position","RadioButtonIconBackground","RadioButtonUnchecked","skipSx","transform","RadioButtonIconDot","RadioButtonChecked","_ref","left","transition","transitions","create","easing","easeIn","duration","shortest","checked","easeOut","_props$checked","_props$classes","fontSize","background","dot","getRadioUtilityClass","RadioRoot","SwitchBase","shouldForwardProp","prop","secondary","backgroundColor","action","active","main","hoverOpacity","defaultCheckedIcon","defaultIcon","_defaultIcon$props$fo","_defaultCheckedIcon$p","a","b","checkedProp","_props$checkedIcon","checkedIcon","_props$color","_props$icon","icon","nameProp","onChangeProp","onChange","_props$size","size","radioGroup","RadioGroupContext","createChainedFunction","value","String","getFormGroupUtilityClass","FormGroupRoot","row","flexWrap","_props$row","actions","defaultValue","valueProp","rootRef","_useControlled","useControlled","controlled","default","_useControlled2","setValueState","focus","input","current","querySelector","handleRef","useForkRef","useId","event","target","role","undefined","getSwitchBaseUtilityClass","SwitchBaseRoot","ButtonBase","padding","borderRadius","edge","SwitchBaseInput","opacity","width","height","top","margin","zIndex","autoFocus","defaultChecked","_props$disableFocusRi","disableFocusRipple","_props$edge","id","inputProps","inputRef","onBlur","onFocus","readOnly","required","tabIndex","Boolean","state","setCheckedState","hasLabelFor","centerRipple","focusRipple","nativeEvent","defaultPrevented","newChecked","_extendStatics","__extends","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","__","this","constructor","PROJECTION","COORDINATE_FORMAT","MousePosition","_super","opt_options","_this","options","element","document","createElement","render","on","once","un","addChangeListener","handleProjectionChanged_","coordinateFormat","setCoordinateFormat","projection","setProjection","renderOnMouseOut","placeholder","undefinedHTML","placeholder_","renderOnMouseOut_","renderedHTML_","innerHTML","mapProjection_","transform_","getCoordinateFormat","get","getProjection","handleMouseMove","map","getMap","updateHTML_","getEventPixel","handleMouseOut","setMap","viewport","getViewport","listenerKeys","push","format","set","pixel","html","coordinate","getCoordinateFromPixelInternal","userProjection","toString","mapEvent","frameState","viewState","assertPath","path","JSON","stringify","normalizeStringPosix","allowAboveRoot","code","res","lastSegmentLength","lastSlash","dots","i","length","charCodeAt","lastSlashIndex","lastIndexOf","slice","posix","resolve","cwd","resolvedPath","resolvedAbsolute","arguments","process","normalize","isAbsolute","trailingSeparator","join","joined","arg","relative","from","to","fromStart","fromEnd","fromLen","toStart","toLen","lastCommonSep","fromCode","out","_makeLong","dirname","hasRoot","end","matchedSlash","basename","ext","start","extIdx","firstNonSlashEnd","extname","startDot","startPart","preDotState","pathObject","sep","dir","base","_format","parse","ret","delimiter","win32","module","exports","getClientCoordinates","changedTouches","clientX","clientY","getInitState","dndItems","keys","Map","dragItem","hoverItem","canCheckHovered","pointerPosition","x","y","stopPropagation","useDnDSort","mode","defaultItems","drop","useState","items","setItems","useRef","onMove","cancelable","preventDefault","coordinates","dragStyle","style","setTimeout","dragIndex","findIndex","hoveredIndex","index","rect","getBoundingClientRect","bottom","right","isHover","splice","v","onEnd","userSelect","window","removeEventListener","draged","reset","React","Math","random","onStart","currentTarget","addEventListener","passive","itemIndex","item","dragX","dragY","requestAnimationFrame","trigger","onMouseDown","onTouchStart","propagation","HALF_WORLD_3857","PI","EXTENT","is4326","EPSG4326_PROJECTIONS","getCode","is3857","EPSG3857_PROJECTIONS","isSupportedCode","rotateExtent","extent","rad","center","leftTop","cos","sin","leftBottom","rightBottom","rightTop","min","max","resolutionsFromExtent","maxZoom","DEFAULT_MAX_ZOOM","getHeight","getWidth","tileSize","DEFAULT_TILE_SIZE","maxResolution","sourceResolution","resolutions","z","resolution","pow","Global","userOptions","getCachedProjection","gridExtent","Error","interpolate","SourceState","attributions","cacheSize","crossOrigin","opaque","reprojectionErrorThreshold","tileLoadFunction","imageTile","coordString","split","Number","canvas","context","getContext","tempCanvas","tempContext","context_","extentLeft","extentRight","getWindow","tileLeft","tileRight","tileTop","tileBottom","imageExtent_","imageExtentLeft","imageExtentBottom","imageExtentRight","imageExtentTop","extentWidth","setState","TileState","sourcePerPixel","tilePerPixel","tileRect","round","sourceRect","sourceRectSize","tileRectSize","clearRect","putImageData","getImageData","drawImage","src","toDataURL","getImage","tilePixelRatio","url","wrapX","attributionsCollapsible","Infinity","isArray","imageExtent","originExtentAspectRatio","gridExtentWidth","gridExtentHeight","rotate","imageSmoothingEnabled","image","Image","imageWidth","imageHeight","rotatedCoordinates","rotatedWidth","rotatedHeight","tileGrid","TileGrid","minZoom","save","translate","restore","TileImage","Regional","extentHeight","Hint","EllipsisWrapper","overflow","EllipsisTypography","whiteSpace","textOverflow","LayerName","flex","LayerButton","StyledUl","listStyle","marginTop","defaultSourceValue","files","Coordinates","pointerEvents","ol","useOl","wrapperRef","positionRef","layerConfs","setLayerConfs","error","setError","loading","setLoading","layerList","hovered","prevList","nextList","useForm","criteriaMode","defaultValues","handleSubmit","register","watch","setValue","errors","formState","removeLayer","newLayerConfs","layerConf","layer","resetList","setZIndex","setLayer","source","revoke","parseFloat","crs","utils","proj4","olRegister","FileList","file","URL","createObjectURL","imageSource","revokeObjectURL","sourceState","getState","setting","TileLayer","addLayer","originExtent","transformed","transformExtent","getView","fit","sourceListener","load","onSubmit","data","n","watcher","sample","location","origin","pathname","mousePositionControl","coords","toFixed","addControl","removeControl","CssBaseline","Helmet","content","rel","href","property","Container","variant","Stack","my","spacing","Grid","container","xs","direction","justifyContent","Tooltip","title","arrow","placement","Button","onClick","field","FormControl","fullWidth","RadioGroup","FormControlLabel","Radio","validate","f","accept","FormHelperText","fieldState","invalid","TextField","rules","pattern","sx","mt","mb","ml"],"sourceRoot":""}