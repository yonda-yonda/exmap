{"version":3,"file":"component---src-pages-picture-index-tsx-096a7f168e4b8ca02948.js","mappings":"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","sources":["webpack://exmap/./node_modules/@mui/material/FormControlLabel/formControlLabelClasses.js","webpack://exmap/./node_modules/@mui/material/FormControlLabel/FormControlLabel.js","webpack://exmap/./node_modules/@mui/material/internal/svg-icons/RadioButtonUnchecked.js","webpack://exmap/./node_modules/@mui/material/internal/svg-icons/RadioButtonChecked.js","webpack://exmap/./node_modules/@mui/material/Radio/RadioButtonIcon.js","webpack://exmap/./node_modules/@mui/material/Radio/radioClasses.js","webpack://exmap/./node_modules/@mui/material/Radio/Radio.js","webpack://exmap/./node_modules/@mui/material/RadioGroup/useRadioGroup.js","webpack://exmap/./node_modules/@mui/material/FormGroup/formGroupClasses.js","webpack://exmap/./node_modules/@mui/material/FormGroup/FormGroup.js","webpack://exmap/./node_modules/@mui/material/RadioGroup/RadioGroup.js","webpack://exmap/./node_modules/@mui/material/RadioGroup/RadioGroupContext.js","webpack://exmap/./node_modules/@mui/material/internal/switchBaseClasses.js","webpack://exmap/./node_modules/@mui/material/internal/SwitchBase.js","webpack://exmap/./node_modules/colormap/colorScale.js","webpack://exmap/./node_modules/colormap/index.js","webpack://exmap/./node_modules/geotiff/dist-module/globals.js","webpack://exmap/./node_modules/lerp/index.js","webpack://exmap/./node_modules/path-browserify/index.js","webpack://exmap/./src/scripts/ImageGrid/Global.ts","webpack://exmap/./src/scripts/ImageGrid/Regional.ts","webpack://exmap/./node_modules/geotiff/dist-module/rgb.js","webpack://exmap/./node_modules/geotiff/dist-module/compression/index.js","webpack://exmap/./node_modules/geotiff/dist-module/resample.js","webpack://exmap/./node_modules/geotiff/dist-module/geotiffimage.js","webpack://exmap/./node_modules/geotiff/dist-module/dataview64.js","webpack://exmap/./node_modules/geotiff/dist-module/dataslice.js","webpack://exmap/./node_modules/geotiff/dist-module/source/httputils.js","webpack://exmap/./node_modules/geotiff/dist-module/source/basesource.js","webpack://exmap/./node_modules/quick-lru/index.js","webpack://exmap/./node_modules/geotiff/dist-module/utils.js","webpack://exmap/./node_modules/geotiff/dist-module/source/blockedsource.js","webpack://exmap/./node_modules/geotiff/dist-module/source/client/base.js","webpack://exmap/./node_modules/geotiff/dist-module/source/client/fetch.js","webpack://exmap/./node_modules/geotiff/dist-module/source/client/xhr.js","webpack://exmap/./node_modules/geotiff/dist-module/source/client/http.js","webpack://exmap/./node_modules/geotiff/dist-module/source/remote.js","webpack://exmap/./node_modules/geotiff/dist-module/source/filereader.js","webpack://exmap/./node_modules/geotiff/dist-module/geotiff.js","webpack://exmap/./node_modules/geotiff/dist-module/pool.js","webpack://exmap/./src/scripts/GeotiffGrid/Reader.ts","webpack://exmap/./src/scripts/GeotiffGrid/Regional.ts","webpack://exmap/./src/pages/picture/index.tsx"],"sourcesContent":["import { generateUtilityClasses, generateUtilityClass } from '@mui/base';\nexport function getFormControlLabelUtilityClasses(slot) {\n  return generateUtilityClass('MuiFormControlLabel', slot);\n}\nvar formControlLabelClasses = generateUtilityClasses('MuiFormControlLabel', ['root', 'labelPlacementStart', 'labelPlacementTop', 'labelPlacementBottom', 'disabled', 'label']);\nexport default formControlLabelClasses;","import _defineProperty from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar _excluded = [\"checked\", \"className\", \"componentsProps\", \"control\", \"disabled\", \"disableTypography\", \"inputRef\", \"label\", \"labelPlacement\", \"name\", \"onChange\", \"value\"];\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { refType } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { useFormControl } from '../FormControl';\nimport Typography from '../Typography';\nimport capitalize from '../utils/capitalize';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport formControlLabelClasses, { getFormControlLabelUtilityClasses } from './formControlLabelClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar useUtilityClasses = function useUtilityClasses(ownerState) {\n  var classes = ownerState.classes,\n      disabled = ownerState.disabled,\n      labelPlacement = ownerState.labelPlacement;\n  var slots = {\n    root: ['root', disabled && 'disabled', \"labelPlacement\".concat(capitalize(labelPlacement))],\n    label: ['label', disabled && 'disabled']\n  };\n  return composeClasses(slots, getFormControlLabelUtilityClasses, classes);\n};\n\nexport var FormControlLabelRoot = styled('label', {\n  name: 'MuiFormControlLabel',\n  slot: 'Root',\n  overridesResolver: function overridesResolver(props, styles) {\n    var ownerState = props.ownerState;\n    return [_defineProperty({}, \"& .\".concat(formControlLabelClasses.label), styles.label), styles.root, styles[\"labelPlacement\".concat(capitalize(ownerState.labelPlacement))]];\n  }\n})(function (_ref2) {\n  var theme = _ref2.theme,\n      ownerState = _ref2.ownerState;\n  return _extends(_defineProperty({\n    display: 'inline-flex',\n    alignItems: 'center',\n    cursor: 'pointer',\n    // For correct alignment with the text.\n    verticalAlign: 'middle',\n    WebkitTapHighlightColor: 'transparent',\n    marginLeft: -11,\n    marginRight: 16\n  }, \"&.\".concat(formControlLabelClasses.disabled), {\n    cursor: 'default'\n  }), ownerState.labelPlacement === 'start' && {\n    flexDirection: 'row-reverse',\n    marginLeft: 16,\n    // used for row presentation of radio/checkbox\n    marginRight: -11\n  }, ownerState.labelPlacement === 'top' && {\n    flexDirection: 'column-reverse',\n    marginLeft: 16\n  }, ownerState.labelPlacement === 'bottom' && {\n    flexDirection: 'column',\n    marginLeft: 16\n  }, _defineProperty({}, \"& .\".concat(formControlLabelClasses.label), _defineProperty({}, \"&.\".concat(formControlLabelClasses.disabled), {\n    color: theme.palette.text.disabled\n  })));\n});\n/**\n * Drop-in replacement of the `Radio`, `Switch` and `Checkbox` component.\n * Use this component if you want to display an extra label.\n */\n\nvar FormControlLabel = /*#__PURE__*/React.forwardRef(function FormControlLabel(inProps, ref) {\n  var props = useThemeProps({\n    props: inProps,\n    name: 'MuiFormControlLabel'\n  });\n\n  var className = props.className,\n      _props$componentsProp = props.componentsProps,\n      componentsProps = _props$componentsProp === void 0 ? {} : _props$componentsProp,\n      control = props.control,\n      disabledProp = props.disabled,\n      disableTypography = props.disableTypography,\n      label = props.label,\n      _props$labelPlacement = props.labelPlacement,\n      labelPlacement = _props$labelPlacement === void 0 ? 'end' : _props$labelPlacement,\n      other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var muiFormControl = useFormControl();\n  var disabled = disabledProp;\n\n  if (typeof disabled === 'undefined' && typeof control.props.disabled !== 'undefined') {\n    disabled = control.props.disabled;\n  }\n\n  if (typeof disabled === 'undefined' && muiFormControl) {\n    disabled = muiFormControl.disabled;\n  }\n\n  var controlProps = {\n    disabled: disabled\n  };\n  ['checked', 'name', 'onChange', 'value', 'inputRef'].forEach(function (key) {\n    if (typeof control.props[key] === 'undefined' && typeof props[key] !== 'undefined') {\n      controlProps[key] = props[key];\n    }\n  });\n\n  var ownerState = _extends({}, props, {\n    disabled: disabled,\n    label: label,\n    labelPlacement: labelPlacement\n  });\n\n  var classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(FormControlLabelRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other, {\n    children: [/*#__PURE__*/React.cloneElement(control, controlProps), label.type === Typography || disableTypography ? label : /*#__PURE__*/_jsx(Typography, _extends({\n      component: \"span\",\n      className: classes.label\n    }, componentsProps.typography, {\n      children: label\n    }))]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default FormControlLabel;","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), 'RadioButtonUnchecked');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z\"\n}), 'RadioButtonChecked');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport RadioButtonUncheckedIcon from '../internal/svg-icons/RadioButtonUnchecked';\nimport RadioButtonCheckedIcon from '../internal/svg-icons/RadioButtonChecked';\nimport styled from '../styles/styled';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar RadioButtonIconRoot = styled('span')({\n  position: 'relative',\n  display: 'flex'\n});\nvar RadioButtonIconBackground = styled(RadioButtonUncheckedIcon, {\n  skipSx: true\n})({\n  // Scale applied to prevent dot misalignment in Safari\n  transform: 'scale(1)'\n});\nvar RadioButtonIconDot = styled(RadioButtonCheckedIcon, {\n  skipSx: true\n})(function (_ref) {\n  var theme = _ref.theme,\n      ownerState = _ref.ownerState;\n  return _extends({\n    left: 0,\n    position: 'absolute',\n    transform: 'scale(0)',\n    transition: theme.transitions.create('transform', {\n      easing: theme.transitions.easing.easeIn,\n      duration: theme.transitions.duration.shortest\n    })\n  }, ownerState.checked && {\n    transform: 'scale(1)',\n    transition: theme.transitions.create('transform', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.shortest\n    })\n  });\n});\n/**\n * @ignore - internal component.\n */\n\nfunction RadioButtonIcon(props) {\n  var _props$checked = props.checked,\n      checked = _props$checked === void 0 ? false : _props$checked,\n      _props$classes = props.classes,\n      classes = _props$classes === void 0 ? {} : _props$classes,\n      fontSize = props.fontSize;\n\n  var ownerState = _extends({}, props, {\n    checked: checked\n  });\n\n  return /*#__PURE__*/_jsxs(RadioButtonIconRoot, {\n    className: classes.root,\n    ownerState: ownerState,\n    children: [/*#__PURE__*/_jsx(RadioButtonIconBackground, {\n      fontSize: fontSize,\n      className: classes.background,\n      ownerState: ownerState\n    }), /*#__PURE__*/_jsx(RadioButtonIconDot, {\n      fontSize: fontSize,\n      className: classes.dot,\n      ownerState: ownerState\n    })]\n  });\n}\n\nprocess.env.NODE_ENV !== \"production\" ? RadioButtonIcon.propTypes = {\n  /**\n   * If `true`, the component is checked.\n   */\n  checked: PropTypes.bool,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * The size of the component.\n   * `small` is equivalent to the dense radio styling.\n   */\n  fontSize: PropTypes.oneOf(['small', 'medium'])\n} : void 0;\nexport default RadioButtonIcon;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getRadioUtilityClass(slot) {\n  return generateUtilityClass('MuiRadio', slot);\n}\nvar radioClasses = generateUtilityClasses('MuiRadio', ['root', 'checked', 'disabled', 'colorPrimary', 'colorSecondary']);\nexport default radioClasses;","import _defineProperty from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar _excluded = [\"checked\", \"checkedIcon\", \"color\", \"icon\", \"name\", \"onChange\", \"size\"];\nimport * as React from 'react';\nimport { refType } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { alpha } from '@mui/system';\nimport SwitchBase from '../internal/SwitchBase';\nimport useThemeProps from '../styles/useThemeProps';\nimport RadioButtonIcon from './RadioButtonIcon';\nimport capitalize from '../utils/capitalize';\nimport createChainedFunction from '../utils/createChainedFunction';\nimport useRadioGroup from '../RadioGroup/useRadioGroup';\nimport radioClasses, { getRadioUtilityClass } from './radioClasses';\nimport styled, { rootShouldForwardProp } from '../styles/styled';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar useUtilityClasses = function useUtilityClasses(ownerState) {\n  var classes = ownerState.classes,\n      color = ownerState.color;\n  var slots = {\n    root: ['root', \"color\".concat(capitalize(color))]\n  };\n  return _extends({}, classes, composeClasses(slots, getRadioUtilityClass, classes));\n};\n\nvar RadioRoot = styled(SwitchBase, {\n  shouldForwardProp: function shouldForwardProp(prop) {\n    return rootShouldForwardProp(prop) || prop === 'classes';\n  },\n  name: 'MuiRadio',\n  slot: 'Root',\n  overridesResolver: function overridesResolver(props, styles) {\n    var ownerState = props.ownerState;\n    return [styles.root, styles[\"color\".concat(capitalize(ownerState.color))]];\n  }\n})(function (_ref) {\n  var theme = _ref.theme,\n      ownerState = _ref.ownerState;\n  return _extends({\n    color: theme.palette.text.secondary,\n    '&:hover': {\n      backgroundColor: alpha(ownerState.color === 'default' ? theme.palette.action.active : theme.palette[ownerState.color].main, theme.palette.action.hoverOpacity),\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        backgroundColor: 'transparent'\n      }\n    }\n  }, ownerState.color !== 'default' && _defineProperty({}, \"&.\".concat(radioClasses.checked), {\n    color: theme.palette[ownerState.color].main\n  }), _defineProperty({}, \"&.\".concat(radioClasses.disabled), {\n    color: theme.palette.action.disabled\n  }));\n});\n\nfunction areEqualValues(a, b) {\n  if (typeof b === 'object' && b !== null) {\n    return a === b;\n  } // The value could be a number, the DOM will stringify it anyway.\n\n\n  return String(a) === String(b);\n}\n\nvar defaultCheckedIcon = /*#__PURE__*/_jsx(RadioButtonIcon, {\n  checked: true\n});\n\nvar defaultIcon = /*#__PURE__*/_jsx(RadioButtonIcon, {});\n\nvar Radio = /*#__PURE__*/React.forwardRef(function Radio(inProps, ref) {\n  var _defaultIcon$props$fo, _defaultCheckedIcon$p;\n\n  var props = useThemeProps({\n    props: inProps,\n    name: 'MuiRadio'\n  });\n\n  var checkedProp = props.checked,\n      _props$checkedIcon = props.checkedIcon,\n      checkedIcon = _props$checkedIcon === void 0 ? defaultCheckedIcon : _props$checkedIcon,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'primary' : _props$color,\n      _props$icon = props.icon,\n      icon = _props$icon === void 0 ? defaultIcon : _props$icon,\n      nameProp = props.name,\n      onChangeProp = props.onChange,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var ownerState = _extends({}, props, {\n    color: color,\n    size: size\n  });\n\n  var classes = useUtilityClasses(ownerState);\n  var radioGroup = useRadioGroup();\n  var checked = checkedProp;\n  var onChange = createChainedFunction(onChangeProp, radioGroup && radioGroup.onChange);\n  var name = nameProp;\n\n  if (radioGroup) {\n    if (typeof checked === 'undefined') {\n      checked = areEqualValues(radioGroup.value, props.value);\n    }\n\n    if (typeof name === 'undefined') {\n      name = radioGroup.name;\n    }\n  }\n\n  return /*#__PURE__*/_jsx(RadioRoot, _extends({\n    type: \"radio\",\n    icon: /*#__PURE__*/React.cloneElement(icon, {\n      fontSize: (_defaultIcon$props$fo = defaultIcon.props.fontSize) != null ? _defaultIcon$props$fo : size\n    }),\n    checkedIcon: /*#__PURE__*/React.cloneElement(checkedIcon, {\n      fontSize: (_defaultCheckedIcon$p = defaultCheckedIcon.props.fontSize) != null ? _defaultCheckedIcon$p : size\n    }),\n    ownerState: ownerState,\n    classes: classes,\n    name: name,\n    checked: checked,\n    onChange: onChange,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default Radio;","import * as React from 'react';\nimport RadioGroupContext from './RadioGroupContext';\nexport default function useRadioGroup() {\n  return React.useContext(RadioGroupContext);\n}","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getFormGroupUtilityClass(slot) {\n  return generateUtilityClass('MuiFormGroup', slot);\n}\nvar formGroupClasses = generateUtilityClasses('MuiFormGroup', ['root', 'row']);\nexport default formGroupClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar _excluded = [\"className\", \"row\"];\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getFormGroupUtilityClass } from './formGroupClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar useUtilityClasses = function useUtilityClasses(ownerState) {\n  var classes = ownerState.classes,\n      row = ownerState.row;\n  var slots = {\n    root: ['root', row && 'row']\n  };\n  return composeClasses(slots, getFormGroupUtilityClass, classes);\n};\n\nvar FormGroupRoot = styled('div', {\n  name: 'MuiFormGroup',\n  slot: 'Root',\n  overridesResolver: function overridesResolver(props, styles) {\n    var ownerState = props.ownerState;\n    return [styles.root, ownerState.row && styles.row];\n  }\n})(function (_ref) {\n  var ownerState = _ref.ownerState;\n  return _extends({\n    display: 'flex',\n    flexDirection: 'column',\n    flexWrap: 'wrap'\n  }, ownerState.row && {\n    flexDirection: 'row'\n  });\n});\n/**\n * `FormGroup` wraps controls such as `Checkbox` and `Switch`.\n * It provides compact row layout.\n * For the `Radio`, you should be using the `RadioGroup` component instead of this one.\n */\n\nvar FormGroup = /*#__PURE__*/React.forwardRef(function FormGroup(inProps, ref) {\n  var props = useThemeProps({\n    props: inProps,\n    name: 'MuiFormGroup'\n  });\n\n  var className = props.className,\n      _props$row = props.row,\n      row = _props$row === void 0 ? false : _props$row,\n      other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var ownerState = _extends({}, props, {\n    row: row\n  });\n\n  var classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(FormGroupRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default FormGroup;","import _slicedToArray from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"actions\", \"children\", \"defaultValue\", \"name\", \"onChange\", \"value\"];\nimport * as React from 'react';\nimport FormGroup from '../FormGroup';\nimport useForkRef from '../utils/useForkRef';\nimport useControlled from '../utils/useControlled';\nimport RadioGroupContext from './RadioGroupContext';\nimport useId from '../utils/useId';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar RadioGroup = /*#__PURE__*/React.forwardRef(function RadioGroup(props, ref) {\n  var actions = props.actions,\n      children = props.children,\n      defaultValue = props.defaultValue,\n      nameProp = props.name,\n      onChange = props.onChange,\n      valueProp = props.value,\n      other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var rootRef = React.useRef(null);\n\n  var _useControlled = useControlled({\n    controlled: valueProp,\n    default: defaultValue,\n    name: 'RadioGroup'\n  }),\n      _useControlled2 = _slicedToArray(_useControlled, 2),\n      value = _useControlled2[0],\n      setValueState = _useControlled2[1];\n\n  React.useImperativeHandle(actions, function () {\n    return {\n      focus: function focus() {\n        var input = rootRef.current.querySelector('input:not(:disabled):checked');\n\n        if (!input) {\n          input = rootRef.current.querySelector('input:not(:disabled)');\n        }\n\n        if (input) {\n          input.focus();\n        }\n      }\n    };\n  }, []);\n  var handleRef = useForkRef(ref, rootRef);\n\n  var handleChange = function handleChange(event) {\n    setValueState(event.target.value);\n\n    if (onChange) {\n      onChange(event, event.target.value);\n    }\n  };\n\n  var name = useId(nameProp);\n  return /*#__PURE__*/_jsx(RadioGroupContext.Provider, {\n    value: {\n      name: name,\n      onChange: handleChange,\n      value: value\n    },\n    children: /*#__PURE__*/_jsx(FormGroup, _extends({\n      role: \"radiogroup\",\n      ref: handleRef\n    }, other, {\n      children: children\n    }))\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default RadioGroup;","import * as React from 'react';\n/**\n * @ignore - internal component.\n */\n\nvar RadioGroupContext = /*#__PURE__*/React.createContext(undefined);\n\nif (process.env.NODE_ENV !== 'production') {\n  RadioGroupContext.displayName = 'RadioGroupContext';\n}\n\nexport default RadioGroupContext;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getSwitchBaseUtilityClass(slot) {\n  return generateUtilityClass('PrivateSwitchBase', slot);\n}\nvar switchBaseClasses = generateUtilityClasses('PrivateSwitchBase', ['root', 'checked', 'disabled', 'input', 'edgeStart', 'edgeEnd']);\nexport default switchBaseClasses;","import _slicedToArray from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar _excluded = [\"autoFocus\", \"checked\", \"checkedIcon\", \"className\", \"defaultChecked\", \"disabled\", \"disableFocusRipple\", \"edge\", \"icon\", \"id\", \"inputProps\", \"inputRef\", \"name\", \"onBlur\", \"onChange\", \"onFocus\", \"readOnly\", \"required\", \"tabIndex\", \"type\", \"value\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { refType } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport capitalize from '../utils/capitalize';\nimport styled from '../styles/styled';\nimport useControlled from '../utils/useControlled';\nimport useFormControl from '../FormControl/useFormControl';\nimport ButtonBase from '../ButtonBase';\nimport { getSwitchBaseUtilityClass } from './switchBaseClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar useUtilityClasses = function useUtilityClasses(ownerState) {\n  var classes = ownerState.classes,\n      checked = ownerState.checked,\n      disabled = ownerState.disabled,\n      edge = ownerState.edge;\n  var slots = {\n    root: ['root', checked && 'checked', disabled && 'disabled', edge && \"edge\".concat(capitalize(edge))],\n    input: ['input']\n  };\n  return composeClasses(slots, getSwitchBaseUtilityClass, classes);\n};\n\nvar SwitchBaseRoot = styled(ButtonBase, {\n  skipSx: true\n})(function (_ref) {\n  var ownerState = _ref.ownerState;\n  return _extends({\n    padding: 9,\n    borderRadius: '50%'\n  }, ownerState.edge === 'start' && {\n    marginLeft: ownerState.size === 'small' ? -3 : -12\n  }, ownerState.edge === 'end' && {\n    marginRight: ownerState.size === 'small' ? -3 : -12\n  });\n});\nvar SwitchBaseInput = styled('input', {\n  skipSx: true\n})({\n  cursor: 'inherit',\n  position: 'absolute',\n  opacity: 0,\n  width: '100%',\n  height: '100%',\n  top: 0,\n  left: 0,\n  margin: 0,\n  padding: 0,\n  zIndex: 1\n});\n/**\n * @ignore - internal component.\n */\n\nvar SwitchBase = /*#__PURE__*/React.forwardRef(function SwitchBase(props, ref) {\n  var autoFocus = props.autoFocus,\n      checkedProp = props.checked,\n      checkedIcon = props.checkedIcon,\n      className = props.className,\n      defaultChecked = props.defaultChecked,\n      disabledProp = props.disabled,\n      _props$disableFocusRi = props.disableFocusRipple,\n      disableFocusRipple = _props$disableFocusRi === void 0 ? false : _props$disableFocusRi,\n      _props$edge = props.edge,\n      edge = _props$edge === void 0 ? false : _props$edge,\n      icon = props.icon,\n      id = props.id,\n      inputProps = props.inputProps,\n      inputRef = props.inputRef,\n      name = props.name,\n      onBlur = props.onBlur,\n      onChange = props.onChange,\n      onFocus = props.onFocus,\n      readOnly = props.readOnly,\n      required = props.required,\n      tabIndex = props.tabIndex,\n      type = props.type,\n      value = props.value,\n      other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var _useControlled = useControlled({\n    controlled: checkedProp,\n    default: Boolean(defaultChecked),\n    name: 'SwitchBase',\n    state: 'checked'\n  }),\n      _useControlled2 = _slicedToArray(_useControlled, 2),\n      checked = _useControlled2[0],\n      setCheckedState = _useControlled2[1];\n\n  var muiFormControl = useFormControl();\n\n  var handleFocus = function handleFocus(event) {\n    if (onFocus) {\n      onFocus(event);\n    }\n\n    if (muiFormControl && muiFormControl.onFocus) {\n      muiFormControl.onFocus(event);\n    }\n  };\n\n  var handleBlur = function handleBlur(event) {\n    if (onBlur) {\n      onBlur(event);\n    }\n\n    if (muiFormControl && muiFormControl.onBlur) {\n      muiFormControl.onBlur(event);\n    }\n  };\n\n  var handleInputChange = function handleInputChange(event) {\n    // Workaround for https://github.com/facebook/react/issues/9023\n    if (event.nativeEvent.defaultPrevented) {\n      return;\n    }\n\n    var newChecked = event.target.checked;\n    setCheckedState(newChecked);\n\n    if (onChange) {\n      // TODO v6: remove the second argument.\n      onChange(event, newChecked);\n    }\n  };\n\n  var disabled = disabledProp;\n\n  if (muiFormControl) {\n    if (typeof disabled === 'undefined') {\n      disabled = muiFormControl.disabled;\n    }\n  }\n\n  var hasLabelFor = type === 'checkbox' || type === 'radio';\n\n  var ownerState = _extends({}, props, {\n    checked: checked,\n    disabled: disabled,\n    disableFocusRipple: disableFocusRipple,\n    edge: edge\n  });\n\n  var classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(SwitchBaseRoot, _extends({\n    component: \"span\",\n    className: clsx(classes.root, className),\n    centerRipple: true,\n    focusRipple: !disableFocusRipple,\n    disabled: disabled,\n    tabIndex: null,\n    role: undefined,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    ownerState: ownerState,\n    ref: ref\n  }, other, {\n    children: [/*#__PURE__*/_jsx(SwitchBaseInput, _extends({\n      autoFocus: autoFocus,\n      checked: checkedProp,\n      defaultChecked: defaultChecked,\n      className: classes.input,\n      disabled: disabled,\n      id: hasLabelFor && id,\n      name: name,\n      onChange: handleInputChange,\n      readOnly: readOnly,\n      ref: inputRef,\n      required: required,\n      ownerState: ownerState,\n      tabIndex: tabIndex,\n      type: type\n    }, type === 'checkbox' && value === undefined ? {} : {\n      value: value\n    }, inputProps)), checked ? checkedIcon : icon]\n  }));\n}); // NB: If changed, please update Checkbox, Switch and Radio\n// so that the API documentation is updated.\n\nprocess.env.NODE_ENV !== \"production\" ? SwitchBase.propTypes = {\n  /**\n   * If `true`, the `input` element is focused during the first mount.\n   */\n  autoFocus: PropTypes.bool,\n\n  /**\n   * If `true`, the component is checked.\n   */\n  checked: PropTypes.bool,\n\n  /**\n   * The icon to display when the component is checked.\n   */\n  checkedIcon: PropTypes.node.isRequired,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  defaultChecked: PropTypes.bool,\n\n  /**\n   * If `true`, the component is disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the  keyboard focus ripple is disabled.\n   * @default false\n   */\n  disableFocusRipple: PropTypes.bool,\n\n  /**\n   * If given, uses a negative margin to counteract the padding on one\n   * side (this is often helpful for aligning the left or right\n   * side of the icon with content above or below, without ruining the border\n   * size and shape).\n   * @default false\n   */\n  edge: PropTypes.oneOf(['end', 'start', false]),\n\n  /**\n   * The icon to display when the component is unchecked.\n   */\n  icon: PropTypes.node.isRequired,\n\n  /**\n   * The id of the `input` element.\n   */\n  id: PropTypes.string,\n\n  /**\n   * [Attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Attributes) applied to the `input` element.\n   */\n  inputProps: PropTypes.object,\n\n  /**\n   * Pass a ref to the `input` element.\n   */\n  inputRef: refType,\n\n  /*\n   * @ignore\n   */\n  name: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * Callback fired when the state is changed.\n   *\n   * @param {object} event The event source of the callback.\n   * You can pull out the new checked state by accessing `event.target.checked` (boolean).\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * It prevents the user from changing the value of the field\n   * (not from interacting with the field).\n   */\n  readOnly: PropTypes.bool,\n\n  /**\n   * If `true`, the `input` element is required.\n   */\n  required: PropTypes.bool,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  tabIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * The input component prop `type`.\n   */\n  type: PropTypes.string.isRequired,\n\n  /**\n   * The value of the component.\n   */\n  value: PropTypes.any\n} : void 0;\nexport default SwitchBase;","module.exports = {\n  \"jet\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 131]\n  }, {\n    \"index\": 0.125,\n    \"rgb\": [0, 60, 170]\n  }, {\n    \"index\": 0.375,\n    \"rgb\": [5, 255, 255]\n  }, {\n    \"index\": 0.625,\n    \"rgb\": [255, 255, 0]\n  }, {\n    \"index\": 0.875,\n    \"rgb\": [250, 0, 0]\n  }, {\n    \"index\": 1,\n    \"rgb\": [128, 0, 0]\n  }],\n  \"hsv\": [{\n    \"index\": 0,\n    \"rgb\": [255, 0, 0]\n  }, {\n    \"index\": 0.169,\n    \"rgb\": [253, 255, 2]\n  }, {\n    \"index\": 0.173,\n    \"rgb\": [247, 255, 2]\n  }, {\n    \"index\": 0.337,\n    \"rgb\": [0, 252, 4]\n  }, {\n    \"index\": 0.341,\n    \"rgb\": [0, 252, 10]\n  }, {\n    \"index\": 0.506,\n    \"rgb\": [1, 249, 255]\n  }, {\n    \"index\": 0.671,\n    \"rgb\": [2, 0, 253]\n  }, {\n    \"index\": 0.675,\n    \"rgb\": [8, 0, 253]\n  }, {\n    \"index\": 0.839,\n    \"rgb\": [255, 0, 251]\n  }, {\n    \"index\": 0.843,\n    \"rgb\": [255, 0, 245]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 0, 6]\n  }],\n  \"hot\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 0]\n  }, {\n    \"index\": 0.3,\n    \"rgb\": [230, 0, 0]\n  }, {\n    \"index\": 0.6,\n    \"rgb\": [255, 210, 0]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 255, 255]\n  }],\n  \"spring\": [{\n    \"index\": 0,\n    \"rgb\": [255, 0, 255]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 255, 0]\n  }],\n  \"summer\": [{\n    \"index\": 0,\n    \"rgb\": [0, 128, 102]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 255, 102]\n  }],\n  \"autumn\": [{\n    \"index\": 0,\n    \"rgb\": [255, 0, 0]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 255, 0]\n  }],\n  \"winter\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 255]\n  }, {\n    \"index\": 1,\n    \"rgb\": [0, 255, 128]\n  }],\n  \"bone\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 0]\n  }, {\n    \"index\": 0.376,\n    \"rgb\": [84, 84, 116]\n  }, {\n    \"index\": 0.753,\n    \"rgb\": [169, 200, 200]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 255, 255]\n  }],\n  \"copper\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 0]\n  }, {\n    \"index\": 0.804,\n    \"rgb\": [255, 160, 102]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 199, 127]\n  }],\n  \"greys\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 0]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 255, 255]\n  }],\n  \"yignbu\": [{\n    \"index\": 0,\n    \"rgb\": [8, 29, 88]\n  }, {\n    \"index\": 0.125,\n    \"rgb\": [37, 52, 148]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [34, 94, 168]\n  }, {\n    \"index\": 0.375,\n    \"rgb\": [29, 145, 192]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [65, 182, 196]\n  }, {\n    \"index\": 0.625,\n    \"rgb\": [127, 205, 187]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [199, 233, 180]\n  }, {\n    \"index\": 0.875,\n    \"rgb\": [237, 248, 217]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 255, 217]\n  }],\n  \"greens\": [{\n    \"index\": 0,\n    \"rgb\": [0, 68, 27]\n  }, {\n    \"index\": 0.125,\n    \"rgb\": [0, 109, 44]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [35, 139, 69]\n  }, {\n    \"index\": 0.375,\n    \"rgb\": [65, 171, 93]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [116, 196, 118]\n  }, {\n    \"index\": 0.625,\n    \"rgb\": [161, 217, 155]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [199, 233, 192]\n  }, {\n    \"index\": 0.875,\n    \"rgb\": [229, 245, 224]\n  }, {\n    \"index\": 1,\n    \"rgb\": [247, 252, 245]\n  }],\n  \"yiorrd\": [{\n    \"index\": 0,\n    \"rgb\": [128, 0, 38]\n  }, {\n    \"index\": 0.125,\n    \"rgb\": [189, 0, 38]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [227, 26, 28]\n  }, {\n    \"index\": 0.375,\n    \"rgb\": [252, 78, 42]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [253, 141, 60]\n  }, {\n    \"index\": 0.625,\n    \"rgb\": [254, 178, 76]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [254, 217, 118]\n  }, {\n    \"index\": 0.875,\n    \"rgb\": [255, 237, 160]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 255, 204]\n  }],\n  \"bluered\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 255]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 0, 0]\n  }],\n  \"rdbu\": [{\n    \"index\": 0,\n    \"rgb\": [5, 10, 172]\n  }, {\n    \"index\": 0.35,\n    \"rgb\": [106, 137, 247]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [190, 190, 190]\n  }, {\n    \"index\": 0.6,\n    \"rgb\": [220, 170, 132]\n  }, {\n    \"index\": 0.7,\n    \"rgb\": [230, 145, 90]\n  }, {\n    \"index\": 1,\n    \"rgb\": [178, 10, 28]\n  }],\n  \"picnic\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 255]\n  }, {\n    \"index\": 0.1,\n    \"rgb\": [51, 153, 255]\n  }, {\n    \"index\": 0.2,\n    \"rgb\": [102, 204, 255]\n  }, {\n    \"index\": 0.3,\n    \"rgb\": [153, 204, 255]\n  }, {\n    \"index\": 0.4,\n    \"rgb\": [204, 204, 255]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [255, 255, 255]\n  }, {\n    \"index\": 0.6,\n    \"rgb\": [255, 204, 255]\n  }, {\n    \"index\": 0.7,\n    \"rgb\": [255, 153, 255]\n  }, {\n    \"index\": 0.8,\n    \"rgb\": [255, 102, 204]\n  }, {\n    \"index\": 0.9,\n    \"rgb\": [255, 102, 102]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 0, 0]\n  }],\n  \"rainbow\": [{\n    \"index\": 0,\n    \"rgb\": [150, 0, 90]\n  }, {\n    \"index\": 0.125,\n    \"rgb\": [0, 0, 200]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [0, 25, 255]\n  }, {\n    \"index\": 0.375,\n    \"rgb\": [0, 152, 255]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [44, 255, 150]\n  }, {\n    \"index\": 0.625,\n    \"rgb\": [151, 255, 0]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [255, 234, 0]\n  }, {\n    \"index\": 0.875,\n    \"rgb\": [255, 111, 0]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 0, 0]\n  }],\n  \"portland\": [{\n    \"index\": 0,\n    \"rgb\": [12, 51, 131]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [10, 136, 186]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [242, 211, 56]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [242, 143, 56]\n  }, {\n    \"index\": 1,\n    \"rgb\": [217, 30, 30]\n  }],\n  \"blackbody\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 0]\n  }, {\n    \"index\": 0.2,\n    \"rgb\": [230, 0, 0]\n  }, {\n    \"index\": 0.4,\n    \"rgb\": [230, 210, 0]\n  }, {\n    \"index\": 0.7,\n    \"rgb\": [255, 255, 255]\n  }, {\n    \"index\": 1,\n    \"rgb\": [160, 200, 255]\n  }],\n  \"earth\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 130]\n  }, {\n    \"index\": 0.1,\n    \"rgb\": [0, 180, 180]\n  }, {\n    \"index\": 0.2,\n    \"rgb\": [40, 210, 40]\n  }, {\n    \"index\": 0.4,\n    \"rgb\": [230, 230, 50]\n  }, {\n    \"index\": 0.6,\n    \"rgb\": [120, 70, 20]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 255, 255]\n  }],\n  \"electric\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 0]\n  }, {\n    \"index\": 0.15,\n    \"rgb\": [30, 0, 100]\n  }, {\n    \"index\": 0.4,\n    \"rgb\": [120, 0, 100]\n  }, {\n    \"index\": 0.6,\n    \"rgb\": [160, 90, 0]\n  }, {\n    \"index\": 0.8,\n    \"rgb\": [230, 200, 0]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 250, 220]\n  }],\n  \"alpha\": [{\n    \"index\": 0,\n    \"rgb\": [255, 255, 255, 0]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 255, 255, 1]\n  }],\n  \"viridis\": [{\n    \"index\": 0,\n    \"rgb\": [68, 1, 84]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [71, 44, 122]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [59, 81, 139]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [44, 113, 142]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [33, 144, 141]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [39, 173, 129]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [92, 200, 99]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [170, 220, 50]\n  }, {\n    \"index\": 1,\n    \"rgb\": [253, 231, 37]\n  }],\n  \"inferno\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 4]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [31, 12, 72]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [85, 15, 109]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [136, 34, 106]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [186, 54, 85]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [227, 89, 51]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [249, 140, 10]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [249, 201, 50]\n  }, {\n    \"index\": 1,\n    \"rgb\": [252, 255, 164]\n  }],\n  \"magma\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 4]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [28, 16, 68]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [79, 18, 123]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [129, 37, 129]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [181, 54, 122]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [229, 80, 100]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [251, 135, 97]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [254, 194, 135]\n  }, {\n    \"index\": 1,\n    \"rgb\": [252, 253, 191]\n  }],\n  \"plasma\": [{\n    \"index\": 0,\n    \"rgb\": [13, 8, 135]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [75, 3, 161]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [125, 3, 168]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [168, 34, 150]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [203, 70, 121]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [229, 107, 93]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [248, 148, 65]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [253, 195, 40]\n  }, {\n    \"index\": 1,\n    \"rgb\": [240, 249, 33]\n  }],\n  \"warm\": [{\n    \"index\": 0,\n    \"rgb\": [125, 0, 179]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [172, 0, 187]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [219, 0, 170]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [255, 0, 130]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [255, 63, 74]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [255, 123, 0]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [234, 176, 0]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [190, 228, 0]\n  }, {\n    \"index\": 1,\n    \"rgb\": [147, 255, 0]\n  }],\n  \"cool\": [{\n    \"index\": 0,\n    \"rgb\": [125, 0, 179]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [116, 0, 218]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [98, 74, 237]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [68, 146, 231]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [0, 204, 197]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [0, 247, 146]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [0, 255, 88]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [40, 255, 8]\n  }, {\n    \"index\": 1,\n    \"rgb\": [147, 255, 0]\n  }],\n  \"rainbow-soft\": [{\n    \"index\": 0,\n    \"rgb\": [125, 0, 179]\n  }, {\n    \"index\": 0.1,\n    \"rgb\": [199, 0, 180]\n  }, {\n    \"index\": 0.2,\n    \"rgb\": [255, 0, 121]\n  }, {\n    \"index\": 0.3,\n    \"rgb\": [255, 108, 0]\n  }, {\n    \"index\": 0.4,\n    \"rgb\": [222, 194, 0]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [150, 255, 0]\n  }, {\n    \"index\": 0.6,\n    \"rgb\": [0, 255, 55]\n  }, {\n    \"index\": 0.7,\n    \"rgb\": [0, 246, 150]\n  }, {\n    \"index\": 0.8,\n    \"rgb\": [50, 167, 222]\n  }, {\n    \"index\": 0.9,\n    \"rgb\": [103, 51, 235]\n  }, {\n    \"index\": 1,\n    \"rgb\": [124, 0, 186]\n  }],\n  \"bathymetry\": [{\n    \"index\": 0,\n    \"rgb\": [40, 26, 44]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [59, 49, 90]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [64, 76, 139]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [63, 110, 151]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [72, 142, 158]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [85, 174, 163]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [120, 206, 163]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [187, 230, 172]\n  }, {\n    \"index\": 1,\n    \"rgb\": [253, 254, 204]\n  }],\n  \"cdom\": [{\n    \"index\": 0,\n    \"rgb\": [47, 15, 62]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [87, 23, 86]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [130, 28, 99]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [171, 41, 96]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [206, 67, 86]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [230, 106, 84]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [242, 149, 103]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [249, 193, 135]\n  }, {\n    \"index\": 1,\n    \"rgb\": [254, 237, 176]\n  }],\n  \"chlorophyll\": [{\n    \"index\": 0,\n    \"rgb\": [18, 36, 20]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [25, 63, 41]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [24, 91, 59]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [13, 119, 72]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [18, 148, 80]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [80, 173, 89]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [132, 196, 122]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [175, 221, 162]\n  }, {\n    \"index\": 1,\n    \"rgb\": [215, 249, 208]\n  }],\n  \"density\": [{\n    \"index\": 0,\n    \"rgb\": [54, 14, 36]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [89, 23, 80]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [110, 45, 132]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [120, 77, 178]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [120, 113, 213]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [115, 151, 228]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [134, 185, 227]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [177, 214, 227]\n  }, {\n    \"index\": 1,\n    \"rgb\": [230, 241, 241]\n  }],\n  \"freesurface-blue\": [{\n    \"index\": 0,\n    \"rgb\": [30, 4, 110]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [47, 14, 176]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [41, 45, 236]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [25, 99, 212]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [68, 131, 200]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [114, 156, 197]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [157, 181, 203]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [200, 208, 216]\n  }, {\n    \"index\": 1,\n    \"rgb\": [241, 237, 236]\n  }],\n  \"freesurface-red\": [{\n    \"index\": 0,\n    \"rgb\": [60, 9, 18]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [100, 17, 27]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [142, 20, 29]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [177, 43, 27]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [192, 87, 63]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [205, 125, 105]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [216, 162, 148]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [227, 199, 193]\n  }, {\n    \"index\": 1,\n    \"rgb\": [241, 237, 236]\n  }],\n  \"oxygen\": [{\n    \"index\": 0,\n    \"rgb\": [64, 5, 5]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [106, 6, 15]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [144, 26, 7]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [168, 64, 3]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [188, 100, 4]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [206, 136, 11]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [220, 174, 25]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [231, 215, 44]\n  }, {\n    \"index\": 1,\n    \"rgb\": [248, 254, 105]\n  }],\n  \"par\": [{\n    \"index\": 0,\n    \"rgb\": [51, 20, 24]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [90, 32, 35]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [129, 44, 34]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [159, 68, 25]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [182, 99, 19]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [199, 134, 22]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [212, 171, 35]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [221, 210, 54]\n  }, {\n    \"index\": 1,\n    \"rgb\": [225, 253, 75]\n  }],\n  \"phase\": [{\n    \"index\": 0,\n    \"rgb\": [145, 105, 18]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [184, 71, 38]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [186, 58, 115]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [160, 71, 185]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [110, 97, 218]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [50, 123, 164]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [31, 131, 110]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [77, 129, 34]\n  }, {\n    \"index\": 1,\n    \"rgb\": [145, 105, 18]\n  }],\n  \"salinity\": [{\n    \"index\": 0,\n    \"rgb\": [42, 24, 108]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [33, 50, 162]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [15, 90, 145]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [40, 118, 137]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [59, 146, 135]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [79, 175, 126]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [120, 203, 104]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [193, 221, 100]\n  }, {\n    \"index\": 1,\n    \"rgb\": [253, 239, 154]\n  }],\n  \"temperature\": [{\n    \"index\": 0,\n    \"rgb\": [4, 35, 51]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [23, 51, 122]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [85, 59, 157]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [129, 79, 143]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [175, 95, 130]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [222, 112, 101]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [249, 146, 66]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [249, 196, 65]\n  }, {\n    \"index\": 1,\n    \"rgb\": [232, 250, 91]\n  }],\n  \"turbidity\": [{\n    \"index\": 0,\n    \"rgb\": [34, 31, 27]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [65, 50, 41]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [98, 69, 52]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [131, 89, 57]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [161, 112, 59]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [185, 140, 66]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [202, 174, 88]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [216, 209, 126]\n  }, {\n    \"index\": 1,\n    \"rgb\": [233, 246, 171]\n  }],\n  \"velocity-blue\": [{\n    \"index\": 0,\n    \"rgb\": [17, 32, 64]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [35, 52, 116]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [29, 81, 156]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [31, 113, 162]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [50, 144, 169]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [87, 173, 176]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [149, 196, 189]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [203, 221, 211]\n  }, {\n    \"index\": 1,\n    \"rgb\": [254, 251, 230]\n  }],\n  \"velocity-green\": [{\n    \"index\": 0,\n    \"rgb\": [23, 35, 19]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [24, 64, 38]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [11, 95, 45]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [39, 123, 35]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [95, 146, 12]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [152, 165, 18]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [201, 186, 69]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [233, 216, 137]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 253, 205]\n  }],\n  \"cubehelix\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 0]\n  }, {\n    \"index\": 0.07,\n    \"rgb\": [22, 5, 59]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [60, 4, 105]\n  }, {\n    \"index\": 0.2,\n    \"rgb\": [109, 1, 135]\n  }, {\n    \"index\": 0.27,\n    \"rgb\": [161, 0, 147]\n  }, {\n    \"index\": 0.33,\n    \"rgb\": [210, 2, 142]\n  }, {\n    \"index\": 0.4,\n    \"rgb\": [251, 11, 123]\n  }, {\n    \"index\": 0.47,\n    \"rgb\": [255, 29, 97]\n  }, {\n    \"index\": 0.53,\n    \"rgb\": [255, 54, 69]\n  }, {\n    \"index\": 0.6,\n    \"rgb\": [255, 85, 46]\n  }, {\n    \"index\": 0.67,\n    \"rgb\": [255, 120, 34]\n  }, {\n    \"index\": 0.73,\n    \"rgb\": [255, 157, 37]\n  }, {\n    \"index\": 0.8,\n    \"rgb\": [241, 191, 57]\n  }, {\n    \"index\": 0.87,\n    \"rgb\": [224, 220, 93]\n  }, {\n    \"index\": 0.93,\n    \"rgb\": [218, 241, 142]\n  }, {\n    \"index\": 1,\n    \"rgb\": [227, 253, 198]\n  }]\n};","/*\n * Ben Postlethwaite\n * January 2013\n * License MIT\n */\n'use strict';\n\nvar colorScale = require('./colorScale');\n\nvar lerp = require('lerp');\n\nmodule.exports = createColormap;\n\nfunction createColormap(spec) {\n  /*\n   * Default Options\n   */\n  var indicies, fromrgba, torgba, nsteps, cmap, colormap, format, nshades, colors, alpha, i;\n  if (!spec) spec = {};\n  nshades = (spec.nshades || 72) - 1;\n  format = spec.format || 'hex';\n  colormap = spec.colormap;\n  if (!colormap) colormap = 'jet';\n\n  if (typeof colormap === 'string') {\n    colormap = colormap.toLowerCase();\n\n    if (!colorScale[colormap]) {\n      throw Error(colormap + ' not a supported colorscale');\n    }\n\n    cmap = colorScale[colormap];\n  } else if (Array.isArray(colormap)) {\n    cmap = colormap.slice();\n  } else {\n    throw Error('unsupported colormap option', colormap);\n  }\n\n  if (cmap.length > nshades + 1) {\n    throw new Error(colormap + ' map requires nshades to be at least size ' + cmap.length);\n  }\n\n  if (!Array.isArray(spec.alpha)) {\n    if (typeof spec.alpha === 'number') {\n      alpha = [spec.alpha, spec.alpha];\n    } else {\n      alpha = [1, 1];\n    }\n  } else if (spec.alpha.length !== 2) {\n    alpha = [1, 1];\n  } else {\n    alpha = spec.alpha.slice();\n  } // map index points from 0..1 to 0..n-1\n\n\n  indicies = cmap.map(function (c) {\n    return Math.round(c.index * nshades);\n  }); // Add alpha channel to the map\n\n  alpha[0] = Math.min(Math.max(alpha[0], 0), 1);\n  alpha[1] = Math.min(Math.max(alpha[1], 0), 1);\n  var steps = cmap.map(function (c, i) {\n    var index = cmap[i].index;\n    var rgba = cmap[i].rgb.slice(); // if user supplies their own map use it\n\n    if (rgba.length === 4 && rgba[3] >= 0 && rgba[3] <= 1) {\n      return rgba;\n    }\n\n    rgba[3] = alpha[0] + (alpha[1] - alpha[0]) * index;\n    return rgba;\n  });\n  /*\n   * map increasing linear values between indicies to\n   * linear steps in colorvalues\n   */\n\n  var colors = [];\n\n  for (i = 0; i < indicies.length - 1; ++i) {\n    nsteps = indicies[i + 1] - indicies[i];\n    fromrgba = steps[i];\n    torgba = steps[i + 1];\n\n    for (var j = 0; j < nsteps; j++) {\n      var amt = j / nsteps;\n      colors.push([Math.round(lerp(fromrgba[0], torgba[0], amt)), Math.round(lerp(fromrgba[1], torgba[1], amt)), Math.round(lerp(fromrgba[2], torgba[2], amt)), lerp(fromrgba[3], torgba[3], amt)]);\n    }\n  } //add 1 step as last value\n\n\n  colors.push(cmap[cmap.length - 1].rgb.concat(alpha[1]));\n  if (format === 'hex') colors = colors.map(rgb2hex);else if (format === 'rgbaString') colors = colors.map(rgbaStr);else if (format === 'float') colors = colors.map(rgb2float);\n  return colors;\n}\n\n;\n\nfunction rgb2float(rgba) {\n  return [rgba[0] / 255, rgba[1] / 255, rgba[2] / 255, rgba[3]];\n}\n\nfunction rgb2hex(rgba) {\n  var dig,\n      hex = '#';\n\n  for (var i = 0; i < 3; ++i) {\n    dig = rgba[i];\n    dig = dig.toString(16);\n    hex += ('00' + dig).substr(dig.length);\n  }\n\n  return hex;\n}\n\nfunction rgbaStr(rgba) {\n  return 'rgba(' + rgba.join(',') + ')';\n}","export var fieldTagNames = {\n  // TIFF Baseline\n  0x013B: 'Artist',\n  0x0102: 'BitsPerSample',\n  0x0109: 'CellLength',\n  0x0108: 'CellWidth',\n  0x0140: 'ColorMap',\n  0x0103: 'Compression',\n  0x8298: 'Copyright',\n  0x0132: 'DateTime',\n  0x0152: 'ExtraSamples',\n  0x010A: 'FillOrder',\n  0x0121: 'FreeByteCounts',\n  0x0120: 'FreeOffsets',\n  0x0123: 'GrayResponseCurve',\n  0x0122: 'GrayResponseUnit',\n  0x013C: 'HostComputer',\n  0x010E: 'ImageDescription',\n  0x0101: 'ImageLength',\n  0x0100: 'ImageWidth',\n  0x010F: 'Make',\n  0x0119: 'MaxSampleValue',\n  0x0118: 'MinSampleValue',\n  0x0110: 'Model',\n  0x00FE: 'NewSubfileType',\n  0x0112: 'Orientation',\n  0x0106: 'PhotometricInterpretation',\n  0x011C: 'PlanarConfiguration',\n  0x0128: 'ResolutionUnit',\n  0x0116: 'RowsPerStrip',\n  0x0115: 'SamplesPerPixel',\n  0x0131: 'Software',\n  0x0117: 'StripByteCounts',\n  0x0111: 'StripOffsets',\n  0x00FF: 'SubfileType',\n  0x0107: 'Threshholding',\n  0x011A: 'XResolution',\n  0x011B: 'YResolution',\n  // TIFF Extended\n  0x0146: 'BadFaxLines',\n  0x0147: 'CleanFaxData',\n  0x0157: 'ClipPath',\n  0x0148: 'ConsecutiveBadFaxLines',\n  0x01B1: 'Decode',\n  0x01B2: 'DefaultImageColor',\n  0x010D: 'DocumentName',\n  0x0150: 'DotRange',\n  0x0141: 'HalftoneHints',\n  0x015A: 'Indexed',\n  0x015B: 'JPEGTables',\n  0x011D: 'PageName',\n  0x0129: 'PageNumber',\n  0x013D: 'Predictor',\n  0x013F: 'PrimaryChromaticities',\n  0x0214: 'ReferenceBlackWhite',\n  0x0153: 'SampleFormat',\n  0x0154: 'SMinSampleValue',\n  0x0155: 'SMaxSampleValue',\n  0x022F: 'StripRowCounts',\n  0x014A: 'SubIFDs',\n  0x0124: 'T4Options',\n  0x0125: 'T6Options',\n  0x0145: 'TileByteCounts',\n  0x0143: 'TileLength',\n  0x0144: 'TileOffsets',\n  0x0142: 'TileWidth',\n  0x012D: 'TransferFunction',\n  0x013E: 'WhitePoint',\n  0x0158: 'XClipPathUnits',\n  0x011E: 'XPosition',\n  0x0211: 'YCbCrCoefficients',\n  0x0213: 'YCbCrPositioning',\n  0x0212: 'YCbCrSubSampling',\n  0x0159: 'YClipPathUnits',\n  0x011F: 'YPosition',\n  // EXIF\n  0x9202: 'ApertureValue',\n  0xA001: 'ColorSpace',\n  0x9004: 'DateTimeDigitized',\n  0x9003: 'DateTimeOriginal',\n  0x8769: 'Exif IFD',\n  0x9000: 'ExifVersion',\n  0x829A: 'ExposureTime',\n  0xA300: 'FileSource',\n  0x9209: 'Flash',\n  0xA000: 'FlashpixVersion',\n  0x829D: 'FNumber',\n  0xA420: 'ImageUniqueID',\n  0x9208: 'LightSource',\n  0x927C: 'MakerNote',\n  0x9201: 'ShutterSpeedValue',\n  0x9286: 'UserComment',\n  // IPTC\n  0x83BB: 'IPTC',\n  // ICC\n  0x8773: 'ICC Profile',\n  // XMP\n  0x02BC: 'XMP',\n  // GDAL\n  0xA480: 'GDAL_METADATA',\n  0xA481: 'GDAL_NODATA',\n  // Photoshop\n  0x8649: 'Photoshop',\n  // GeoTiff\n  0x830E: 'ModelPixelScale',\n  0x8482: 'ModelTiepoint',\n  0x85D8: 'ModelTransformation',\n  0x87AF: 'GeoKeyDirectory',\n  0x87B0: 'GeoDoubleParams',\n  0x87B1: 'GeoAsciiParams',\n  // LERC\n  0xC5F2: 'LercParameters'\n};\nexport var fieldTags = {};\n\nfor (var key in fieldTagNames) {\n  if (fieldTagNames.hasOwnProperty(key)) {\n    fieldTags[fieldTagNames[key]] = parseInt(key, 10);\n  }\n}\n\nexport var fieldTagTypes = {\n  256: 'SHORT',\n  257: 'SHORT',\n  258: 'SHORT',\n  259: 'SHORT',\n  262: 'SHORT',\n  273: 'LONG',\n  274: 'SHORT',\n  277: 'SHORT',\n  278: 'LONG',\n  279: 'LONG',\n  282: 'RATIONAL',\n  283: 'RATIONAL',\n  284: 'SHORT',\n  286: 'SHORT',\n  287: 'RATIONAL',\n  296: 'SHORT',\n  297: 'SHORT',\n  305: 'ASCII',\n  306: 'ASCII',\n  338: 'SHORT',\n  339: 'SHORT',\n  513: 'LONG',\n  514: 'LONG',\n  1024: 'SHORT',\n  1025: 'SHORT',\n  2048: 'SHORT',\n  2049: 'ASCII',\n  3072: 'SHORT',\n  3073: 'ASCII',\n  33550: 'DOUBLE',\n  33922: 'DOUBLE',\n  34665: 'LONG',\n  34735: 'SHORT',\n  34737: 'ASCII',\n  42113: 'ASCII'\n};\nexport var arrayFields = [fieldTags.BitsPerSample, fieldTags.ExtraSamples, fieldTags.SampleFormat, fieldTags.StripByteCounts, fieldTags.StripOffsets, fieldTags.StripRowCounts, fieldTags.TileByteCounts, fieldTags.TileOffsets, fieldTags.SubIFDs];\nexport var fieldTypeNames = {\n  0x0001: 'BYTE',\n  0x0002: 'ASCII',\n  0x0003: 'SHORT',\n  0x0004: 'LONG',\n  0x0005: 'RATIONAL',\n  0x0006: 'SBYTE',\n  0x0007: 'UNDEFINED',\n  0x0008: 'SSHORT',\n  0x0009: 'SLONG',\n  0x000A: 'SRATIONAL',\n  0x000B: 'FLOAT',\n  0x000C: 'DOUBLE',\n  // IFD offset, suggested by https://owl.phy.queensu.ca/~phil/exiftool/standards.html\n  0x000D: 'IFD',\n  // introduced by BigTIFF\n  0x0010: 'LONG8',\n  0x0011: 'SLONG8',\n  0x0012: 'IFD8'\n};\nexport var fieldTypes = {};\n\nfor (var _key in fieldTypeNames) {\n  if (fieldTypeNames.hasOwnProperty(_key)) {\n    fieldTypes[fieldTypeNames[_key]] = parseInt(_key, 10);\n  }\n}\n\nexport var photometricInterpretations = {\n  WhiteIsZero: 0,\n  BlackIsZero: 1,\n  RGB: 2,\n  Palette: 3,\n  TransparencyMask: 4,\n  CMYK: 5,\n  YCbCr: 6,\n  CIELab: 8,\n  ICCLab: 9\n};\nexport var ExtraSamplesValues = {\n  Unspecified: 0,\n  Assocalpha: 1,\n  Unassalpha: 2\n};\nexport var LercParameters = {\n  Version: 0,\n  AddCompression: 1\n};\nexport var LercAddCompression = {\n  None: 0,\n  Deflate: 1\n};\nexport var geoKeyNames = {\n  1024: 'GTModelTypeGeoKey',\n  1025: 'GTRasterTypeGeoKey',\n  1026: 'GTCitationGeoKey',\n  2048: 'GeographicTypeGeoKey',\n  2049: 'GeogCitationGeoKey',\n  2050: 'GeogGeodeticDatumGeoKey',\n  2051: 'GeogPrimeMeridianGeoKey',\n  2052: 'GeogLinearUnitsGeoKey',\n  2053: 'GeogLinearUnitSizeGeoKey',\n  2054: 'GeogAngularUnitsGeoKey',\n  2055: 'GeogAngularUnitSizeGeoKey',\n  2056: 'GeogEllipsoidGeoKey',\n  2057: 'GeogSemiMajorAxisGeoKey',\n  2058: 'GeogSemiMinorAxisGeoKey',\n  2059: 'GeogInvFlatteningGeoKey',\n  2060: 'GeogAzimuthUnitsGeoKey',\n  2061: 'GeogPrimeMeridianLongGeoKey',\n  2062: 'GeogTOWGS84GeoKey',\n  3072: 'ProjectedCSTypeGeoKey',\n  3073: 'PCSCitationGeoKey',\n  3074: 'ProjectionGeoKey',\n  3075: 'ProjCoordTransGeoKey',\n  3076: 'ProjLinearUnitsGeoKey',\n  3077: 'ProjLinearUnitSizeGeoKey',\n  3078: 'ProjStdParallel1GeoKey',\n  3079: 'ProjStdParallel2GeoKey',\n  3080: 'ProjNatOriginLongGeoKey',\n  3081: 'ProjNatOriginLatGeoKey',\n  3082: 'ProjFalseEastingGeoKey',\n  3083: 'ProjFalseNorthingGeoKey',\n  3084: 'ProjFalseOriginLongGeoKey',\n  3085: 'ProjFalseOriginLatGeoKey',\n  3086: 'ProjFalseOriginEastingGeoKey',\n  3087: 'ProjFalseOriginNorthingGeoKey',\n  3088: 'ProjCenterLongGeoKey',\n  3089: 'ProjCenterLatGeoKey',\n  3090: 'ProjCenterEastingGeoKey',\n  3091: 'ProjCenterNorthingGeoKey',\n  3092: 'ProjScaleAtNatOriginGeoKey',\n  3093: 'ProjScaleAtCenterGeoKey',\n  3094: 'ProjAzimuthAngleGeoKey',\n  3095: 'ProjStraightVertPoleLongGeoKey',\n  3096: 'ProjRectifiedGridAngleGeoKey',\n  4096: 'VerticalCSTypeGeoKey',\n  4097: 'VerticalCitationGeoKey',\n  4098: 'VerticalDatumGeoKey',\n  4099: 'VerticalUnitsGeoKey'\n};\nexport var geoKeys = {};\n\nfor (var _key2 in geoKeyNames) {\n  if (geoKeyNames.hasOwnProperty(_key2)) {\n    geoKeys[geoKeyNames[_key2]] = parseInt(_key2, 10);\n  }\n}","function lerp(v0, v1, t) {\n  return v0 * (1 - t) + v1 * t;\n}\n\nmodule.exports = lerp;","// 'path' module extracted from Node.js v8.11.1 (only the posix part)\n// transplited with Babel\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));\n  }\n} // Resolves . and .. elements in a path with directory names\n\n\nfunction normalizeStringPosix(path, allowAboveRoot) {\n  var res = '';\n  var lastSegmentLength = 0;\n  var lastSlash = -1;\n  var dots = 0;\n  var code;\n\n  for (var i = 0; i <= path.length; ++i) {\n    if (i < path.length) code = path.charCodeAt(i);else if (code === 47\n    /*/*/\n    ) break;else code = 47\n    /*/*/\n    ;\n\n    if (code === 47\n    /*/*/\n    ) {\n      if (lastSlash === i - 1 || dots === 1) {// NOOP\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46\n        /*.*/\n        || res.charCodeAt(res.length - 2) !== 46\n        /*.*/\n        ) {\n          if (res.length > 2) {\n            var lastSlashIndex = res.lastIndexOf('/');\n\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = '';\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');\n              }\n\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = '';\n            lastSegmentLength = 0;\n            lastSlash = i;\n            dots = 0;\n            continue;\n          }\n        }\n\n        if (allowAboveRoot) {\n          if (res.length > 0) res += '/..';else res = '..';\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0) res += '/' + path.slice(lastSlash + 1, i);else res = path.slice(lastSlash + 1, i);\n        lastSegmentLength = i - lastSlash - 1;\n      }\n\n      lastSlash = i;\n      dots = 0;\n    } else if (code === 46\n    /*.*/\n    && dots !== -1) {\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n\n  return res;\n}\n\nfunction _format(sep, pathObject) {\n  var dir = pathObject.dir || pathObject.root;\n  var base = pathObject.base || (pathObject.name || '') + (pathObject.ext || '');\n\n  if (!dir) {\n    return base;\n  }\n\n  if (dir === pathObject.root) {\n    return dir + base;\n  }\n\n  return dir + sep + base;\n}\n\nvar posix = {\n  // path.resolve([from ...], to)\n  resolve: function resolve() {\n    var resolvedPath = '';\n    var resolvedAbsolute = false;\n    var cwd;\n\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n      var path;\n      if (i >= 0) path = arguments[i];else {\n        if (cwd === undefined) cwd = process.cwd();\n        path = cwd;\n      }\n      assertPath(path); // Skip empty entries\n\n      if (path.length === 0) {\n        continue;\n      }\n\n      resolvedPath = path + '/' + resolvedPath;\n      resolvedAbsolute = path.charCodeAt(0) === 47\n      /*/*/\n      ;\n    } // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n    // Normalize the path\n\n\n    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0) return '/' + resolvedPath;else return '/';\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath;\n    } else {\n      return '.';\n    }\n  },\n  normalize: function normalize(path) {\n    assertPath(path);\n    if (path.length === 0) return '.';\n    var isAbsolute = path.charCodeAt(0) === 47\n    /*/*/\n    ;\n    var trailingSeparator = path.charCodeAt(path.length - 1) === 47\n    /*/*/\n    ; // Normalize the path\n\n    path = normalizeStringPosix(path, !isAbsolute);\n    if (path.length === 0 && !isAbsolute) path = '.';\n    if (path.length > 0 && trailingSeparator) path += '/';\n    if (isAbsolute) return '/' + path;\n    return path;\n  },\n  isAbsolute: function isAbsolute(path) {\n    assertPath(path);\n    return path.length > 0 && path.charCodeAt(0) === 47\n    /*/*/\n    ;\n  },\n  join: function join() {\n    if (arguments.length === 0) return '.';\n    var joined;\n\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      assertPath(arg);\n\n      if (arg.length > 0) {\n        if (joined === undefined) joined = arg;else joined += '/' + arg;\n      }\n    }\n\n    if (joined === undefined) return '.';\n    return posix.normalize(joined);\n  },\n  relative: function relative(from, to) {\n    assertPath(from);\n    assertPath(to);\n    if (from === to) return '';\n    from = posix.resolve(from);\n    to = posix.resolve(to);\n    if (from === to) return ''; // Trim any leading backslashes\n\n    var fromStart = 1;\n\n    for (; fromStart < from.length; ++fromStart) {\n      if (from.charCodeAt(fromStart) !== 47\n      /*/*/\n      ) break;\n    }\n\n    var fromEnd = from.length;\n    var fromLen = fromEnd - fromStart; // Trim any leading backslashes\n\n    var toStart = 1;\n\n    for (; toStart < to.length; ++toStart) {\n      if (to.charCodeAt(toStart) !== 47\n      /*/*/\n      ) break;\n    }\n\n    var toEnd = to.length;\n    var toLen = toEnd - toStart; // Compare paths to find the longest common path from root\n\n    var length = fromLen < toLen ? fromLen : toLen;\n    var lastCommonSep = -1;\n    var i = 0;\n\n    for (; i <= length; ++i) {\n      if (i === length) {\n        if (toLen > length) {\n          if (to.charCodeAt(toStart + i) === 47\n          /*/*/\n          ) {\n            // We get here if `from` is the exact base path for `to`.\n            // For example: from='/foo/bar'; to='/foo/bar/baz'\n            return to.slice(toStart + i + 1);\n          } else if (i === 0) {\n            // We get here if `from` is the root\n            // For example: from='/'; to='/foo'\n            return to.slice(toStart + i);\n          }\n        } else if (fromLen > length) {\n          if (from.charCodeAt(fromStart + i) === 47\n          /*/*/\n          ) {\n            // We get here if `to` is the exact base path for `from`.\n            // For example: from='/foo/bar/baz'; to='/foo/bar'\n            lastCommonSep = i;\n          } else if (i === 0) {\n            // We get here if `to` is the root.\n            // For example: from='/foo'; to='/'\n            lastCommonSep = 0;\n          }\n        }\n\n        break;\n      }\n\n      var fromCode = from.charCodeAt(fromStart + i);\n      var toCode = to.charCodeAt(toStart + i);\n      if (fromCode !== toCode) break;else if (fromCode === 47\n      /*/*/\n      ) lastCommonSep = i;\n    }\n\n    var out = ''; // Generate the relative path based on the path difference between `to`\n    // and `from`\n\n    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n      if (i === fromEnd || from.charCodeAt(i) === 47\n      /*/*/\n      ) {\n        if (out.length === 0) out += '..';else out += '/..';\n      }\n    } // Lastly, append the rest of the destination (`to`) path that comes after\n    // the common path parts\n\n\n    if (out.length > 0) return out + to.slice(toStart + lastCommonSep);else {\n      toStart += lastCommonSep;\n      if (to.charCodeAt(toStart) === 47\n      /*/*/\n      ) ++toStart;\n      return to.slice(toStart);\n    }\n  },\n  _makeLong: function _makeLong(path) {\n    return path;\n  },\n  dirname: function dirname(path) {\n    assertPath(path);\n    if (path.length === 0) return '.';\n    var code = path.charCodeAt(0);\n    var hasRoot = code === 47\n    /*/*/\n    ;\n    var end = -1;\n    var matchedSlash = true;\n\n    for (var i = path.length - 1; i >= 1; --i) {\n      code = path.charCodeAt(i);\n\n      if (code === 47\n      /*/*/\n      ) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n        // We saw the first non-path separator\n        matchedSlash = false;\n      }\n    }\n\n    if (end === -1) return hasRoot ? '/' : '.';\n    if (hasRoot && end === 1) return '//';\n    return path.slice(0, end);\n  },\n  basename: function basename(path, ext) {\n    if (ext !== undefined && typeof ext !== 'string') throw new TypeError('\"ext\" argument must be a string');\n    assertPath(path);\n    var start = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i;\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path) return '';\n      var extIdx = ext.length - 1;\n      var firstNonSlashEnd = -1;\n\n      for (i = path.length - 1; i >= 0; --i) {\n        var code = path.charCodeAt(i);\n\n        if (code === 47\n        /*/*/\n        ) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            start = i + 1;\n            break;\n          }\n        } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i;\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n\n      if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;\n      return path.slice(start, end);\n    } else {\n      for (i = path.length - 1; i >= 0; --i) {\n        if (path.charCodeAt(i) === 47\n        /*/*/\n        ) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            start = i + 1;\n            break;\n          }\n        } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false;\n          end = i + 1;\n        }\n      }\n\n      if (end === -1) return '';\n      return path.slice(start, end);\n    }\n  },\n  extname: function extname(path) {\n    assertPath(path);\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true; // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n\n    var preDotState = 0;\n\n    for (var i = path.length - 1; i >= 0; --i) {\n      var code = path.charCodeAt(i);\n\n      if (code === 47\n      /*/*/\n      ) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n\n        continue;\n      }\n\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n\n      if (code === 46\n      /*.*/\n      ) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 || // We saw a non-dot character immediately before the dot\n    preDotState === 0 || // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return '';\n    }\n\n    return path.slice(startDot, end);\n  },\n  format: function format(pathObject) {\n    if (pathObject === null || typeof pathObject !== 'object') {\n      throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof pathObject);\n    }\n\n    return _format('/', pathObject);\n  },\n  parse: function parse(path) {\n    assertPath(path);\n    var ret = {\n      root: '',\n      dir: '',\n      base: '',\n      ext: '',\n      name: ''\n    };\n    if (path.length === 0) return ret;\n    var code = path.charCodeAt(0);\n    var isAbsolute = code === 47\n    /*/*/\n    ;\n    var start;\n\n    if (isAbsolute) {\n      ret.root = '/';\n      start = 1;\n    } else {\n      start = 0;\n    }\n\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i = path.length - 1; // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n\n    var preDotState = 0; // Get non-dir info\n\n    for (; i >= start; --i) {\n      code = path.charCodeAt(i);\n\n      if (code === 47\n      /*/*/\n      ) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n\n        continue;\n      }\n\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n\n      if (code === 46\n      /*.*/\n      ) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 || // We saw a non-dot character immediately before the dot\n    preDotState === 0 || // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path.slice(1, startDot);\n        ret.base = path.slice(1, end);\n      } else {\n        ret.name = path.slice(startPart, startDot);\n        ret.base = path.slice(startPart, end);\n      }\n\n      ret.ext = path.slice(startDot, end);\n    }\n\n    if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = '/';\n    return ret;\n  },\n  sep: '/',\n  delimiter: ':',\n  win32: null,\n  posix: null\n};\nposix.posix = posix;\nmodule.exports = posix;","import SourceState from \"ol/source/State\";\nimport TileState from \"ol/TileState\";\nimport {\n    DEFAULT_MAX_ZOOM,\n    DEFAULT_TILE_SIZE\n} from \"ol/tilegrid/common\";\nimport {\n    getHeight,\n    getWidth,\n} from \"ol/extent\";\nimport {\n    ProjectionLike,\n    get as getCachedProjection,\n} from \"ol/proj\";\nimport ImageTile from \"ol/ImageTile\";\nimport Tile from \"ol/Tile\";\nimport { AttributionLike } from \"ol/source/Source\";\nimport TileGrid from \"ol/tilegrid/TileGrid\";\nimport TileImage from \"ol/source/TileImage\";\nimport { PROJECTIONS as EPSG4326_PROJECTIONS } from \"ol/proj/epsg4326\";\nimport { PROJECTIONS as EPSG3857_PROJECTIONS } from \"ol/proj/epsg3857\";\n\nconst HALF_WORLD_3857 = Math.PI * 6378137;\nconst EXTENT = {\n    3857: [-HALF_WORLD_3857, -HALF_WORLD_3857, HALF_WORLD_3857, HALF_WORLD_3857],\n    4326: [-180, -90, 180, 90],\n};\n\nfunction is4326(code?: string) {\n    return !!(EPSG4326_PROJECTIONS.find((projection) => {\n        return projection.getCode() === code\n    }))\n}\nfunction is3857(code?: string) {\n    return !!(EPSG3857_PROJECTIONS.find((projection) => {\n        return projection.getCode() === code\n    }))\n}\n\nexport const isSupportedCode = (code: string) => {\n    return is4326(code) || is3857(code);\n}\n\nfunction rotateExtent(extent: number[], rad: number): number[] {\n    const center = [(extent[2] - extent[0]) / 2 + extent[0], (extent[3] - extent[1]) / 2 + extent[1]];\n    const leftTop = [\n        (extent[0] - center[0]) * Math.cos(rad) - (extent[3] - center[1]) * Math.sin(rad),\n        (extent[0] - center[0]) * Math.sin(rad) + (extent[3] - center[1]) * Math.cos(rad),\n    ];\n    const leftBottom = [\n        (extent[0] - center[0]) * Math.cos(rad) - (extent[1] - center[1]) * Math.sin(rad),\n        (extent[0] - center[0]) * Math.sin(rad) + (extent[1] - center[1]) * Math.cos(rad),\n    ];\n    const rightBottom = [\n        (extent[2] - center[0]) * Math.cos(rad) - (extent[1] - center[1]) * Math.sin(rad),\n        (extent[2] - center[0]) * Math.sin(rad) + (extent[1] - center[1]) * Math.cos(rad),\n    ];\n    const rightTop = [\n        (extent[2] - center[0]) * Math.cos(rad) - (extent[3] - center[1]) * Math.sin(rad),\n        (extent[2] - center[0]) * Math.sin(rad) + (extent[3] - center[1]) * Math.cos(rad),\n    ];\n\n    return [\n        Math.min(leftTop[0], leftBottom[0], rightBottom[0], rightTop[0]) + center[0],\n        Math.min(leftTop[1], leftBottom[1], rightBottom[1], rightTop[1]) + center[1],\n        Math.max(leftTop[0], leftBottom[0], rightBottom[0], rightTop[0]) + center[0],\n        Math.max(leftTop[1], leftBottom[1], rightBottom[1], rightTop[1]) + center[1],\n    ];\n}\n\ninterface ResolutionsFromExtentOptions {\n    maxZoom?: number;\n    tileSize?: number;\n    maxResolution?: number;\n    sourceResolution?: number;\n}\nfunction resolutionsFromExtent(\n    extent: number[],\n    options?: ResolutionsFromExtentOptions\n): number[] {\n    const maxZoom = options?.maxZoom !== undefined ? options.maxZoom : DEFAULT_MAX_ZOOM;\n\n    const height = getHeight(extent);\n    const width = getWidth(extent);\n\n    const tileSize = options?.tileSize !== undefined ? options.tileSize : DEFAULT_TILE_SIZE;\n    const maxResolution =\n        options?.maxResolution && options.maxResolution > 0 ?\n            options.maxResolution :\n            Math.max(width / tileSize, height / tileSize);\n\n    const sourceResolution =\n        options?.sourceResolution && options.sourceResolution > 0 ? options.sourceResolution : 0;\n\n\n    const length = maxZoom + 1;\n    const resolutions: number[] = [];\n    for (let z = 0; z < length; ++z) {\n        const resolution = maxResolution / Math.pow(2, z);\n        if (resolution < sourceResolution) break;\n        resolutions.push(resolution);\n    }\n    return resolutions;\n}\n\nfunction getWindow(gridExtent: number[], z: number, x: number, y: number,): number[] {\n    const size = Math.max(gridExtent[2] - gridExtent[0], gridExtent[3] - gridExtent[1]) / (2 ** z);\n    const left = gridExtent[0] + x * size;\n    const top = gridExtent[3] - y * size;\n    const right = left + size;\n    const bottom = top - size;\n\n    return [left, top, right, bottom]\n}\n\nfunction crossing(extentLeft: number[], extentRight: number[]): boolean {\n    return Math.max(extentLeft[0], extentRight[0]) <= Math.min(extentLeft[2], extentRight[2]) &&\n        Math.max(extentLeft[1], extentRight[1]) <= Math.min(extentLeft[3], extentRight[3])\n}\n\n\n\nexport type GlobalProps = {\n    url?: string;\n    file?: File;\n    imageExtent: number[];\n    projection: ProjectionLike;\n    rotate?: number;\n    minZoom?: number;\n    maxZoom?: number;\n    tileSize?: number;\n    attributions?: AttributionLike;\n    attributionsCollapsible?: boolean;\n    cacheSize?: number;\n    crossOrigin?: string | null;\n    interpolate?: boolean;\n    opaque?: boolean;\n    reprojectionErrorThreshold?: number;\n    tilePixelRatio?: number;\n    wrapX?: boolean;\n    transition?: number;\n};\n\nexport class Global extends TileImage {\n    private imageExtent_: number[];\n    private context_: CanvasRenderingContext2D | null;\n\n    constructor(userOptions: GlobalProps) {\n        const options = userOptions || {};\n        if (!options.url && !options.file) throw new Error(\"source url or file is necessary.\");\n\n        const tileSize = options.tileSize ? options.tileSize : DEFAULT_TILE_SIZE;\n\n        const projection = getCachedProjection(options.projection);\n        const code = projection?.getCode();\n        const gridExtent = is4326(code) ? EXTENT[4326] : is3857(code) ? EXTENT[3857] : null;\n        if (!projection || !gridExtent) throw new Error(\"Unsupported projection\");\n\n        const tileLoadFunction =\n            (imageTile: Tile, coordString: string) => {\n                const [z, x, y] = coordString.split(\",\").map(Number);\n                const canvas = document.createElement(\"canvas\");\n                const context = canvas.getContext(\"2d\");\n                const tempCanvas = document.createElement(\"canvas\");\n                const tempContext = tempCanvas.getContext(\"2d\");\n                if (!this.context_ || !context || !tempContext) {\n                    imageTile.setState(TileState.ERROR);\n                    return;\n                }\n                canvas.width = tileSize;\n                canvas.height = tileSize;\n\n                const window = getWindow(gridExtent, z, x, y);\n                let tileLeft = window[0];\n                let tileRight = window[2];\n                const tileTop = window[1];\n                const tileBottom = window[3];\n                const [\n                    imageExtentLeft, imageExtentBottom, imageExtentRight, imageExtentTop\n                ] = this.imageExtent_;\n\n                const extentWidth = gridExtent[2] - gridExtent[0];\n                if (imageExtentLeft < gridExtent[0] && 0 < tileRight) {\n                    tileLeft -= extentWidth;\n                    tileRight -= extentWidth;\n                } else if (gridExtent[2] < imageExtentRight && tileLeft < 0) {\n                    tileLeft += extentWidth;\n                    tileRight += extentWidth;\n                }\n\n                if (!crossing([\n                    imageExtentLeft, imageExtentBottom, imageExtentRight, imageExtentTop\n                ], [\n                    tileLeft, tileBottom, tileRight, tileTop\n                ])) {\n                    imageTile.setState(TileState.EMPTY);\n                }\n\n                const sourcePerPixel = [(imageExtentRight - imageExtentLeft) / this.context_.canvas.width, (imageExtentTop - imageExtentBottom) / this.context_.canvas.height];\n                const tilePerPixel = [(tileRight - tileLeft) / tileSize, (tileTop - tileBottom) / tileSize];\n                const leftBottom = [Math.max(tileLeft, imageExtentLeft), Math.max(imageExtentBottom, tileBottom)];\n                const rightTop = [Math.min(tileRight, imageExtentRight), Math.min(imageExtentTop, tileTop)];\n                const tileRect = [\n                    Math.round((leftBottom[0] - tileLeft) / tilePerPixel[0]), Math.round((tileTop - rightTop[1]) / tilePerPixel[1]),\n                    Math.round((rightTop[0] - tileLeft) / tilePerPixel[0]), Math.round((tileTop - leftBottom[1]) / tilePerPixel[1])\n                ];\n                const sourceRect = [\n                    Math.round((leftBottom[0] - imageExtentLeft) / sourcePerPixel[0]), Math.round((imageExtentTop - rightTop[1]) / sourcePerPixel[1]),\n                    Math.round((rightTop[0] - imageExtentLeft) / sourcePerPixel[0]), Math.round((imageExtentTop - leftBottom[1]) / sourcePerPixel[1])\n                ];\n                const sourceRectSize = [sourceRect[2] - sourceRect[0], sourceRect[3] - sourceRect[1]];\n                const tileRectSize = [tileRect[2] - tileRect[0], tileRect[3] - tileRect[1]];\n\n                if (Math.min(...sourceRectSize, ...tileRectSize) <= 0) {\n                    imageTile.setState(TileState.EMPTY);\n                    return\n                }\n                tempCanvas.width = sourceRectSize[0];\n                tempCanvas.height = sourceRectSize[1];\n                tempContext.clearRect(0, 0, sourceRectSize[0], sourceRectSize[1]);\n                tempContext.putImageData(this.context_.getImageData(sourceRect[0], sourceRect[1], sourceRectSize[0], sourceRectSize[1]), 0, 0);\n                context.drawImage(tempCanvas, 0, 0, sourceRectSize[0], sourceRectSize[1], tileRect[0], tileRect[1], tileRectSize[0], tileRectSize[1]);\n\n                const src = canvas.toDataURL();\n                ((imageTile as ImageTile).getImage() as HTMLImageElement).src = src;\n            };\n\n        const interpolate =\n            options.interpolate !== undefined ? options.interpolate : true;\n\n        super({\n            state: SourceState.LOADING,\n            attributions: options.attributions,\n            cacheSize: options.cacheSize,\n            crossOrigin: options.crossOrigin,\n            interpolate: interpolate,\n            opaque: options.opaque,\n            projection,\n            reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n            tileLoadFunction,\n            tilePixelRatio: options.tilePixelRatio,\n            url: \"{z},{x},{y}\",\n            wrapX: options.wrapX !== undefined ? options.wrapX : true,\n            transition: options.transition,\n            attributionsCollapsible: options.attributionsCollapsible,\n        });\n\n\n        this.imageExtent_ = [Infinity, Infinity, -Infinity, -Infinity];\n        if (Array.isArray(options.imageExtent) && options.imageExtent.length > 3) {\n            this.imageExtent_ = options.imageExtent;\n        }\n        const originExtentAspectRatio = (this.imageExtent_[2] - this.imageExtent_[0]) / (this.imageExtent_[3] - this.imageExtent_[1]);\n\n        const gridExtentWidth = gridExtent[2] - gridExtent[0];\n        const gridExtentHeight = gridExtent[3] - gridExtent[1];\n        if (\n            this.imageExtent_[0] < gridExtent[0] - gridExtentWidth / 2 || gridExtent[2] + gridExtentWidth / 2 < this.imageExtent_[0] ||\n            this.imageExtent_[1] < gridExtent[1] || gridExtent[3] < this.imageExtent_[1] ||\n            this.imageExtent_[2] < gridExtent[0] - gridExtentWidth / 2 || gridExtent[2] + gridExtentWidth / 2 < this.imageExtent_[2] ||\n            this.imageExtent_[3] < gridExtent[1] || gridExtent[3] < this.imageExtent_[3] ||\n            this.imageExtent_[2] <= this.imageExtent_[0] ||\n            this.imageExtent_[0] - this.imageExtent_[2] > gridExtentWidth\n        ) throw new Error(\"invalid extent.\");\n\n        let rad = 0;\n        if (options.rotate) {\n            rad = options.rotate;\n            this.imageExtent_ = rotateExtent(this.imageExtent_, rad)\n        }\n\n        const canvas = document.createElement(\"canvas\");\n        const context = canvas.getContext(\"2d\");\n        if (!context) {\n            this.context_ = null;\n            return;\n        }\n        context.imageSmoothingEnabled = interpolate;\n        this.context_ = context;\n\n        const image = new Image();\n        image.crossOrigin = options.crossOrigin || \"\";\n\n        let url = \"\";\n        if (options.file)\n            url = URL.createObjectURL(options.file)\n        else if (options.url)\n            url = options.url;\n        image.addEventListener(\"load\", () => {\n            if (options.file) URL.revokeObjectURL(url);\n            let imageWidth = image.width;\n            let imageHeight = image.height;\n\n            if (imageWidth < imageHeight) {\n                imageHeight = imageWidth / originExtentAspectRatio;\n            } else {\n                imageWidth = imageHeight * originExtentAspectRatio;\n            }\n\n            const rotatedCoordinates = rotateExtent([0, 0, imageWidth, imageHeight], rad);\n            const rotatedWidth = rotatedCoordinates[2] - rotatedCoordinates[0];\n            const rotatedHeight = rotatedCoordinates[3] - rotatedCoordinates[1];\n\n            const sourceResolution = Math.max(\n                (this.imageExtent_[2] - this.imageExtent_[0]) / rotatedWidth,\n                (this.imageExtent_[3] - this.imageExtent_[1]) / rotatedHeight\n            );\n            const maxResolution = Math.max(gridExtentWidth, gridExtentHeight) / tileSize;\n            const tileGrid = new TileGrid({\n                extent: gridExtent,\n                tileSize: tileSize,\n                minZoom: options.minZoom,\n                resolutions: resolutionsFromExtent(gridExtent, {\n                    maxZoom: options.maxZoom,\n                    tileSize: tileSize,\n                    maxResolution,\n                    sourceResolution,\n                }),\n            });\n            if (tileGrid) {\n                this.tileGrid = tileGrid;\n                canvas.width = rotatedWidth;\n                canvas.height = rotatedHeight;\n\n                context.save();\n                context.translate(rotatedWidth / 2, rotatedHeight / 2);\n                context.rotate(-rad);\n                context.drawImage(image, 0, 0, image.width, image.height, -imageWidth / 2, -imageHeight / 2, imageWidth, imageHeight);\n                context.restore();\n\n                this.setState(SourceState.READY);\n            } else {\n                this.setState(SourceState.ERROR);\n            }\n        });\n        image.addEventListener(\"error\", () => {\n            if (options.file) URL.revokeObjectURL(url);\n            this.setState(SourceState.ERROR);\n        });\n\n        image.src = url;\n    }\n}","import SourceState from \"ol/source/State\";\nimport TileState from \"ol/TileState\";\nimport {\n    DEFAULT_MAX_ZOOM,\n    DEFAULT_TILE_SIZE\n} from \"ol/tilegrid/common\";\nimport {\n    getHeight,\n    getWidth,\n} from \"ol/extent\";\nimport {\n    ProjectionLike,\n    get as getCachedProjection,\n} from \"ol/proj\";\nimport ImageTile from \"ol/ImageTile\";\nimport Tile from \"ol/Tile\";\nimport { AttributionLike } from \"ol/source/Source\";\nimport TileGrid from \"ol/tilegrid/TileGrid\";\nimport TileImage from \"ol/source/TileImage\";\n\nfunction rotateExtent(extent: number[], rad: number): number[] {\n    const center = [(extent[2] - extent[0]) / 2 + extent[0], (extent[3] - extent[1]) / 2 + extent[1]];\n    const leftTop = [\n        (extent[0] - center[0]) * Math.cos(rad) - (extent[3] - center[1]) * Math.sin(rad),\n        (extent[0] - center[0]) * Math.sin(rad) + (extent[3] - center[1]) * Math.cos(rad),\n    ];\n    const leftBottom = [\n        (extent[0] - center[0]) * Math.cos(rad) - (extent[1] - center[1]) * Math.sin(rad),\n        (extent[0] - center[0]) * Math.sin(rad) + (extent[1] - center[1]) * Math.cos(rad),\n    ];\n    const rightBottom = [\n        (extent[2] - center[0]) * Math.cos(rad) - (extent[1] - center[1]) * Math.sin(rad),\n        (extent[2] - center[0]) * Math.sin(rad) + (extent[1] - center[1]) * Math.cos(rad),\n    ];\n    const rightTop = [\n        (extent[2] - center[0]) * Math.cos(rad) - (extent[3] - center[1]) * Math.sin(rad),\n        (extent[2] - center[0]) * Math.sin(rad) + (extent[3] - center[1]) * Math.cos(rad),\n    ];\n\n    return [\n        Math.min(leftTop[0], leftBottom[0], rightBottom[0], rightTop[0]) + center[0],\n        Math.min(leftTop[1], leftBottom[1], rightBottom[1], rightTop[1]) + center[1],\n        Math.max(leftTop[0], leftBottom[0], rightBottom[0], rightTop[0]) + center[0],\n        Math.max(leftTop[1], leftBottom[1], rightBottom[1], rightTop[1]) + center[1],\n    ];\n}\n\ninterface ResolutionsFromExtentOptions {\n    maxZoom?: number;\n    tileSize?: number;\n    maxResolution?: number;\n    sourceResolution?: number;\n}\nfunction resolutionsFromExtent(\n    extent: number[],\n    options?: ResolutionsFromExtentOptions\n): number[] {\n    const maxZoom = options?.maxZoom !== undefined ? options.maxZoom : DEFAULT_MAX_ZOOM;\n\n    const height = getHeight(extent);\n    const width = getWidth(extent);\n\n    const tileSize = options?.tileSize !== undefined ? options.tileSize : DEFAULT_TILE_SIZE;\n    const maxResolution =\n        options?.maxResolution && options.maxResolution > 0 ?\n            options.maxResolution :\n            Math.max(width / tileSize, height / tileSize);\n\n    const sourceResolution =\n        options?.sourceResolution && options.sourceResolution > 0 ? options.sourceResolution : 0;\n\n\n    const length = maxZoom + 1;\n    const resolutions: number[] = [];\n    for (let z = 0; z < length; ++z) {\n        const resolution = maxResolution / Math.pow(2, z);\n        if (resolution < sourceResolution) break;\n        resolutions.push(resolution);\n    }\n    return resolutions;\n}\n\nfunction getWindow(gridExtent: number[], z: number, x: number, y: number,): number[] {\n    const size = Math.max(gridExtent[2] - gridExtent[0], gridExtent[3] - gridExtent[1]) / (2 ** z);\n    const left = gridExtent[0] + x * size;\n    const top = gridExtent[3] - y * size;\n    const right = left + size;\n    const bottom = top - size;\n\n    return [left, top, right, bottom]\n}\n\nexport type RegionalProps = {\n    url?: string;\n    file?: File;\n    imageExtent: number[];\n    projection: ProjectionLike;\n    rotate?: number;\n    minZoom?: number;\n    maxZoom?: number;\n    tileSize?: number;\n    attributions?: AttributionLike;\n    attributionsCollapsible?: boolean;\n    cacheSize?: number;\n    crossOrigin?: string | null;\n    interpolate?: boolean;\n    opaque?: boolean;\n    reprojectionErrorThreshold?: number;\n    tilePixelRatio?: number;\n    wrapX?: boolean;\n    transition?: number;\n};\n\nexport class Regional extends TileImage {\n    private imageExtent_: number[];\n    private context_: CanvasRenderingContext2D | null;\n\n    constructor(userOptions: RegionalProps) {\n        const options = userOptions || {};\n        if (!options.url && !options.file) throw new Error(\"source url or file is necessary.\");\n\n        const tileSize = options.tileSize ? options.tileSize : DEFAULT_TILE_SIZE;\n\n        const projection = getCachedProjection(options.projection);\n        if (!projection) throw new Error(\"projection is necessary.\");\n\n        let imageExtent = [Infinity, Infinity, -Infinity, -Infinity];\n        if (Array.isArray(options.imageExtent) && options.imageExtent.length > 3) {\n            imageExtent = options.imageExtent;\n        }\n        if (\n            imageExtent[2] <= imageExtent[0] || imageExtent[3] <= imageExtent[1]\n        ) throw new Error(\"invalid extent.\");\n        let rad = 0;\n        if (options.rotate) {\n            rad = options.rotate;\n            imageExtent = rotateExtent(imageExtent, rad)\n        }\n\n        const tileLoadFunction =\n            (imageTile: Tile, coordString: string) => {\n                const [z, x, y] = coordString.split(\",\").map(Number);\n                const canvas = document.createElement(\"canvas\");\n                const context = canvas.getContext(\"2d\");\n                const tempCanvas = document.createElement(\"canvas\");\n                const tempContext = tempCanvas.getContext(\"2d\");\n                if (!this.context_ || !context || !tempContext) {\n                    imageTile.setState(TileState.ERROR);\n                    return;\n                }\n                canvas.width = tileSize;\n                canvas.height = tileSize;\n\n                const window = getWindow(imageExtent, z, x, y);\n                const tileLeft = window[0];\n                const tileRight = window[2];\n                const tileTop = window[1];\n                const tileBottom = window[3];\n                const [\n                    imageExtentLeft, imageExtentBottom, imageExtentRight, imageExtentTop\n                ] = this.imageExtent_;\n\n\n                const sourcePerPixel = [(imageExtentRight - imageExtentLeft) / this.context_.canvas.width, (imageExtentTop - imageExtentBottom) / this.context_.canvas.height];\n                const tilePerPixel = [(tileRight - tileLeft) / tileSize, (tileTop - tileBottom) / tileSize];\n                const leftBottom = [Math.max(tileLeft, imageExtentLeft), Math.max(imageExtentBottom, tileBottom)];\n                const rightTop = [Math.min(tileRight, imageExtentRight), Math.min(imageExtentTop, tileTop)];\n                const tileRect = [\n                    Math.round((leftBottom[0] - tileLeft) / tilePerPixel[0]), Math.round((tileTop - rightTop[1]) / tilePerPixel[1]),\n                    Math.round((rightTop[0] - tileLeft) / tilePerPixel[0]), Math.round((tileTop - leftBottom[1]) / tilePerPixel[1])\n                ];\n                const sourceRect = [\n                    Math.round((leftBottom[0] - imageExtentLeft) / sourcePerPixel[0]), Math.round((imageExtentTop - rightTop[1]) / sourcePerPixel[1]),\n                    Math.round((rightTop[0] - imageExtentLeft) / sourcePerPixel[0]), Math.round((imageExtentTop - leftBottom[1]) / sourcePerPixel[1])\n                ];\n                const sourceRectSize = [sourceRect[2] - sourceRect[0], sourceRect[3] - sourceRect[1]];\n                const tileRectSize = [tileRect[2] - tileRect[0], tileRect[3] - tileRect[1]];\n\n                if (Math.min(...sourceRectSize, ...tileRectSize) <= 0) {\n                    imageTile.setState(TileState.EMPTY);\n                    return\n                }\n                tempCanvas.width = sourceRectSize[0];\n                tempCanvas.height = sourceRectSize[1];\n                tempContext.clearRect(0, 0, sourceRectSize[0], sourceRectSize[1]);\n                tempContext.putImageData(this.context_.getImageData(sourceRect[0], sourceRect[1], sourceRectSize[0], sourceRectSize[1]), 0, 0);\n                context.drawImage(tempCanvas, 0, 0, sourceRectSize[0], sourceRectSize[1], tileRect[0], tileRect[1], tileRectSize[0], tileRectSize[1]);\n\n                const src = canvas.toDataURL();\n                ((imageTile as ImageTile).getImage() as HTMLImageElement).src = src;\n            };\n\n        const interpolate =\n            options.interpolate !== undefined ? options.interpolate : true;\n\n        super({\n            state: SourceState.LOADING,\n            attributions: options.attributions,\n            cacheSize: options.cacheSize,\n            crossOrigin: options.crossOrigin,\n            interpolate: interpolate,\n            opaque: options.opaque,\n            projection,\n            reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n            tileLoadFunction,\n            tilePixelRatio: options.tilePixelRatio,\n            url: \"{z},{x},{y}\",\n            wrapX: options.wrapX !== undefined ? options.wrapX : true,\n            transition: options.transition,\n            attributionsCollapsible: options.attributionsCollapsible,\n        });\n\n        this.imageExtent_ = imageExtent;\n\n        const extentWidth = imageExtent[2] - imageExtent[0];\n        const extentHeight = imageExtent[3] - imageExtent[1];\n        const originExtentAspectRatio = extentWidth / extentHeight;\n\n\n        const canvas = document.createElement(\"canvas\");\n        const context = canvas.getContext(\"2d\");\n        if (!context) {\n            this.context_ = null;\n            return;\n        }\n        context.imageSmoothingEnabled = interpolate;\n        this.context_ = context;\n\n        const image = new Image();\n        image.crossOrigin = options.crossOrigin || \"\";\n\n        let url = \"\";\n        if (options.file)\n            url = URL.createObjectURL(options.file)\n        else if (options.url)\n            url = options.url;\n        image.addEventListener(\"load\", () => {\n            if (options.file) URL.revokeObjectURL(url);\n            let imageWidth = image.width;\n            let imageHeight = image.height;\n\n            if (imageWidth < imageHeight) {\n                imageHeight = imageWidth / originExtentAspectRatio;\n            } else {\n                imageWidth = imageHeight * originExtentAspectRatio;\n            }\n\n            const rotatedCoordinates = rotateExtent([0, 0, imageWidth, imageHeight], rad);\n            const rotatedWidth = rotatedCoordinates[2] - rotatedCoordinates[0];\n            const rotatedHeight = rotatedCoordinates[3] - rotatedCoordinates[1];\n\n            const sourceResolution = Math.max(\n                (this.imageExtent_[2] - this.imageExtent_[0]) / rotatedWidth,\n                (this.imageExtent_[3] - this.imageExtent_[1]) / rotatedHeight\n            );\n            const maxResolution = Math.max(extentWidth, extentHeight) / tileSize;\n            const tileGrid = new TileGrid({\n                extent: this.imageExtent_,\n                tileSize: tileSize,\n                minZoom: options.minZoom,\n                resolutions: resolutionsFromExtent(this.imageExtent_, {\n                    maxZoom: options.maxZoom,\n                    tileSize: tileSize,\n                    maxResolution,\n                    sourceResolution,\n                }),\n            });\n            if (tileGrid) {\n                this.tileGrid = tileGrid;\n                canvas.width = rotatedWidth;\n                canvas.height = rotatedHeight;\n\n                context.save();\n                context.translate(rotatedWidth / 2, rotatedHeight / 2);\n                context.rotate(-rad);\n                context.drawImage(image, 0, 0, image.width, image.height, -imageWidth / 2, -imageHeight / 2, imageWidth, imageHeight);\n                context.restore();\n\n                this.setState(SourceState.READY);\n            } else {\n                this.setState(SourceState.ERROR);\n            }\n        });\n        image.addEventListener(\"error\", () => {\n            if (options.file) URL.revokeObjectURL(url);\n            this.setState(SourceState.ERROR);\n        });\n        image.src = url;\n    }\n}","export function fromWhiteIsZero(raster, max) {\n  var width = raster.width,\n      height = raster.height;\n  var rgbRaster = new Uint8Array(width * height * 3);\n  var value;\n\n  for (var i = 0, j = 0; i < raster.length; ++i, j += 3) {\n    value = 256 - raster[i] / max * 256;\n    rgbRaster[j] = value;\n    rgbRaster[j + 1] = value;\n    rgbRaster[j + 2] = value;\n  }\n\n  return rgbRaster;\n}\nexport function fromBlackIsZero(raster, max) {\n  var width = raster.width,\n      height = raster.height;\n  var rgbRaster = new Uint8Array(width * height * 3);\n  var value;\n\n  for (var i = 0, j = 0; i < raster.length; ++i, j += 3) {\n    value = raster[i] / max * 256;\n    rgbRaster[j] = value;\n    rgbRaster[j + 1] = value;\n    rgbRaster[j + 2] = value;\n  }\n\n  return rgbRaster;\n}\nexport function fromPalette(raster, colorMap) {\n  var width = raster.width,\n      height = raster.height;\n  var rgbRaster = new Uint8Array(width * height * 3);\n  var greenOffset = colorMap.length / 3;\n  var blueOffset = colorMap.length / 3 * 2;\n\n  for (var i = 0, j = 0; i < raster.length; ++i, j += 3) {\n    var mapIndex = raster[i];\n    rgbRaster[j] = colorMap[mapIndex] / 65536 * 256;\n    rgbRaster[j + 1] = colorMap[mapIndex + greenOffset] / 65536 * 256;\n    rgbRaster[j + 2] = colorMap[mapIndex + blueOffset] / 65536 * 256;\n  }\n\n  return rgbRaster;\n}\nexport function fromCMYK(cmykRaster) {\n  var width = cmykRaster.width,\n      height = cmykRaster.height;\n  var rgbRaster = new Uint8Array(width * height * 3);\n\n  for (var i = 0, j = 0; i < cmykRaster.length; i += 4, j += 3) {\n    var c = cmykRaster[i];\n    var m = cmykRaster[i + 1];\n    var y = cmykRaster[i + 2];\n    var k = cmykRaster[i + 3];\n    rgbRaster[j] = 255 * ((255 - c) / 256) * ((255 - k) / 256);\n    rgbRaster[j + 1] = 255 * ((255 - m) / 256) * ((255 - k) / 256);\n    rgbRaster[j + 2] = 255 * ((255 - y) / 256) * ((255 - k) / 256);\n  }\n\n  return rgbRaster;\n}\nexport function fromYCbCr(yCbCrRaster) {\n  var width = yCbCrRaster.width,\n      height = yCbCrRaster.height;\n  var rgbRaster = new Uint8ClampedArray(width * height * 3);\n\n  for (var i = 0, j = 0; i < yCbCrRaster.length; i += 3, j += 3) {\n    var y = yCbCrRaster[i];\n    var cb = yCbCrRaster[i + 1];\n    var cr = yCbCrRaster[i + 2];\n    rgbRaster[j] = y + 1.40200 * (cr - 0x80);\n    rgbRaster[j + 1] = y - 0.34414 * (cb - 0x80) - 0.71414 * (cr - 0x80);\n    rgbRaster[j + 2] = y + 1.77200 * (cb - 0x80);\n  }\n\n  return rgbRaster;\n}\nvar Xn = 0.95047;\nvar Yn = 1.00000;\nvar Zn = 1.08883; // from https://github.com/antimatter15/rgb-lab/blob/master/color.js\n\nexport function fromCIELab(cieLabRaster) {\n  var width = cieLabRaster.width,\n      height = cieLabRaster.height;\n  var rgbRaster = new Uint8Array(width * height * 3);\n\n  for (var i = 0, j = 0; i < cieLabRaster.length; i += 3, j += 3) {\n    var L = cieLabRaster[i + 0];\n    var a_ = cieLabRaster[i + 1] << 24 >> 24; // conversion from uint8 to int8\n\n    var b_ = cieLabRaster[i + 2] << 24 >> 24; // same\n\n    var y = (L + 16) / 116;\n    var x = a_ / 500 + y;\n    var z = y - b_ / 200;\n    var r = void 0;\n    var g = void 0;\n    var b = void 0;\n    x = Xn * (x * x * x > 0.008856 ? x * x * x : (x - 16 / 116) / 7.787);\n    y = Yn * (y * y * y > 0.008856 ? y * y * y : (y - 16 / 116) / 7.787);\n    z = Zn * (z * z * z > 0.008856 ? z * z * z : (z - 16 / 116) / 7.787);\n    r = x * 3.2406 + y * -1.5372 + z * -0.4986;\n    g = x * -0.9689 + y * 1.8758 + z * 0.0415;\n    b = x * 0.0557 + y * -0.2040 + z * 1.0570;\n    r = r > 0.0031308 ? 1.055 * Math.pow(r, 1 / 2.4) - 0.055 : 12.92 * r;\n    g = g > 0.0031308 ? 1.055 * Math.pow(g, 1 / 2.4) - 0.055 : 12.92 * g;\n    b = b > 0.0031308 ? 1.055 * Math.pow(b, 1 / 2.4) - 0.055 : 12.92 * b;\n    rgbRaster[j] = Math.max(0, Math.min(1, r)) * 255;\n    rgbRaster[j + 1] = Math.max(0, Math.min(1, g)) * 255;\n    rgbRaster[j + 2] = Math.max(0, Math.min(1, b)) * 255;\n  }\n\n  return rgbRaster;\n}","import _asyncToGenerator from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/regenerator/index.js\";\nvar registry = new Map();\nexport function addDecoder(cases, importFn) {\n  if (!Array.isArray(cases)) {\n    cases = [cases]; // eslint-disable-line no-param-reassign\n  }\n\n  cases.forEach(function (c) {\n    return registry.set(c, importFn);\n  });\n}\nexport function getDecoder(_x) {\n  return _getDecoder.apply(this, arguments);\n} // Add default decoders to registry (end-user may override with other implementations)\n\nfunction _getDecoder() {\n  _getDecoder = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(fileDirectory) {\n    var importFn, Decoder;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            importFn = registry.get(fileDirectory.Compression);\n\n            if (importFn) {\n              _context.next = 3;\n              break;\n            }\n\n            throw new Error(\"Unknown compression method identifier: \".concat(fileDirectory.Compression));\n\n          case 3:\n            _context.next = 5;\n            return importFn();\n\n          case 5:\n            Decoder = _context.sent;\n            return _context.abrupt(\"return\", new Decoder(fileDirectory));\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getDecoder.apply(this, arguments);\n}\n\naddDecoder([undefined, 1], function () {\n  return import('./raw.js').then(function (m) {\n    return m.default;\n  });\n});\naddDecoder(5, function () {\n  return import('./lzw.js').then(function (m) {\n    return m.default;\n  });\n});\naddDecoder(6, function () {\n  throw new Error('old style JPEG compression is not supported.');\n});\naddDecoder(7, function () {\n  return import('./jpeg.js').then(function (m) {\n    return m.default;\n  });\n});\naddDecoder([8, 32946], function () {\n  return import('./deflate.js').then(function (m) {\n    return m.default;\n  });\n});\naddDecoder(32773, function () {\n  return import('./packbits.js').then(function (m) {\n    return m.default;\n  });\n});\naddDecoder(34887, function () {\n  return import('./lerc.js').then(function (m) {\n    return m.default;\n  });\n});\naddDecoder(50001, function () {\n  return import('./webimage.js').then(function (m) {\n    return m.default;\n  });\n});","/**\n * @module resample\n */\nfunction copyNewSize(array, width, height) {\n  var samplesPerPixel = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n  return new (Object.getPrototypeOf(array).constructor)(width * height * samplesPerPixel);\n}\n/**\n * Resample the input arrays using nearest neighbor value selection.\n * @param {TypedArray[]} valueArrays The input arrays to resample\n * @param {number} inWidth The width of the input rasters\n * @param {number} inHeight The height of the input rasters\n * @param {number} outWidth The desired width of the output rasters\n * @param {number} outHeight The desired height of the output rasters\n * @returns {TypedArray[]} The resampled rasters\n */\n\n\nexport function resampleNearest(valueArrays, inWidth, inHeight, outWidth, outHeight) {\n  var relX = inWidth / outWidth;\n  var relY = inHeight / outHeight;\n  return valueArrays.map(function (array) {\n    var newArray = copyNewSize(array, outWidth, outHeight);\n\n    for (var y = 0; y < outHeight; ++y) {\n      var cy = Math.min(Math.round(relY * y), inHeight - 1);\n\n      for (var x = 0; x < outWidth; ++x) {\n        var cx = Math.min(Math.round(relX * x), inWidth - 1);\n        var value = array[cy * inWidth + cx];\n        newArray[y * outWidth + x] = value;\n      }\n    }\n\n    return newArray;\n  });\n} // simple linear interpolation, code from:\n// https://en.wikipedia.org/wiki/Linear_interpolation#Programming_language_support\n\nfunction lerp(v0, v1, t) {\n  return (1 - t) * v0 + t * v1;\n}\n/**\n * Resample the input arrays using bilinear interpolation.\n * @param {TypedArray[]} valueArrays The input arrays to resample\n * @param {number} inWidth The width of the input rasters\n * @param {number} inHeight The height of the input rasters\n * @param {number} outWidth The desired width of the output rasters\n * @param {number} outHeight The desired height of the output rasters\n * @returns {TypedArray[]} The resampled rasters\n */\n\n\nexport function resampleBilinear(valueArrays, inWidth, inHeight, outWidth, outHeight) {\n  var relX = inWidth / outWidth;\n  var relY = inHeight / outHeight;\n  return valueArrays.map(function (array) {\n    var newArray = copyNewSize(array, outWidth, outHeight);\n\n    for (var y = 0; y < outHeight; ++y) {\n      var rawY = relY * y;\n      var yl = Math.floor(rawY);\n      var yh = Math.min(Math.ceil(rawY), inHeight - 1);\n\n      for (var x = 0; x < outWidth; ++x) {\n        var rawX = relX * x;\n        var tx = rawX % 1;\n        var xl = Math.floor(rawX);\n        var xh = Math.min(Math.ceil(rawX), inWidth - 1);\n        var ll = array[yl * inWidth + xl];\n        var hl = array[yl * inWidth + xh];\n        var lh = array[yh * inWidth + xl];\n        var hh = array[yh * inWidth + xh];\n        var value = lerp(lerp(ll, hl, tx), lerp(lh, hh, tx), rawY % 1);\n        newArray[y * outWidth + x] = value;\n      }\n    }\n\n    return newArray;\n  });\n}\n/**\n * Resample the input arrays using the selected resampling method.\n * @param {TypedArray[]} valueArrays The input arrays to resample\n * @param {number} inWidth The width of the input rasters\n * @param {number} inHeight The height of the input rasters\n * @param {number} outWidth The desired width of the output rasters\n * @param {number} outHeight The desired height of the output rasters\n * @param {string} [method = 'nearest'] The desired resampling method\n * @returns {TypedArray[]} The resampled rasters\n */\n\nexport function resample(valueArrays, inWidth, inHeight, outWidth, outHeight) {\n  var method = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 'nearest';\n\n  switch (method.toLowerCase()) {\n    case 'nearest':\n      return resampleNearest(valueArrays, inWidth, inHeight, outWidth, outHeight);\n\n    case 'bilinear':\n    case 'linear':\n      return resampleBilinear(valueArrays, inWidth, inHeight, outWidth, outHeight);\n\n    default:\n      throw new Error(\"Unsupported resampling method: '\".concat(method, \"'\"));\n  }\n}\n/**\n * Resample the pixel interleaved input array using nearest neighbor value selection.\n * @param {TypedArray} valueArrays The input arrays to resample\n * @param {number} inWidth The width of the input rasters\n * @param {number} inHeight The height of the input rasters\n * @param {number} outWidth The desired width of the output rasters\n * @param {number} outHeight The desired height of the output rasters\n * @param {number} samples The number of samples per pixel for pixel\n *                         interleaved data\n * @returns {TypedArray} The resampled raster\n */\n\nexport function resampleNearestInterleaved(valueArray, inWidth, inHeight, outWidth, outHeight, samples) {\n  var relX = inWidth / outWidth;\n  var relY = inHeight / outHeight;\n  var newArray = copyNewSize(valueArray, outWidth, outHeight, samples);\n\n  for (var y = 0; y < outHeight; ++y) {\n    var cy = Math.min(Math.round(relY * y), inHeight - 1);\n\n    for (var x = 0; x < outWidth; ++x) {\n      var cx = Math.min(Math.round(relX * x), inWidth - 1);\n\n      for (var i = 0; i < samples; ++i) {\n        var value = valueArray[cy * inWidth * samples + cx * samples + i];\n        newArray[y * outWidth * samples + x * samples + i] = value;\n      }\n    }\n  }\n\n  return newArray;\n}\n/**\n * Resample the pixel interleaved input array using bilinear interpolation.\n * @param {TypedArray} valueArrays The input arrays to resample\n * @param {number} inWidth The width of the input rasters\n * @param {number} inHeight The height of the input rasters\n * @param {number} outWidth The desired width of the output rasters\n * @param {number} outHeight The desired height of the output rasters\n * @param {number} samples The number of samples per pixel for pixel\n *                         interleaved data\n * @returns {TypedArray} The resampled raster\n */\n\nexport function resampleBilinearInterleaved(valueArray, inWidth, inHeight, outWidth, outHeight, samples) {\n  var relX = inWidth / outWidth;\n  var relY = inHeight / outHeight;\n  var newArray = copyNewSize(valueArray, outWidth, outHeight, samples);\n\n  for (var y = 0; y < outHeight; ++y) {\n    var rawY = relY * y;\n    var yl = Math.floor(rawY);\n    var yh = Math.min(Math.ceil(rawY), inHeight - 1);\n\n    for (var x = 0; x < outWidth; ++x) {\n      var rawX = relX * x;\n      var tx = rawX % 1;\n      var xl = Math.floor(rawX);\n      var xh = Math.min(Math.ceil(rawX), inWidth - 1);\n\n      for (var i = 0; i < samples; ++i) {\n        var ll = valueArray[yl * inWidth * samples + xl * samples + i];\n        var hl = valueArray[yl * inWidth * samples + xh * samples + i];\n        var lh = valueArray[yh * inWidth * samples + xl * samples + i];\n        var hh = valueArray[yh * inWidth * samples + xh * samples + i];\n        var value = lerp(lerp(ll, hl, tx), lerp(lh, hh, tx), rawY % 1);\n        newArray[y * outWidth * samples + x * samples + i] = value;\n      }\n    }\n  }\n\n  return newArray;\n}\n/**\n * Resample the pixel interleaved input array using the selected resampling method.\n * @param {TypedArray} valueArray The input array to resample\n * @param {number} inWidth The width of the input rasters\n * @param {number} inHeight The height of the input rasters\n * @param {number} outWidth The desired width of the output rasters\n * @param {number} outHeight The desired height of the output rasters\n * @param {number} samples The number of samples per pixel for pixel\n *                                 interleaved data\n * @param {string} [method = 'nearest'] The desired resampling method\n * @returns {TypedArray} The resampled rasters\n */\n\nexport function resampleInterleaved(valueArray, inWidth, inHeight, outWidth, outHeight, samples) {\n  var method = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 'nearest';\n\n  switch (method.toLowerCase()) {\n    case 'nearest':\n      return resampleNearestInterleaved(valueArray, inWidth, inHeight, outWidth, outHeight, samples);\n\n    case 'bilinear':\n    case 'linear':\n      return resampleBilinearInterleaved(valueArray, inWidth, inHeight, outWidth, outHeight, samples);\n\n    default:\n      throw new Error(\"Unsupported resampling method: '\".concat(method, \"'\"));\n  }\n}","import _slicedToArray from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _asyncToGenerator from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/regenerator/index.js\";\n\n/** @module geotiffimage */\nimport { getFloat16 } from '@petamoriken/float16';\nimport getAttribute from 'xml-utils/get-attribute.js';\nimport findTagsByName from 'xml-utils/find-tags-by-name.js';\nimport { photometricInterpretations, ExtraSamplesValues } from './globals.js';\nimport { fromWhiteIsZero, fromBlackIsZero, fromPalette, fromCMYK, fromYCbCr, fromCIELab } from './rgb.js';\nimport { getDecoder } from './compression/index.js';\nimport { resample, resampleInterleaved } from './resample.js';\n/**\n * @typedef {Object} ReadRasterOptions\n * @property {Array<number>} [window=whole window] the subset to read data from in pixels.\n * @property {Array<number>} [bbox=whole image] the subset to read data from in\n *                                           geographical coordinates.\n * @property {Array<number>} [samples=all samples] the selection of samples to read from. Default is all samples.\n * @property {boolean} [interleave=false] whether the data shall be read\n *                                             in one single array or separate\n *                                             arrays.\n * @property {Pool} [pool=null] The optional decoder pool to use.\n * @property {number} [width] The desired width of the output. When the width is not the\n *                                 same as the images, resampling will be performed.\n * @property {number} [height] The desired height of the output. When the width is not the\n *                                  same as the images, resampling will be performed.\n * @property {string} [resampleMethod='nearest'] The desired resampling method.\n * @property {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\n *                                       to be aborted\n * @property {number|number[]} [fillValue] The value to use for parts of the image\n *                                              outside of the images extent. When multiple\n *                                              samples are requested, an array of fill values\n *                                              can be passed.\n */\n\n/** @typedef {import(\"./geotiff.js\").TypedArray} TypedArray */\n\nfunction sum(array, start, end) {\n  var s = 0;\n\n  for (var i = start; i < end; ++i) {\n    s += array[i];\n  }\n\n  return s;\n}\n\nfunction arrayForType(format, bitsPerSample, size) {\n  switch (format) {\n    case 1:\n      // unsigned integer data\n      if (bitsPerSample <= 8) {\n        return new Uint8Array(size);\n      } else if (bitsPerSample <= 16) {\n        return new Uint16Array(size);\n      } else if (bitsPerSample <= 32) {\n        return new Uint32Array(size);\n      }\n\n      break;\n\n    case 2:\n      // twos complement signed integer data\n      if (bitsPerSample === 8) {\n        return new Int8Array(size);\n      } else if (bitsPerSample === 16) {\n        return new Int16Array(size);\n      } else if (bitsPerSample === 32) {\n        return new Int32Array(size);\n      }\n\n      break;\n\n    case 3:\n      // floating point data\n      switch (bitsPerSample) {\n        case 16:\n        case 32:\n          return new Float32Array(size);\n\n        case 64:\n          return new Float64Array(size);\n\n        default:\n          break;\n      }\n\n      break;\n\n    default:\n      break;\n  }\n\n  throw Error('Unsupported data format/bitsPerSample');\n}\n\nfunction needsNormalization(format, bitsPerSample) {\n  if ((format === 1 || format === 2) && bitsPerSample <= 32 && bitsPerSample % 8 === 0) {\n    return false;\n  } else if (format === 3 && (bitsPerSample === 16 || bitsPerSample === 32 || bitsPerSample === 64)) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction normalizeArray(inBuffer, format, planarConfiguration, samplesPerPixel, bitsPerSample, tileWidth, tileHeight) {\n  // const inByteArray = new Uint8Array(inBuffer);\n  var view = new DataView(inBuffer);\n  var outSize = planarConfiguration === 2 ? tileHeight * tileWidth : tileHeight * tileWidth * samplesPerPixel;\n  var samplesToTransfer = planarConfiguration === 2 ? 1 : samplesPerPixel;\n  var outArray = arrayForType(format, bitsPerSample, outSize); // let pixel = 0;\n\n  var bitMask = parseInt('1'.repeat(bitsPerSample), 2);\n\n  if (format === 1) {\n    // unsigned integer\n    // translation of https://github.com/OSGeo/gdal/blob/master/gdal/frmts/gtiff/geotiff.cpp#L7337\n    var pixelBitSkip; // let sampleBitOffset = 0;\n\n    if (planarConfiguration === 1) {\n      pixelBitSkip = samplesPerPixel * bitsPerSample; // sampleBitOffset = (samplesPerPixel - 1) * bitsPerSample;\n    } else {\n      pixelBitSkip = bitsPerSample;\n    } // Bits per line rounds up to next byte boundary.\n\n\n    var bitsPerLine = tileWidth * pixelBitSkip;\n\n    if ((bitsPerLine & 7) !== 0) {\n      bitsPerLine = bitsPerLine + 7 & ~7;\n    }\n\n    for (var y = 0; y < tileHeight; ++y) {\n      var lineBitOffset = y * bitsPerLine;\n\n      for (var x = 0; x < tileWidth; ++x) {\n        var pixelBitOffset = lineBitOffset + x * samplesToTransfer * bitsPerSample;\n\n        for (var i = 0; i < samplesToTransfer; ++i) {\n          var bitOffset = pixelBitOffset + i * bitsPerSample;\n          var outIndex = (y * tileWidth + x) * samplesToTransfer + i;\n          var byteOffset = Math.floor(bitOffset / 8);\n          var innerBitOffset = bitOffset % 8;\n\n          if (innerBitOffset + bitsPerSample <= 8) {\n            outArray[outIndex] = view.getUint8(byteOffset) >> 8 - bitsPerSample - innerBitOffset & bitMask;\n          } else if (innerBitOffset + bitsPerSample <= 16) {\n            outArray[outIndex] = view.getUint16(byteOffset) >> 16 - bitsPerSample - innerBitOffset & bitMask;\n          } else if (innerBitOffset + bitsPerSample <= 24) {\n            var raw = view.getUint16(byteOffset) << 8 | view.getUint8(byteOffset + 2);\n            outArray[outIndex] = raw >> 24 - bitsPerSample - innerBitOffset & bitMask;\n          } else {\n            outArray[outIndex] = view.getUint32(byteOffset) >> 32 - bitsPerSample - innerBitOffset & bitMask;\n          } // let outWord = 0;\n          // for (let bit = 0; bit < bitsPerSample; ++bit) {\n          //   if (inByteArray[bitOffset >> 3]\n          //     & (0x80 >> (bitOffset & 7))) {\n          //     outWord |= (1 << (bitsPerSample - 1 - bit));\n          //   }\n          //   ++bitOffset;\n          // }\n          // outArray[outIndex] = outWord;\n          // outArray[pixel] = outWord;\n          // pixel += 1;\n\n        } // bitOffset = bitOffset + pixelBitSkip - bitsPerSample;\n\n      }\n    }\n  } else if (format === 3) {// floating point\n    // Float16 is handled elsewhere\n    // normalize 16/24 bit floats to 32 bit floats in the array\n    // console.time();\n    // if (bitsPerSample === 16) {\n    //   for (let byte = 0, outIndex = 0; byte < inBuffer.byteLength; byte += 2, ++outIndex) {\n    //     outArray[outIndex] = getFloat16(view, byte);\n    //   }\n    // }\n    // console.timeEnd()\n  }\n\n  return outArray.buffer;\n}\n/**\n * GeoTIFF sub-file image.\n */\n\n\nvar GeoTIFFImage = /*#__PURE__*/function () {\n  /**\n   * @constructor\n   * @param {Object} fileDirectory The parsed file directory\n   * @param {Object} geoKeys The parsed geo-keys\n   * @param {DataView} dataView The DataView for the underlying file.\n   * @param {Boolean} littleEndian Whether the file is encoded in little or big endian\n   * @param {Boolean} cache Whether or not decoded tiles shall be cached\n   * @param {Source} source The datasource to read from\n   */\n  function GeoTIFFImage(fileDirectory, geoKeys, dataView, littleEndian, cache, source) {\n    _classCallCheck(this, GeoTIFFImage);\n\n    this.fileDirectory = fileDirectory;\n    this.geoKeys = geoKeys;\n    this.dataView = dataView;\n    this.littleEndian = littleEndian;\n    this.tiles = cache ? {} : null;\n    this.isTiled = !fileDirectory.StripOffsets;\n    var planarConfiguration = fileDirectory.PlanarConfiguration;\n    this.planarConfiguration = typeof planarConfiguration === 'undefined' ? 1 : planarConfiguration;\n\n    if (this.planarConfiguration !== 1 && this.planarConfiguration !== 2) {\n      throw new Error('Invalid planar configuration.');\n    }\n\n    this.source = source;\n  }\n  /**\n   * Returns the associated parsed file directory.\n   * @returns {Object} the parsed file directory\n   */\n\n\n  _createClass(GeoTIFFImage, [{\n    key: \"getFileDirectory\",\n    value: function getFileDirectory() {\n      return this.fileDirectory;\n    }\n    /**\n     * Returns the associated parsed geo keys.\n     * @returns {Object} the parsed geo keys\n     */\n\n  }, {\n    key: \"getGeoKeys\",\n    value: function getGeoKeys() {\n      return this.geoKeys;\n    }\n    /**\n     * Returns the width of the image.\n     * @returns {Number} the width of the image\n     */\n\n  }, {\n    key: \"getWidth\",\n    value: function getWidth() {\n      return this.fileDirectory.ImageWidth;\n    }\n    /**\n     * Returns the height of the image.\n     * @returns {Number} the height of the image\n     */\n\n  }, {\n    key: \"getHeight\",\n    value: function getHeight() {\n      return this.fileDirectory.ImageLength;\n    }\n    /**\n     * Returns the number of samples per pixel.\n     * @returns {Number} the number of samples per pixel\n     */\n\n  }, {\n    key: \"getSamplesPerPixel\",\n    value: function getSamplesPerPixel() {\n      return typeof this.fileDirectory.SamplesPerPixel !== 'undefined' ? this.fileDirectory.SamplesPerPixel : 1;\n    }\n    /**\n     * Returns the width of each tile.\n     * @returns {Number} the width of each tile\n     */\n\n  }, {\n    key: \"getTileWidth\",\n    value: function getTileWidth() {\n      return this.isTiled ? this.fileDirectory.TileWidth : this.getWidth();\n    }\n    /**\n     * Returns the height of each tile.\n     * @returns {Number} the height of each tile\n     */\n\n  }, {\n    key: \"getTileHeight\",\n    value: function getTileHeight() {\n      if (this.isTiled) {\n        return this.fileDirectory.TileLength;\n      }\n\n      if (typeof this.fileDirectory.RowsPerStrip !== 'undefined') {\n        return Math.min(this.fileDirectory.RowsPerStrip, this.getHeight());\n      }\n\n      return this.getHeight();\n    }\n  }, {\n    key: \"getBlockWidth\",\n    value: function getBlockWidth() {\n      return this.getTileWidth();\n    }\n  }, {\n    key: \"getBlockHeight\",\n    value: function getBlockHeight(y) {\n      if (this.isTiled || (y + 1) * this.getTileHeight() <= this.getHeight()) {\n        return this.getTileHeight();\n      } else {\n        return this.getHeight() - y * this.getTileHeight();\n      }\n    }\n    /**\n     * Calculates the number of bytes for each pixel across all samples. Only full\n     * bytes are supported, an exception is thrown when this is not the case.\n     * @returns {Number} the bytes per pixel\n     */\n\n  }, {\n    key: \"getBytesPerPixel\",\n    value: function getBytesPerPixel() {\n      var bytes = 0;\n\n      for (var i = 0; i < this.fileDirectory.BitsPerSample.length; ++i) {\n        bytes += this.getSampleByteSize(i);\n      }\n\n      return bytes;\n    }\n  }, {\n    key: \"getSampleByteSize\",\n    value: function getSampleByteSize(i) {\n      if (i >= this.fileDirectory.BitsPerSample.length) {\n        throw new RangeError(\"Sample index \".concat(i, \" is out of range.\"));\n      }\n\n      return Math.ceil(this.fileDirectory.BitsPerSample[i] / 8);\n    }\n  }, {\n    key: \"getReaderForSample\",\n    value: function getReaderForSample(sampleIndex) {\n      var format = this.fileDirectory.SampleFormat ? this.fileDirectory.SampleFormat[sampleIndex] : 1;\n      var bitsPerSample = this.fileDirectory.BitsPerSample[sampleIndex];\n\n      switch (format) {\n        case 1:\n          // unsigned integer data\n          if (bitsPerSample <= 8) {\n            return DataView.prototype.getUint8;\n          } else if (bitsPerSample <= 16) {\n            return DataView.prototype.getUint16;\n          } else if (bitsPerSample <= 32) {\n            return DataView.prototype.getUint32;\n          }\n\n          break;\n\n        case 2:\n          // twos complement signed integer data\n          if (bitsPerSample <= 8) {\n            return DataView.prototype.getInt8;\n          } else if (bitsPerSample <= 16) {\n            return DataView.prototype.getInt16;\n          } else if (bitsPerSample <= 32) {\n            return DataView.prototype.getInt32;\n          }\n\n          break;\n\n        case 3:\n          switch (bitsPerSample) {\n            case 16:\n              return function (offset, littleEndian) {\n                return getFloat16(this, offset, littleEndian);\n              };\n\n            case 32:\n              return DataView.prototype.getFloat32;\n\n            case 64:\n              return DataView.prototype.getFloat64;\n\n            default:\n              break;\n          }\n\n          break;\n\n        default:\n          break;\n      }\n\n      throw Error('Unsupported data format/bitsPerSample');\n    }\n  }, {\n    key: \"getSampleFormat\",\n    value: function getSampleFormat() {\n      var sampleIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      return this.fileDirectory.SampleFormat ? this.fileDirectory.SampleFormat[sampleIndex] : 1;\n    }\n  }, {\n    key: \"getBitsPerSample\",\n    value: function getBitsPerSample() {\n      var sampleIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      return this.fileDirectory.BitsPerSample[sampleIndex];\n    }\n  }, {\n    key: \"getArrayForSample\",\n    value: function getArrayForSample(sampleIndex, size) {\n      var format = this.getSampleFormat(sampleIndex);\n      var bitsPerSample = this.getBitsPerSample(sampleIndex);\n      return arrayForType(format, bitsPerSample, size);\n    }\n    /**\n     * Returns the decoded strip or tile.\n     * @param {Number} x the strip or tile x-offset\n     * @param {Number} y the tile y-offset (0 for stripped images)\n     * @param {Number} sample the sample to get for separated samples\n     * @param {import(\"./geotiff\").Pool|AbstractDecoder} poolOrDecoder the decoder or decoder pool\n     * @param {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\n     *                               to be aborted\n     * @returns {Promise.<ArrayBuffer>}\n     */\n\n  }, {\n    key: \"getTileOrStrip\",\n    value: function () {\n      var _getTileOrStrip = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(x, y, sample, poolOrDecoder, signal) {\n        var _this = this;\n\n        var numTilesPerRow, numTilesPerCol, index, tiles, offset, byteCount, slice, request;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                numTilesPerRow = Math.ceil(this.getWidth() / this.getTileWidth());\n                numTilesPerCol = Math.ceil(this.getHeight() / this.getTileHeight());\n                tiles = this.tiles;\n\n                if (this.planarConfiguration === 1) {\n                  index = y * numTilesPerRow + x;\n                } else if (this.planarConfiguration === 2) {\n                  index = sample * numTilesPerRow * numTilesPerCol + y * numTilesPerRow + x;\n                }\n\n                if (this.isTiled) {\n                  offset = this.fileDirectory.TileOffsets[index];\n                  byteCount = this.fileDirectory.TileByteCounts[index];\n                } else {\n                  offset = this.fileDirectory.StripOffsets[index];\n                  byteCount = this.fileDirectory.StripByteCounts[index];\n                }\n\n                _context2.next = 7;\n                return this.source.fetch([{\n                  offset: offset,\n                  length: byteCount\n                }], signal);\n\n              case 7:\n                slice = _context2.sent[0];\n\n                if (tiles === null || !tiles[index]) {\n                  // resolve each request by potentially applying array normalization\n                  request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n                    var data, sampleFormat, bitsPerSample;\n                    return _regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            _context.next = 2;\n                            return poolOrDecoder.decode(_this.fileDirectory, slice);\n\n                          case 2:\n                            data = _context.sent;\n                            sampleFormat = _this.getSampleFormat();\n                            bitsPerSample = _this.getBitsPerSample();\n\n                            if (needsNormalization(sampleFormat, bitsPerSample)) {\n                              data = normalizeArray(data, sampleFormat, _this.planarConfiguration, _this.getSamplesPerPixel(), bitsPerSample, _this.getTileWidth(), _this.getBlockHeight(y));\n                            }\n\n                            return _context.abrupt(\"return\", data);\n\n                          case 7:\n                          case \"end\":\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee);\n                  }))(); // set the cache\n\n                  if (tiles !== null) {\n                    tiles[index] = request;\n                  }\n                } else {\n                  // get from the cache\n                  request = tiles[index];\n                } // cache the tile request\n\n\n                _context2.t0 = x;\n                _context2.t1 = y;\n                _context2.t2 = sample;\n                _context2.next = 14;\n                return request;\n\n              case 14:\n                _context2.t3 = _context2.sent;\n                return _context2.abrupt(\"return\", {\n                  x: _context2.t0,\n                  y: _context2.t1,\n                  sample: _context2.t2,\n                  data: _context2.t3\n                });\n\n              case 16:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getTileOrStrip(_x, _x2, _x3, _x4, _x5) {\n        return _getTileOrStrip.apply(this, arguments);\n      }\n\n      return getTileOrStrip;\n    }()\n    /**\n     * Internal read function.\n     * @private\n     * @param {Array} imageWindow The image window in pixel coordinates\n     * @param {Array} samples The selected samples (0-based indices)\n     * @param {TypedArray[]|TypedArray} valueArrays The array(s) to write into\n     * @param {Boolean} interleave Whether or not to write in an interleaved manner\n     * @param {import(\"./geotiff\").Pool|AbstractDecoder} poolOrDecoder the decoder or decoder pool\n     * @param {number} width the width of window to be read into\n     * @param {number} height the height of window to be read into\n     * @param {number} resampleMethod the resampling method to be used when interpolating\n     * @param {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\n     *                               to be aborted\n     * @returns {Promise<TypedArray[]>|Promise<TypedArray>}\n     */\n\n  }, {\n    key: \"_readRaster\",\n    value: function () {\n      var _readRaster2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(imageWindow, samples, valueArrays, interleave, poolOrDecoder, width, height, resampleMethod, signal) {\n        var _this2 = this;\n\n        var tileWidth, tileHeight, imageWidth, imageHeight, minXTile, maxXTile, minYTile, maxYTile, windowWidth, bytesPerPixel, srcSampleOffsets, sampleReaders, i, promises, littleEndian, yTile, xTile, _loop, sampleIndex, resampled;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                tileWidth = this.getTileWidth();\n                tileHeight = this.getTileHeight();\n                imageWidth = this.getWidth();\n                imageHeight = this.getHeight();\n                minXTile = Math.max(Math.floor(imageWindow[0] / tileWidth), 0);\n                maxXTile = Math.min(Math.ceil(imageWindow[2] / tileWidth), Math.ceil(imageWidth / tileWidth));\n                minYTile = Math.max(Math.floor(imageWindow[1] / tileHeight), 0);\n                maxYTile = Math.min(Math.ceil(imageWindow[3] / tileHeight), Math.ceil(imageHeight / tileHeight));\n                windowWidth = imageWindow[2] - imageWindow[0];\n                bytesPerPixel = this.getBytesPerPixel();\n                srcSampleOffsets = [];\n                sampleReaders = [];\n\n                for (i = 0; i < samples.length; ++i) {\n                  if (this.planarConfiguration === 1) {\n                    srcSampleOffsets.push(sum(this.fileDirectory.BitsPerSample, 0, samples[i]) / 8);\n                  } else {\n                    srcSampleOffsets.push(0);\n                  }\n\n                  sampleReaders.push(this.getReaderForSample(samples[i]));\n                }\n\n                promises = [];\n                littleEndian = this.littleEndian;\n\n                for (yTile = minYTile; yTile < maxYTile; ++yTile) {\n                  for (xTile = minXTile; xTile < maxXTile; ++xTile) {\n                    _loop = function _loop(sampleIndex) {\n                      var si = sampleIndex;\n                      var sample = samples[sampleIndex];\n\n                      if (_this2.planarConfiguration === 2) {\n                        bytesPerPixel = _this2.getSampleByteSize(sampleIndex);\n                      }\n\n                      var promise = _this2.getTileOrStrip(xTile, yTile, sample, poolOrDecoder, signal).then(function (tile) {\n                        var buffer = tile.data;\n                        var dataView = new DataView(buffer);\n\n                        var blockHeight = _this2.getBlockHeight(tile.y);\n\n                        var firstLine = tile.y * tileHeight;\n                        var firstCol = tile.x * tileWidth;\n                        var lastLine = firstLine + blockHeight;\n                        var lastCol = (tile.x + 1) * tileWidth;\n                        var reader = sampleReaders[si];\n                        var ymax = Math.min(blockHeight, blockHeight - (lastLine - imageWindow[3]), imageHeight - firstLine);\n                        var xmax = Math.min(tileWidth, tileWidth - (lastCol - imageWindow[2]), imageWidth - firstCol);\n\n                        for (var y = Math.max(0, imageWindow[1] - firstLine); y < ymax; ++y) {\n                          for (var x = Math.max(0, imageWindow[0] - firstCol); x < xmax; ++x) {\n                            var pixelOffset = (y * tileWidth + x) * bytesPerPixel;\n                            var value = reader.call(dataView, pixelOffset + srcSampleOffsets[si], littleEndian);\n                            var windowCoordinate = void 0;\n\n                            if (interleave) {\n                              windowCoordinate = (y + firstLine - imageWindow[1]) * windowWidth * samples.length + (x + firstCol - imageWindow[0]) * samples.length + si;\n                              valueArrays[windowCoordinate] = value;\n                            } else {\n                              windowCoordinate = (y + firstLine - imageWindow[1]) * windowWidth + x + firstCol - imageWindow[0];\n                              valueArrays[si][windowCoordinate] = value;\n                            }\n                          }\n                        }\n                      });\n\n                      promises.push(promise);\n                    };\n\n                    for (sampleIndex = 0; sampleIndex < samples.length; ++sampleIndex) {\n                      _loop(sampleIndex);\n                    }\n                  }\n                }\n\n                _context3.next = 18;\n                return Promise.all(promises);\n\n              case 18:\n                if (!(width && imageWindow[2] - imageWindow[0] !== width || height && imageWindow[3] - imageWindow[1] !== height)) {\n                  _context3.next = 23;\n                  break;\n                }\n\n                if (interleave) {\n                  resampled = resampleInterleaved(valueArrays, imageWindow[2] - imageWindow[0], imageWindow[3] - imageWindow[1], width, height, samples.length, resampleMethod);\n                } else {\n                  resampled = resample(valueArrays, imageWindow[2] - imageWindow[0], imageWindow[3] - imageWindow[1], width, height, resampleMethod);\n                }\n\n                resampled.width = width;\n                resampled.height = height;\n                return _context3.abrupt(\"return\", resampled);\n\n              case 23:\n                valueArrays.width = width || imageWindow[2] - imageWindow[0];\n                valueArrays.height = height || imageWindow[3] - imageWindow[1];\n                return _context3.abrupt(\"return\", valueArrays);\n\n              case 26:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function _readRaster(_x6, _x7, _x8, _x9, _x10, _x11, _x12, _x13, _x14) {\n        return _readRaster2.apply(this, arguments);\n      }\n\n      return _readRaster;\n    }()\n    /**\n     * Reads raster data from the image. This function reads all selected samples\n     * into separate arrays of the correct type for that sample or into a single\n     * combined array when `interleave` is set. When provided, only a subset\n     * of the raster is read for each sample.\n     *\n     * @param {ReadRasterOptions} [options={}] optional parameters\n     * @returns {Promise.<(TypedArray|TypedArray[])>} the decoded arrays as a promise\n     */\n\n  }, {\n    key: \"readRasters\",\n    value: function () {\n      var _readRasters = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        var _ref2,\n            wnd,\n            _ref2$samples,\n            samples,\n            interleave,\n            _ref2$pool,\n            pool,\n            width,\n            height,\n            resampleMethod,\n            fillValue,\n            signal,\n            imageWindow,\n            imageWindowWidth,\n            imageWindowHeight,\n            numPixels,\n            samplesPerPixel,\n            i,\n            _i,\n            valueArrays,\n            format,\n            bitsPerSample,\n            _i2,\n            valueArray,\n            poolOrDecoder,\n            result,\n            _args4 = arguments;\n\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _ref2 = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : {}, wnd = _ref2.window, _ref2$samples = _ref2.samples, samples = _ref2$samples === void 0 ? [] : _ref2$samples, interleave = _ref2.interleave, _ref2$pool = _ref2.pool, pool = _ref2$pool === void 0 ? null : _ref2$pool, width = _ref2.width, height = _ref2.height, resampleMethod = _ref2.resampleMethod, fillValue = _ref2.fillValue, signal = _ref2.signal;\n                imageWindow = wnd || [0, 0, this.getWidth(), this.getHeight()]; // check parameters\n\n                if (!(imageWindow[0] > imageWindow[2] || imageWindow[1] > imageWindow[3])) {\n                  _context4.next = 4;\n                  break;\n                }\n\n                throw new Error('Invalid subsets');\n\n              case 4:\n                imageWindowWidth = imageWindow[2] - imageWindow[0];\n                imageWindowHeight = imageWindow[3] - imageWindow[1];\n                numPixels = imageWindowWidth * imageWindowHeight;\n                samplesPerPixel = this.getSamplesPerPixel();\n\n                if (!(!samples || !samples.length)) {\n                  _context4.next = 12;\n                  break;\n                }\n\n                for (i = 0; i < samplesPerPixel; ++i) {\n                  samples.push(i);\n                }\n\n                _context4.next = 19;\n                break;\n\n              case 12:\n                _i = 0;\n\n              case 13:\n                if (!(_i < samples.length)) {\n                  _context4.next = 19;\n                  break;\n                }\n\n                if (!(samples[_i] >= samplesPerPixel)) {\n                  _context4.next = 16;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", Promise.reject(new RangeError(\"Invalid sample index '\".concat(samples[_i], \"'.\"))));\n\n              case 16:\n                ++_i;\n                _context4.next = 13;\n                break;\n\n              case 19:\n                if (interleave) {\n                  format = this.fileDirectory.SampleFormat ? Math.max.apply(null, this.fileDirectory.SampleFormat) : 1;\n                  bitsPerSample = Math.max.apply(null, this.fileDirectory.BitsPerSample);\n                  valueArrays = arrayForType(format, bitsPerSample, numPixels * samples.length);\n\n                  if (fillValue) {\n                    valueArrays.fill(fillValue);\n                  }\n                } else {\n                  valueArrays = [];\n\n                  for (_i2 = 0; _i2 < samples.length; ++_i2) {\n                    valueArray = this.getArrayForSample(samples[_i2], numPixels);\n\n                    if (Array.isArray(fillValue) && _i2 < fillValue.length) {\n                      valueArray.fill(fillValue[_i2]);\n                    } else if (fillValue && !Array.isArray(fillValue)) {\n                      valueArray.fill(fillValue);\n                    }\n\n                    valueArrays.push(valueArray);\n                  }\n                }\n\n                _context4.t0 = pool;\n\n                if (_context4.t0) {\n                  _context4.next = 25;\n                  break;\n                }\n\n                _context4.next = 24;\n                return getDecoder(this.fileDirectory);\n\n              case 24:\n                _context4.t0 = _context4.sent;\n\n              case 25:\n                poolOrDecoder = _context4.t0;\n                _context4.next = 28;\n                return this._readRaster(imageWindow, samples, valueArrays, interleave, poolOrDecoder, width, height, resampleMethod, signal);\n\n              case 28:\n                result = _context4.sent;\n                return _context4.abrupt(\"return\", result);\n\n              case 30:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function readRasters() {\n        return _readRasters.apply(this, arguments);\n      }\n\n      return readRasters;\n    }()\n    /**\n     * Reads raster data from the image as RGB. The result is always an\n     * interleaved typed array.\n     * Colorspaces other than RGB will be transformed to RGB, color maps expanded.\n     * When no other method is applicable, the first sample is used to produce a\n     * greayscale image.\n     * When provided, only a subset of the raster is read for each sample.\n     *\n     * @param {Object} [options] optional parameters\n     * @param {Array<number>} [options.window] the subset to read data from in pixels.\n     * @param {boolean} [options.interleave=true] whether the data shall be read\n     *                                             in one single array or separate\n     *                                             arrays.\n     * @param {import(\"./geotiff\").Pool} [options.pool=null] The optional decoder pool to use.\n     * @param {number} [options.width] The desired width of the output. When the width is no the\n     *                                 same as the images, resampling will be performed.\n     * @param {number} [options.height] The desired height of the output. When the width is no the\n     *                                  same as the images, resampling will be performed.\n     * @param {string} [options.resampleMethod='nearest'] The desired resampling method.\n     * @param {boolean} [options.enableAlpha=false] Enable reading alpha channel if present.\n     * @param {AbortSignal} [options.signal] An AbortSignal that may be signalled if the request is\n     *                                       to be aborted\n     * @returns {Promise<TypedArray|TypedArray[]>} the RGB array as a Promise\n     */\n\n  }, {\n    key: \"readRGB\",\n    value: function () {\n      var _readRGB = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        var _ref3,\n            window,\n            _ref3$interleave,\n            interleave,\n            _ref3$pool,\n            pool,\n            width,\n            height,\n            resampleMethod,\n            _ref3$enableAlpha,\n            enableAlpha,\n            signal,\n            imageWindow,\n            pi,\n            s,\n            i,\n            samples,\n            subOptions,\n            fileDirectory,\n            raster,\n            max,\n            data,\n            red,\n            green,\n            blue,\n            _i3,\n            j,\n            _args5 = arguments;\n\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _ref3 = _args5.length > 0 && _args5[0] !== undefined ? _args5[0] : {}, window = _ref3.window, _ref3$interleave = _ref3.interleave, interleave = _ref3$interleave === void 0 ? true : _ref3$interleave, _ref3$pool = _ref3.pool, pool = _ref3$pool === void 0 ? null : _ref3$pool, width = _ref3.width, height = _ref3.height, resampleMethod = _ref3.resampleMethod, _ref3$enableAlpha = _ref3.enableAlpha, enableAlpha = _ref3$enableAlpha === void 0 ? false : _ref3$enableAlpha, signal = _ref3.signal;\n                imageWindow = window || [0, 0, this.getWidth(), this.getHeight()]; // check parameters\n\n                if (!(imageWindow[0] > imageWindow[2] || imageWindow[1] > imageWindow[3])) {\n                  _context5.next = 4;\n                  break;\n                }\n\n                throw new Error('Invalid subsets');\n\n              case 4:\n                pi = this.fileDirectory.PhotometricInterpretation;\n\n                if (!(pi === photometricInterpretations.RGB)) {\n                  _context5.next = 9;\n                  break;\n                }\n\n                s = [0, 1, 2];\n\n                if (!(this.fileDirectory.ExtraSamples === ExtraSamplesValues.Unspecified) && enableAlpha) {\n                  s = [];\n\n                  for (i = 0; i < this.fileDirectory.BitsPerSample.length; i += 1) {\n                    s.push(i);\n                  }\n                }\n\n                return _context5.abrupt(\"return\", this.readRasters({\n                  window: window,\n                  interleave: interleave,\n                  samples: s,\n                  pool: pool,\n                  width: width,\n                  height: height,\n                  resampleMethod: resampleMethod,\n                  signal: signal\n                }));\n\n              case 9:\n                _context5.t0 = pi;\n                _context5.next = _context5.t0 === photometricInterpretations.WhiteIsZero ? 12 : _context5.t0 === photometricInterpretations.BlackIsZero ? 12 : _context5.t0 === photometricInterpretations.Palette ? 12 : _context5.t0 === photometricInterpretations.CMYK ? 14 : _context5.t0 === photometricInterpretations.YCbCr ? 16 : _context5.t0 === photometricInterpretations.CIELab ? 16 : 18;\n                break;\n\n              case 12:\n                samples = [0];\n                return _context5.abrupt(\"break\", 19);\n\n              case 14:\n                samples = [0, 1, 2, 3];\n                return _context5.abrupt(\"break\", 19);\n\n              case 16:\n                samples = [0, 1, 2];\n                return _context5.abrupt(\"break\", 19);\n\n              case 18:\n                throw new Error('Invalid or unsupported photometric interpretation.');\n\n              case 19:\n                subOptions = {\n                  window: imageWindow,\n                  interleave: true,\n                  samples: samples,\n                  pool: pool,\n                  width: width,\n                  height: height,\n                  resampleMethod: resampleMethod,\n                  signal: signal\n                };\n                fileDirectory = this.fileDirectory;\n                _context5.next = 23;\n                return this.readRasters(subOptions);\n\n              case 23:\n                raster = _context5.sent;\n                max = Math.pow(2, this.fileDirectory.BitsPerSample[0]);\n                _context5.t1 = pi;\n                _context5.next = _context5.t1 === photometricInterpretations.WhiteIsZero ? 28 : _context5.t1 === photometricInterpretations.BlackIsZero ? 30 : _context5.t1 === photometricInterpretations.Palette ? 32 : _context5.t1 === photometricInterpretations.CMYK ? 34 : _context5.t1 === photometricInterpretations.YCbCr ? 36 : _context5.t1 === photometricInterpretations.CIELab ? 38 : 40;\n                break;\n\n              case 28:\n                data = fromWhiteIsZero(raster, max);\n                return _context5.abrupt(\"break\", 41);\n\n              case 30:\n                data = fromBlackIsZero(raster, max);\n                return _context5.abrupt(\"break\", 41);\n\n              case 32:\n                data = fromPalette(raster, fileDirectory.ColorMap);\n                return _context5.abrupt(\"break\", 41);\n\n              case 34:\n                data = fromCMYK(raster);\n                return _context5.abrupt(\"break\", 41);\n\n              case 36:\n                data = fromYCbCr(raster);\n                return _context5.abrupt(\"break\", 41);\n\n              case 38:\n                data = fromCIELab(raster);\n                return _context5.abrupt(\"break\", 41);\n\n              case 40:\n                throw new Error('Unsupported photometric interpretation.');\n\n              case 41:\n                // if non-interleaved data is requested, we must split the channels\n                // into their respective arrays\n                if (!interleave) {\n                  red = new Uint8Array(data.length / 3);\n                  green = new Uint8Array(data.length / 3);\n                  blue = new Uint8Array(data.length / 3);\n\n                  for (_i3 = 0, j = 0; _i3 < data.length; _i3 += 3, ++j) {\n                    red[j] = data[_i3];\n                    green[j] = data[_i3 + 1];\n                    blue[j] = data[_i3 + 2];\n                  }\n\n                  data = [red, green, blue];\n                }\n\n                data.width = raster.width;\n                data.height = raster.height;\n                return _context5.abrupt(\"return\", data);\n\n              case 45:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function readRGB() {\n        return _readRGB.apply(this, arguments);\n      }\n\n      return readRGB;\n    }()\n    /**\n     * Returns an array of tiepoints.\n     * @returns {Object[]}\n     */\n\n  }, {\n    key: \"getTiePoints\",\n    value: function getTiePoints() {\n      if (!this.fileDirectory.ModelTiepoint) {\n        return [];\n      }\n\n      var tiePoints = [];\n\n      for (var i = 0; i < this.fileDirectory.ModelTiepoint.length; i += 6) {\n        tiePoints.push({\n          i: this.fileDirectory.ModelTiepoint[i],\n          j: this.fileDirectory.ModelTiepoint[i + 1],\n          k: this.fileDirectory.ModelTiepoint[i + 2],\n          x: this.fileDirectory.ModelTiepoint[i + 3],\n          y: this.fileDirectory.ModelTiepoint[i + 4],\n          z: this.fileDirectory.ModelTiepoint[i + 5]\n        });\n      }\n\n      return tiePoints;\n    }\n    /**\n     * Returns the parsed GDAL metadata items.\n     *\n     * If sample is passed to null, dataset-level metadata will be returned.\n     * Otherwise only metadata specific to the provided sample will be returned.\n     *\n     * @param {number} [sample=null] The sample index.\n     * @returns {Object}\n     */\n\n  }, {\n    key: \"getGDALMetadata\",\n    value: function getGDALMetadata() {\n      var sample = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var metadata = {};\n\n      if (!this.fileDirectory.GDAL_METADATA) {\n        return null;\n      }\n\n      var string = this.fileDirectory.GDAL_METADATA;\n      var items = findTagsByName(string, 'Item');\n\n      if (sample === null) {\n        items = items.filter(function (item) {\n          return getAttribute(item, 'sample') === undefined;\n        });\n      } else {\n        items = items.filter(function (item) {\n          return Number(getAttribute(item, 'sample')) === sample;\n        });\n      }\n\n      for (var i = 0; i < items.length; ++i) {\n        var item = items[i];\n        metadata[getAttribute(item, 'name')] = item.inner;\n      }\n\n      return metadata;\n    }\n    /**\n     * Returns the GDAL nodata value\n     * @returns {number|null}\n     */\n\n  }, {\n    key: \"getGDALNoData\",\n    value: function getGDALNoData() {\n      if (!this.fileDirectory.GDAL_NODATA) {\n        return null;\n      }\n\n      var string = this.fileDirectory.GDAL_NODATA;\n      return Number(string.substring(0, string.length - 1));\n    }\n    /**\n     * Returns the image origin as a XYZ-vector. When the image has no affine\n     * transformation, then an exception is thrown.\n     * @returns {Array<number>} The origin as a vector\n     */\n\n  }, {\n    key: \"getOrigin\",\n    value: function getOrigin() {\n      var tiePoints = this.fileDirectory.ModelTiepoint;\n      var modelTransformation = this.fileDirectory.ModelTransformation;\n\n      if (tiePoints && tiePoints.length === 6) {\n        return [tiePoints[3], tiePoints[4], tiePoints[5]];\n      }\n\n      if (modelTransformation) {\n        return [modelTransformation[3], modelTransformation[7], modelTransformation[11]];\n      }\n\n      throw new Error('The image does not have an affine transformation.');\n    }\n    /**\n     * Returns the image resolution as a XYZ-vector. When the image has no affine\n     * transformation, then an exception is thrown.\n     * @param {GeoTIFFImage} [referenceImage=null] A reference image to calculate the resolution from\n     *                                             in cases when the current image does not have the\n     *                                             required tags on its own.\n     * @returns {Array<number>} The resolution as a vector\n     */\n\n  }, {\n    key: \"getResolution\",\n    value: function getResolution() {\n      var referenceImage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var modelPixelScale = this.fileDirectory.ModelPixelScale;\n      var modelTransformation = this.fileDirectory.ModelTransformation;\n\n      if (modelPixelScale) {\n        return [modelPixelScale[0], -modelPixelScale[1], modelPixelScale[2]];\n      }\n\n      if (modelTransformation) {\n        return [modelTransformation[0], modelTransformation[5], modelTransformation[10]];\n      }\n\n      if (referenceImage) {\n        var _referenceImage$getRe = referenceImage.getResolution(),\n            _referenceImage$getRe2 = _slicedToArray(_referenceImage$getRe, 3),\n            refResX = _referenceImage$getRe2[0],\n            refResY = _referenceImage$getRe2[1],\n            refResZ = _referenceImage$getRe2[2];\n\n        return [refResX * referenceImage.getWidth() / this.getWidth(), refResY * referenceImage.getHeight() / this.getHeight(), refResZ * referenceImage.getWidth() / this.getWidth()];\n      }\n\n      throw new Error('The image does not have an affine transformation.');\n    }\n    /**\n     * Returns whether or not the pixels of the image depict an area (or point).\n     * @returns {Boolean} Whether the pixels are a point\n     */\n\n  }, {\n    key: \"pixelIsArea\",\n    value: function pixelIsArea() {\n      return this.geoKeys.GTRasterTypeGeoKey === 1;\n    }\n    /**\n     * Returns the image bounding box as an array of 4 values: min-x, min-y,\n     * max-x and max-y. When the image has no affine transformation, then an\n     * exception is thrown.\n     * @returns {Array<number>} The bounding box\n     */\n\n  }, {\n    key: \"getBoundingBox\",\n    value: function getBoundingBox() {\n      var origin = this.getOrigin();\n      var resolution = this.getResolution();\n      var x1 = origin[0];\n      var y1 = origin[1];\n      var x2 = x1 + resolution[0] * this.getWidth();\n      var y2 = y1 + resolution[1] * this.getHeight();\n      return [Math.min(x1, x2), Math.min(y1, y2), Math.max(x1, x2), Math.max(y1, y2)];\n    }\n  }]);\n\n  return GeoTIFFImage;\n}();\n\nexport default GeoTIFFImage;","import _classCallCheck from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { getFloat16 as _getFloat } from '@petamoriken/float16';\n\nvar DataView64 = /*#__PURE__*/function () {\n  function DataView64(arrayBuffer) {\n    _classCallCheck(this, DataView64);\n\n    this._dataView = new DataView(arrayBuffer);\n  }\n\n  _createClass(DataView64, [{\n    key: \"buffer\",\n    get: function get() {\n      return this._dataView.buffer;\n    }\n  }, {\n    key: \"getUint64\",\n    value: function getUint64(offset, littleEndian) {\n      var left = this.getUint32(offset, littleEndian);\n      var right = this.getUint32(offset + 4, littleEndian);\n      var combined;\n\n      if (littleEndian) {\n        combined = left + Math.pow(2, 32) * right;\n\n        if (!Number.isSafeInteger(combined)) {\n          throw new Error(\"\".concat(combined, \" exceeds MAX_SAFE_INTEGER. \") + 'Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues');\n        }\n\n        return combined;\n      }\n\n      combined = Math.pow(2, 32) * left + right;\n\n      if (!Number.isSafeInteger(combined)) {\n        throw new Error(\"\".concat(combined, \" exceeds MAX_SAFE_INTEGER. \") + 'Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues');\n      }\n\n      return combined;\n    } // adapted from https://stackoverflow.com/a/55338384/8060591\n\n  }, {\n    key: \"getInt64\",\n    value: function getInt64(offset, littleEndian) {\n      var value = 0;\n      var isNegative = (this._dataView.getUint8(offset + (littleEndian ? 7 : 0)) & 0x80) > 0;\n      var carrying = true;\n\n      for (var i = 0; i < 8; i++) {\n        var byte = this._dataView.getUint8(offset + (littleEndian ? i : 7 - i));\n\n        if (isNegative) {\n          if (carrying) {\n            if (byte !== 0x00) {\n              byte = ~(byte - 1) & 0xff;\n              carrying = false;\n            }\n          } else {\n            byte = ~byte & 0xff;\n          }\n        }\n\n        value += byte * Math.pow(256, i);\n      }\n\n      if (isNegative) {\n        value = -value;\n      }\n\n      return value;\n    }\n  }, {\n    key: \"getUint8\",\n    value: function getUint8(offset, littleEndian) {\n      return this._dataView.getUint8(offset, littleEndian);\n    }\n  }, {\n    key: \"getInt8\",\n    value: function getInt8(offset, littleEndian) {\n      return this._dataView.getInt8(offset, littleEndian);\n    }\n  }, {\n    key: \"getUint16\",\n    value: function getUint16(offset, littleEndian) {\n      return this._dataView.getUint16(offset, littleEndian);\n    }\n  }, {\n    key: \"getInt16\",\n    value: function getInt16(offset, littleEndian) {\n      return this._dataView.getInt16(offset, littleEndian);\n    }\n  }, {\n    key: \"getUint32\",\n    value: function getUint32(offset, littleEndian) {\n      return this._dataView.getUint32(offset, littleEndian);\n    }\n  }, {\n    key: \"getInt32\",\n    value: function getInt32(offset, littleEndian) {\n      return this._dataView.getInt32(offset, littleEndian);\n    }\n  }, {\n    key: \"getFloat16\",\n    value: function getFloat16(offset, littleEndian) {\n      return _getFloat(this._dataView, offset, littleEndian);\n    }\n  }, {\n    key: \"getFloat32\",\n    value: function getFloat32(offset, littleEndian) {\n      return this._dataView.getFloat32(offset, littleEndian);\n    }\n  }, {\n    key: \"getFloat64\",\n    value: function getFloat64(offset, littleEndian) {\n      return this._dataView.getFloat64(offset, littleEndian);\n    }\n  }]);\n\n  return DataView64;\n}();\n\nexport { DataView64 as default };","import _classCallCheck from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n\nvar DataSlice = /*#__PURE__*/function () {\n  function DataSlice(arrayBuffer, sliceOffset, littleEndian, bigTiff) {\n    _classCallCheck(this, DataSlice);\n\n    this._dataView = new DataView(arrayBuffer);\n    this._sliceOffset = sliceOffset;\n    this._littleEndian = littleEndian;\n    this._bigTiff = bigTiff;\n  }\n\n  _createClass(DataSlice, [{\n    key: \"sliceOffset\",\n    get: function get() {\n      return this._sliceOffset;\n    }\n  }, {\n    key: \"sliceTop\",\n    get: function get() {\n      return this._sliceOffset + this.buffer.byteLength;\n    }\n  }, {\n    key: \"littleEndian\",\n    get: function get() {\n      return this._littleEndian;\n    }\n  }, {\n    key: \"bigTiff\",\n    get: function get() {\n      return this._bigTiff;\n    }\n  }, {\n    key: \"buffer\",\n    get: function get() {\n      return this._dataView.buffer;\n    }\n  }, {\n    key: \"covers\",\n    value: function covers(offset, length) {\n      return this.sliceOffset <= offset && this.sliceTop >= offset + length;\n    }\n  }, {\n    key: \"readUint8\",\n    value: function readUint8(offset) {\n      return this._dataView.getUint8(offset - this._sliceOffset, this._littleEndian);\n    }\n  }, {\n    key: \"readInt8\",\n    value: function readInt8(offset) {\n      return this._dataView.getInt8(offset - this._sliceOffset, this._littleEndian);\n    }\n  }, {\n    key: \"readUint16\",\n    value: function readUint16(offset) {\n      return this._dataView.getUint16(offset - this._sliceOffset, this._littleEndian);\n    }\n  }, {\n    key: \"readInt16\",\n    value: function readInt16(offset) {\n      return this._dataView.getInt16(offset - this._sliceOffset, this._littleEndian);\n    }\n  }, {\n    key: \"readUint32\",\n    value: function readUint32(offset) {\n      return this._dataView.getUint32(offset - this._sliceOffset, this._littleEndian);\n    }\n  }, {\n    key: \"readInt32\",\n    value: function readInt32(offset) {\n      return this._dataView.getInt32(offset - this._sliceOffset, this._littleEndian);\n    }\n  }, {\n    key: \"readFloat32\",\n    value: function readFloat32(offset) {\n      return this._dataView.getFloat32(offset - this._sliceOffset, this._littleEndian);\n    }\n  }, {\n    key: \"readFloat64\",\n    value: function readFloat64(offset) {\n      return this._dataView.getFloat64(offset - this._sliceOffset, this._littleEndian);\n    }\n  }, {\n    key: \"readUint64\",\n    value: function readUint64(offset) {\n      var left = this.readUint32(offset);\n      var right = this.readUint32(offset + 4);\n      var combined;\n\n      if (this._littleEndian) {\n        combined = left + Math.pow(2, 32) * right;\n\n        if (!Number.isSafeInteger(combined)) {\n          throw new Error(\"\".concat(combined, \" exceeds MAX_SAFE_INTEGER. \") + 'Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues');\n        }\n\n        return combined;\n      }\n\n      combined = Math.pow(2, 32) * left + right;\n\n      if (!Number.isSafeInteger(combined)) {\n        throw new Error(\"\".concat(combined, \" exceeds MAX_SAFE_INTEGER. \") + 'Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues');\n      }\n\n      return combined;\n    } // adapted from https://stackoverflow.com/a/55338384/8060591\n\n  }, {\n    key: \"readInt64\",\n    value: function readInt64(offset) {\n      var value = 0;\n      var isNegative = (this._dataView.getUint8(offset + (this._littleEndian ? 7 : 0)) & 0x80) > 0;\n      var carrying = true;\n\n      for (var i = 0; i < 8; i++) {\n        var byte = this._dataView.getUint8(offset + (this._littleEndian ? i : 7 - i));\n\n        if (isNegative) {\n          if (carrying) {\n            if (byte !== 0x00) {\n              byte = ~(byte - 1) & 0xff;\n              carrying = false;\n            }\n          } else {\n            byte = ~byte & 0xff;\n          }\n        }\n\n        value += byte * Math.pow(256, i);\n      }\n\n      if (isNegative) {\n        value = -value;\n      }\n\n      return value;\n    }\n  }, {\n    key: \"readOffset\",\n    value: function readOffset(offset) {\n      if (this._bigTiff) {\n        return this.readUint64(offset);\n      }\n\n      return this.readUint32(offset);\n    }\n  }]);\n\n  return DataSlice;\n}();\n\nexport { DataSlice as default };","import _toArray from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/toArray.js\";\nimport _slicedToArray from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport \"core-js/modules/es.object.from-entries.js\";\nvar CRLFCRLF = '\\r\\n\\r\\n';\n/*\n * Shim for 'Object.fromEntries'\n */\n\nfunction itemsToObject(items) {\n  if (typeof Object.fromEntries !== 'undefined') {\n    return Object.fromEntries(items);\n  }\n\n  var obj = {};\n\n  var _iterator = _createForOfIteratorHelper(items),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _step$value = _slicedToArray(_step.value, 2),\n          key = _step$value[0],\n          value = _step$value[1];\n\n      obj[key.toLowerCase()] = value;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return obj;\n}\n/**\n * Parse HTTP headers from a given string.\n * @param {String} text the text to parse the headers from\n * @returns {Object} the parsed headers with lowercase keys\n */\n\n\nfunction parseHeaders(text) {\n  var items = text.split('\\r\\n').map(function (line) {\n    var kv = line.split(':').map(function (str) {\n      return str.trim();\n    });\n    kv[0] = kv[0].toLowerCase();\n    return kv;\n  });\n  return itemsToObject(items);\n}\n/**\n * Parse a 'Content-Type' header value to the content-type and parameters\n * @param {String} rawContentType the raw string to parse from\n * @returns {Object} the parsed content type with the fields: type and params\n */\n\n\nexport function parseContentType(rawContentType) {\n  var _rawContentType$split = rawContentType.split(';').map(function (s) {\n    return s.trim();\n  }),\n      _rawContentType$split2 = _toArray(_rawContentType$split),\n      type = _rawContentType$split2[0],\n      rawParams = _rawContentType$split2.slice(1);\n\n  var paramsItems = rawParams.map(function (param) {\n    return param.split('=');\n  });\n  return {\n    type: type,\n    params: itemsToObject(paramsItems)\n  };\n}\n/**\n * Parse a 'Content-Range' header value to its start, end, and total parts\n * @param {String} rawContentRange the raw string to parse from\n * @returns {Object} the parsed parts\n */\n\nexport function parseContentRange(rawContentRange) {\n  var start;\n  var end;\n  var total;\n\n  if (rawContentRange) {\n    var _rawContentRange$matc = rawContentRange.match(/bytes (\\d+)-(\\d+)\\/(\\d+)/);\n\n    var _rawContentRange$matc2 = _slicedToArray(_rawContentRange$matc, 4);\n\n    start = _rawContentRange$matc2[1];\n    end = _rawContentRange$matc2[2];\n    total = _rawContentRange$matc2[3];\n    start = parseInt(start, 10);\n    end = parseInt(end, 10);\n    total = parseInt(total, 10);\n  }\n\n  return {\n    start: start,\n    end: end,\n    total: total\n  };\n}\n/**\n * Parses a list of byteranges from the given 'multipart/byteranges' HTTP response.\n * Each item in the list has the following properties:\n * - headers: the HTTP headers\n * - data: the sliced ArrayBuffer for that specific part\n * - offset: the offset of the byterange within its originating file\n * - length: the length of the byterange\n * @param {ArrayBuffer} responseArrayBuffer the response to be parsed and split\n * @param {String} boundary the boundary string used to split the sections\n * @returns {Object[]} the parsed byteranges\n */\n\nexport function parseByteRanges(responseArrayBuffer, boundary) {\n  var offset = null;\n  var decoder = new TextDecoder('ascii');\n  var out = [];\n  var startBoundary = \"--\".concat(boundary);\n  var endBoundary = \"\".concat(startBoundary, \"--\"); // search for the initial boundary, may be offset by some bytes\n  // TODO: more efficient to check for `--` in bytes directly\n\n  for (var i = 0; i < 10; ++i) {\n    var text = decoder.decode(new Uint8Array(responseArrayBuffer, i, startBoundary.length));\n\n    if (text === startBoundary) {\n      offset = i;\n    }\n  }\n\n  if (offset === null) {\n    throw new Error('Could not find initial boundary');\n  }\n\n  while (offset < responseArrayBuffer.byteLength) {\n    var _text = decoder.decode(new Uint8Array(responseArrayBuffer, offset, Math.min(startBoundary.length + 1024, responseArrayBuffer.byteLength - offset))); // break if we arrived at the end\n\n\n    if (_text.length === 0 || _text.startsWith(endBoundary)) {\n      break;\n    } // assert that we are actually dealing with a byterange and are at the correct offset\n\n\n    if (!_text.startsWith(startBoundary)) {\n      throw new Error('Part does not start with boundary');\n    } // get a substring from where we read the headers\n\n\n    var innerText = _text.substr(startBoundary.length + 2);\n\n    if (innerText.length === 0) {\n      break;\n    } // find the double linebreak that denotes the end of the headers\n\n\n    var endOfHeaders = innerText.indexOf(CRLFCRLF); // parse the headers to get the content range size\n\n    var headers = parseHeaders(innerText.substr(0, endOfHeaders));\n\n    var _parseContentRange = parseContentRange(headers['content-range']),\n        start = _parseContentRange.start,\n        end = _parseContentRange.end,\n        total = _parseContentRange.total; // calculate the length of the slice and the next offset\n\n\n    var startOfData = offset + startBoundary.length + endOfHeaders + CRLFCRLF.length;\n    var length = parseInt(end, 10) + 1 - parseInt(start, 10);\n    out.push({\n      headers: headers,\n      data: responseArrayBuffer.slice(startOfData, startOfData + length),\n      offset: start,\n      length: length,\n      fileSize: total\n    });\n    offset = startOfData + length + 4;\n  }\n\n  return out;\n}","import _asyncToGenerator from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/regenerator/index.js\";\n\n/**\n * @typedef Slice\n * @property {number} offset\n * @property {number} length\n */\nexport var BaseSource = /*#__PURE__*/function () {\n  function BaseSource() {\n    _classCallCheck(this, BaseSource);\n  }\n\n  _createClass(BaseSource, [{\n    key: \"fetch\",\n    value:\n    /**\n     *\n     * @param {Slice[]} slices\n     * @returns {ArrayBuffer[]}\n     */\n    function () {\n      var _fetch = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(slices) {\n        var _this = this;\n\n        var signal,\n            _args = arguments;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                signal = _args.length > 1 && _args[1] !== undefined ? _args[1] : undefined;\n                return _context.abrupt(\"return\", Promise.all(slices.map(function (slice) {\n                  return _this.fetchSlice(slice, signal);\n                })));\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function fetch(_x) {\n        return _fetch.apply(this, arguments);\n      }\n\n      return fetch;\n    }()\n    /**\n     *\n     * @param {Slice} slice\n     * @returns {ArrayBuffer}\n     */\n\n  }, {\n    key: \"fetchSlice\",\n    value: function () {\n      var _fetchSlice = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(slice) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                throw new Error(\"fetching of slice \".concat(slice, \" not possible, not implemented\"));\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function fetchSlice(_x2) {\n        return _fetchSlice.apply(this, arguments);\n      }\n\n      return fetchSlice;\n    }()\n    /**\n     * Returns the filesize if already determined and null otherwise\n     */\n\n  }, {\n    key: \"fileSize\",\n    get: function get() {\n      return null;\n    }\n  }, {\n    key: \"close\",\n    value: function () {\n      var _close = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function close() {\n        return _close.apply(this, arguments);\n      }\n\n      return close;\n    }()\n  }]);\n\n  return BaseSource;\n}();","import _toConsumableArray from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _classCallCheck from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _wrapNativeSuper from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js\";\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/regenerator/index.js\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar QuickLRU = /*#__PURE__*/function (_Map, _Symbol$iterator, _Symbol$toStringTag) {\n  _inherits(QuickLRU, _Map);\n\n  var _super = _createSuper(QuickLRU);\n\n  function QuickLRU() {\n    var _this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, QuickLRU);\n\n    _this = _super.call(this);\n\n    if (!(options.maxSize && options.maxSize > 0)) {\n      throw new TypeError('`maxSize` must be a number greater than 0');\n    }\n\n    if (typeof options.maxAge === 'number' && options.maxAge === 0) {\n      throw new TypeError('`maxAge` must be a number greater than 0');\n    } // TODO: Use private class fields when ESLint supports them.\n\n\n    _this.maxSize = options.maxSize;\n    _this.maxAge = options.maxAge || Number.POSITIVE_INFINITY;\n    _this.onEviction = options.onEviction;\n    _this.cache = new Map();\n    _this.oldCache = new Map();\n    _this._size = 0;\n    return _this;\n  } // TODO: Use private class methods when targeting Node.js 16.\n\n\n  _createClass(QuickLRU, [{\n    key: \"_emitEvictions\",\n    value: function _emitEvictions(cache) {\n      if (typeof this.onEviction !== 'function') {\n        return;\n      }\n\n      var _iterator = _createForOfIteratorHelper(cache),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _step$value = _slicedToArray(_step.value, 2),\n              key = _step$value[0],\n              item = _step$value[1];\n\n          this.onEviction(key, item.value);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"_deleteIfExpired\",\n    value: function _deleteIfExpired(key, item) {\n      if (typeof item.expiry === 'number' && item.expiry <= Date.now()) {\n        if (typeof this.onEviction === 'function') {\n          this.onEviction(key, item.value);\n        }\n\n        return this.delete(key);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_getOrDeleteIfExpired\",\n    value: function _getOrDeleteIfExpired(key, item) {\n      var deleted = this._deleteIfExpired(key, item);\n\n      if (deleted === false) {\n        return item.value;\n      }\n    }\n  }, {\n    key: \"_getItemValue\",\n    value: function _getItemValue(key, item) {\n      return item.expiry ? this._getOrDeleteIfExpired(key, item) : item.value;\n    }\n  }, {\n    key: \"_peek\",\n    value: function _peek(key, cache) {\n      var item = cache.get(key);\n      return this._getItemValue(key, item);\n    }\n  }, {\n    key: \"_set\",\n    value: function _set(key, value) {\n      this.cache.set(key, value);\n      this._size++;\n\n      if (this._size >= this.maxSize) {\n        this._size = 0;\n\n        this._emitEvictions(this.oldCache);\n\n        this.oldCache = this.cache;\n        this.cache = new Map();\n      }\n    }\n  }, {\n    key: \"_moveToRecent\",\n    value: function _moveToRecent(key, item) {\n      this.oldCache.delete(key);\n\n      this._set(key, item);\n    }\n  }, {\n    key: \"_entriesAscending\",\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function _entriesAscending() {\n      var _iterator2, _step2, item, _item, key, value, deleted, _iterator3, _step3, _item2, _item3, _key, _value, _deleted;\n\n      return _regeneratorRuntime.wrap(function _entriesAscending$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _iterator2 = _createForOfIteratorHelper(this.oldCache);\n              _context.prev = 1;\n\n              _iterator2.s();\n\n            case 3:\n              if ((_step2 = _iterator2.n()).done) {\n                _context.next = 13;\n                break;\n              }\n\n              item = _step2.value;\n              _item = _slicedToArray(item, 2), key = _item[0], value = _item[1];\n\n              if (this.cache.has(key)) {\n                _context.next = 11;\n                break;\n              }\n\n              deleted = this._deleteIfExpired(key, value);\n\n              if (!(deleted === false)) {\n                _context.next = 11;\n                break;\n              }\n\n              _context.next = 11;\n              return item;\n\n            case 11:\n              _context.next = 3;\n              break;\n\n            case 13:\n              _context.next = 18;\n              break;\n\n            case 15:\n              _context.prev = 15;\n              _context.t0 = _context[\"catch\"](1);\n\n              _iterator2.e(_context.t0);\n\n            case 18:\n              _context.prev = 18;\n\n              _iterator2.f();\n\n              return _context.finish(18);\n\n            case 21:\n              _iterator3 = _createForOfIteratorHelper(this.cache);\n              _context.prev = 22;\n\n              _iterator3.s();\n\n            case 24:\n              if ((_step3 = _iterator3.n()).done) {\n                _context.next = 33;\n                break;\n              }\n\n              _item2 = _step3.value;\n              _item3 = _slicedToArray(_item2, 2), _key = _item3[0], _value = _item3[1];\n              _deleted = this._deleteIfExpired(_key, _value);\n\n              if (!(_deleted === false)) {\n                _context.next = 31;\n                break;\n              }\n\n              _context.next = 31;\n              return _item2;\n\n            case 31:\n              _context.next = 24;\n              break;\n\n            case 33:\n              _context.next = 38;\n              break;\n\n            case 35:\n              _context.prev = 35;\n              _context.t1 = _context[\"catch\"](22);\n\n              _iterator3.e(_context.t1);\n\n            case 38:\n              _context.prev = 38;\n\n              _iterator3.f();\n\n              return _context.finish(38);\n\n            case 41:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _entriesAscending, this, [[1, 15, 18, 21], [22, 35, 38, 41]]);\n    })\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      if (this.cache.has(key)) {\n        var item = this.cache.get(key);\n        return this._getItemValue(key, item);\n      }\n\n      if (this.oldCache.has(key)) {\n        var _item4 = this.oldCache.get(key);\n\n        if (this._deleteIfExpired(key, _item4) === false) {\n          this._moveToRecent(key, _item4);\n\n          return _item4.value;\n        }\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(key, value) {\n      var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n          _ref$maxAge = _ref.maxAge,\n          maxAge = _ref$maxAge === void 0 ? this.maxAge : _ref$maxAge;\n\n      var expiry = typeof maxAge === 'number' && maxAge !== Number.POSITIVE_INFINITY ? Date.now() + maxAge : undefined;\n\n      if (this.cache.has(key)) {\n        this.cache.set(key, {\n          value: value,\n          expiry: expiry\n        });\n      } else {\n        this._set(key, {\n          value: value,\n          expiry: expiry\n        });\n      }\n    }\n  }, {\n    key: \"has\",\n    value: function has(key) {\n      if (this.cache.has(key)) {\n        return !this._deleteIfExpired(key, this.cache.get(key));\n      }\n\n      if (this.oldCache.has(key)) {\n        return !this._deleteIfExpired(key, this.oldCache.get(key));\n      }\n\n      return false;\n    }\n  }, {\n    key: \"peek\",\n    value: function peek(key) {\n      if (this.cache.has(key)) {\n        return this._peek(key, this.cache);\n      }\n\n      if (this.oldCache.has(key)) {\n        return this._peek(key, this.oldCache);\n      }\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(key) {\n      var deleted = this.cache.delete(key);\n\n      if (deleted) {\n        this._size--;\n      }\n\n      return this.oldCache.delete(key) || deleted;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.cache.clear();\n      this.oldCache.clear();\n      this._size = 0;\n    }\n  }, {\n    key: \"resize\",\n    value: function resize(newSize) {\n      if (!(newSize && newSize > 0)) {\n        throw new TypeError('`maxSize` must be a number greater than 0');\n      }\n\n      var items = _toConsumableArray(this._entriesAscending());\n\n      var removeCount = items.length - newSize;\n\n      if (removeCount < 0) {\n        this.cache = new Map(items);\n        this.oldCache = new Map();\n        this._size = items.length;\n      } else {\n        if (removeCount > 0) {\n          this._emitEvictions(items.slice(0, removeCount));\n        }\n\n        this.oldCache = new Map(items.slice(removeCount));\n        this.cache = new Map();\n        this._size = 0;\n      }\n\n      this.maxSize = newSize;\n    }\n  }, {\n    key: \"keys\",\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function keys() {\n      var _iterator4, _step4, _step4$value, key;\n\n      return _regeneratorRuntime.wrap(function keys$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _iterator4 = _createForOfIteratorHelper(this);\n              _context2.prev = 1;\n\n              _iterator4.s();\n\n            case 3:\n              if ((_step4 = _iterator4.n()).done) {\n                _context2.next = 9;\n                break;\n              }\n\n              _step4$value = _slicedToArray(_step4.value, 1), key = _step4$value[0];\n              _context2.next = 7;\n              return key;\n\n            case 7:\n              _context2.next = 3;\n              break;\n\n            case 9:\n              _context2.next = 14;\n              break;\n\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2[\"catch\"](1);\n\n              _iterator4.e(_context2.t0);\n\n            case 14:\n              _context2.prev = 14;\n\n              _iterator4.f();\n\n              return _context2.finish(14);\n\n            case 17:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, keys, this, [[1, 11, 14, 17]]);\n    })\n  }, {\n    key: \"values\",\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function values() {\n      var _iterator5, _step5, _step5$value, value;\n\n      return _regeneratorRuntime.wrap(function values$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _iterator5 = _createForOfIteratorHelper(this);\n              _context3.prev = 1;\n\n              _iterator5.s();\n\n            case 3:\n              if ((_step5 = _iterator5.n()).done) {\n                _context3.next = 9;\n                break;\n              }\n\n              _step5$value = _slicedToArray(_step5.value, 2), value = _step5$value[1];\n              _context3.next = 7;\n              return value;\n\n            case 7:\n              _context3.next = 3;\n              break;\n\n            case 9:\n              _context3.next = 14;\n              break;\n\n            case 11:\n              _context3.prev = 11;\n              _context3.t0 = _context3[\"catch\"](1);\n\n              _iterator5.e(_context3.t0);\n\n            case 14:\n              _context3.prev = 14;\n\n              _iterator5.f();\n\n              return _context3.finish(14);\n\n            case 17:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, values, this, [[1, 11, 14, 17]]);\n    })\n  }, {\n    key: _Symbol$iterator,\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function value() {\n      var _iterator6, _step6, item, _item5, key, value, deleted, _iterator7, _step7, _item6, _item7, _key2, _value2, _deleted2;\n\n      return _regeneratorRuntime.wrap(function value$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _iterator6 = _createForOfIteratorHelper(this.cache);\n              _context4.prev = 1;\n\n              _iterator6.s();\n\n            case 3:\n              if ((_step6 = _iterator6.n()).done) {\n                _context4.next = 12;\n                break;\n              }\n\n              item = _step6.value;\n              _item5 = _slicedToArray(item, 2), key = _item5[0], value = _item5[1];\n              deleted = this._deleteIfExpired(key, value);\n\n              if (!(deleted === false)) {\n                _context4.next = 10;\n                break;\n              }\n\n              _context4.next = 10;\n              return [key, value.value];\n\n            case 10:\n              _context4.next = 3;\n              break;\n\n            case 12:\n              _context4.next = 17;\n              break;\n\n            case 14:\n              _context4.prev = 14;\n              _context4.t0 = _context4[\"catch\"](1);\n\n              _iterator6.e(_context4.t0);\n\n            case 17:\n              _context4.prev = 17;\n\n              _iterator6.f();\n\n              return _context4.finish(17);\n\n            case 20:\n              _iterator7 = _createForOfIteratorHelper(this.oldCache);\n              _context4.prev = 21;\n\n              _iterator7.s();\n\n            case 23:\n              if ((_step7 = _iterator7.n()).done) {\n                _context4.next = 33;\n                break;\n              }\n\n              _item6 = _step7.value;\n              _item7 = _slicedToArray(_item6, 2), _key2 = _item7[0], _value2 = _item7[1];\n\n              if (this.cache.has(_key2)) {\n                _context4.next = 31;\n                break;\n              }\n\n              _deleted2 = this._deleteIfExpired(_key2, _value2);\n\n              if (!(_deleted2 === false)) {\n                _context4.next = 31;\n                break;\n              }\n\n              _context4.next = 31;\n              return [_key2, _value2.value];\n\n            case 31:\n              _context4.next = 23;\n              break;\n\n            case 33:\n              _context4.next = 38;\n              break;\n\n            case 35:\n              _context4.prev = 35;\n              _context4.t1 = _context4[\"catch\"](21);\n\n              _iterator7.e(_context4.t1);\n\n            case 38:\n              _context4.prev = 38;\n\n              _iterator7.f();\n\n              return _context4.finish(38);\n\n            case 41:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, value, this, [[1, 14, 17, 20], [21, 35, 38, 41]]);\n    })\n  }, {\n    key: \"entriesDescending\",\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function entriesDescending() {\n      var items, i, item, _item8, key, value, deleted, _i, _item9, _item10, _key3, _value3, _deleted3;\n\n      return _regeneratorRuntime.wrap(function entriesDescending$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              items = _toConsumableArray(this.cache);\n              i = items.length - 1;\n\n            case 2:\n              if (!(i >= 0)) {\n                _context5.next = 12;\n                break;\n              }\n\n              item = items[i];\n              _item8 = _slicedToArray(item, 2), key = _item8[0], value = _item8[1];\n              deleted = this._deleteIfExpired(key, value);\n\n              if (!(deleted === false)) {\n                _context5.next = 9;\n                break;\n              }\n\n              _context5.next = 9;\n              return [key, value.value];\n\n            case 9:\n              --i;\n              _context5.next = 2;\n              break;\n\n            case 12:\n              items = _toConsumableArray(this.oldCache);\n              _i = items.length - 1;\n\n            case 14:\n              if (!(_i >= 0)) {\n                _context5.next = 25;\n                break;\n              }\n\n              _item9 = items[_i];\n              _item10 = _slicedToArray(_item9, 2), _key3 = _item10[0], _value3 = _item10[1];\n\n              if (this.cache.has(_key3)) {\n                _context5.next = 22;\n                break;\n              }\n\n              _deleted3 = this._deleteIfExpired(_key3, _value3);\n\n              if (!(_deleted3 === false)) {\n                _context5.next = 22;\n                break;\n              }\n\n              _context5.next = 22;\n              return [_key3, _value3.value];\n\n            case 22:\n              --_i;\n              _context5.next = 14;\n              break;\n\n            case 25:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, entriesDescending, this);\n    })\n  }, {\n    key: \"entriesAscending\",\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function entriesAscending() {\n      var _iterator8, _step8, _step8$value, key, value;\n\n      return _regeneratorRuntime.wrap(function entriesAscending$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _iterator8 = _createForOfIteratorHelper(this._entriesAscending());\n              _context6.prev = 1;\n\n              _iterator8.s();\n\n            case 3:\n              if ((_step8 = _iterator8.n()).done) {\n                _context6.next = 9;\n                break;\n              }\n\n              _step8$value = _slicedToArray(_step8.value, 2), key = _step8$value[0], value = _step8$value[1];\n              _context6.next = 7;\n              return [key, value.value];\n\n            case 7:\n              _context6.next = 3;\n              break;\n\n            case 9:\n              _context6.next = 14;\n              break;\n\n            case 11:\n              _context6.prev = 11;\n              _context6.t0 = _context6[\"catch\"](1);\n\n              _iterator8.e(_context6.t0);\n\n            case 14:\n              _context6.prev = 14;\n\n              _iterator8.f();\n\n              return _context6.finish(14);\n\n            case 17:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, entriesAscending, this, [[1, 11, 14, 17]]);\n    })\n  }, {\n    key: \"size\",\n    get: function get() {\n      if (!this._size) {\n        return this.oldCache.size;\n      }\n\n      var oldCacheSize = 0;\n\n      var _iterator9 = _createForOfIteratorHelper(this.oldCache.keys()),\n          _step9;\n\n      try {\n        for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n          var key = _step9.value;\n\n          if (!this.cache.has(key)) {\n            oldCacheSize++;\n          }\n        }\n      } catch (err) {\n        _iterator9.e(err);\n      } finally {\n        _iterator9.f();\n      }\n\n      return Math.min(this._size + oldCacheSize, this.maxSize);\n    }\n  }, {\n    key: \"entries\",\n    value: function entries() {\n      return this.entriesAscending();\n    }\n  }, {\n    key: \"forEach\",\n    value: function forEach(callbackFunction) {\n      var thisArgument = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this;\n\n      var _iterator10 = _createForOfIteratorHelper(this.entriesAscending()),\n          _step10;\n\n      try {\n        for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n          var _step10$value = _slicedToArray(_step10.value, 2),\n              key = _step10$value[0],\n              value = _step10$value[1];\n\n          callbackFunction.call(thisArgument, value, key, this);\n        }\n      } catch (err) {\n        _iterator10.e(err);\n      } finally {\n        _iterator10.f();\n      }\n    }\n  }, {\n    key: _Symbol$toStringTag,\n    get: function get() {\n      return JSON.stringify(_toConsumableArray(this.entriesAscending()));\n    }\n  }]);\n\n  return QuickLRU;\n}( /*#__PURE__*/_wrapNativeSuper(Map), Symbol.iterator, Symbol.toStringTag);\n\nexport { QuickLRU as default };","import _createClass from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _assertThisInitialized from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _wrapNativeSuper from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js\";\nimport _asyncToGenerator from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/regenerator/index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nexport function assign(target, source) {\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) {\n      target[key] = source[key];\n    }\n  }\n}\nexport function chunk(iterable, length) {\n  var results = [];\n  var lengthOfIterable = iterable.length;\n\n  for (var i = 0; i < lengthOfIterable; i += length) {\n    var chunked = [];\n\n    for (var ci = i; ci < i + length; ci++) {\n      chunked.push(iterable[ci]);\n    }\n\n    results.push(chunked);\n  }\n\n  return results;\n}\nexport function endsWith(string, expectedEnding) {\n  if (string.length < expectedEnding.length) {\n    return false;\n  }\n\n  var actualEnding = string.substr(string.length - expectedEnding.length);\n  return actualEnding === expectedEnding;\n}\nexport function forEach(iterable, func) {\n  var length = iterable.length;\n\n  for (var i = 0; i < length; i++) {\n    func(iterable[i], i);\n  }\n}\nexport function invert(oldObj) {\n  var newObj = {};\n\n  for (var key in oldObj) {\n    if (oldObj.hasOwnProperty(key)) {\n      var value = oldObj[key];\n      newObj[value] = key;\n    }\n  }\n\n  return newObj;\n}\nexport function range(n) {\n  var results = [];\n\n  for (var i = 0; i < n; i++) {\n    results.push(i);\n  }\n\n  return results;\n}\nexport function times(numTimes, func) {\n  var results = [];\n\n  for (var i = 0; i < numTimes; i++) {\n    results.push(func(i));\n  }\n\n  return results;\n}\nexport function toArray(iterable) {\n  var results = [];\n  var length = iterable.length;\n\n  for (var i = 0; i < length; i++) {\n    results.push(iterable[i]);\n  }\n\n  return results;\n}\nexport function toArrayRecursively(input) {\n  if (input.length) {\n    return toArray(input).map(toArrayRecursively);\n  }\n\n  return input;\n} // copied from https://github.com/academia-de-codigo/parse-content-range-header/blob/master/index.js\n\nexport function parseContentRange(headerValue) {\n  if (!headerValue) {\n    return null;\n  }\n\n  if (typeof headerValue !== 'string') {\n    throw new Error('invalid argument');\n  }\n\n  var parseInt = function parseInt(number) {\n    return Number.parseInt(number, 10);\n  }; // Check for presence of unit\n\n\n  var matches = headerValue.match(/^(\\w*) /);\n  var unit = matches && matches[1]; // check for start-end/size header format\n\n  matches = headerValue.match(/(\\d+)-(\\d+)\\/(\\d+|\\*)/);\n\n  if (matches) {\n    return {\n      unit: unit,\n      first: parseInt(matches[1]),\n      last: parseInt(matches[2]),\n      length: matches[3] === '*' ? null : parseInt(matches[3])\n    };\n  } // check for size header format\n\n\n  matches = headerValue.match(/(\\d+|\\*)/);\n\n  if (matches) {\n    return {\n      unit: unit,\n      first: null,\n      last: null,\n      length: matches[1] === '*' ? null : parseInt(matches[1])\n    };\n  }\n\n  return null;\n}\n/*\n * Promisified wrapper around 'setTimeout' to allow 'await'\n */\n\nexport function wait(_x) {\n  return _wait.apply(this, arguments);\n}\n\nfunction _wait() {\n  _wait = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(milliseconds) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", new Promise(function (resolve) {\n              return setTimeout(resolve, milliseconds);\n            }));\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _wait.apply(this, arguments);\n}\n\nexport function zip(a, b) {\n  var A = Array.isArray(a) ? a : Array.from(a);\n  var B = Array.isArray(b) ? b : Array.from(b);\n  return A.map(function (k, i) {\n    return [k, B[i]];\n  });\n} // Based on https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error\n\nexport var AbortError = /*#__PURE__*/function (_Error) {\n  _inherits(AbortError, _Error);\n\n  var _super = _createSuper(AbortError);\n\n  function AbortError(params) {\n    var _this;\n\n    _classCallCheck(this, AbortError);\n\n    // Pass remaining arguments (including vendor specific ones) to parent constructor\n    _this = _super.call(this, params); // Maintains proper stack trace for where our error was thrown (only available on V8)\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(_assertThisInitialized(_this), AbortError);\n    }\n\n    _this.name = 'AbortError';\n    return _this;\n  }\n\n  return _createClass(AbortError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nexport var CustomAggregateError = /*#__PURE__*/function (_Error2) {\n  _inherits(CustomAggregateError, _Error2);\n\n  var _super2 = _createSuper(CustomAggregateError);\n\n  function CustomAggregateError(errors, message) {\n    var _this2;\n\n    _classCallCheck(this, CustomAggregateError);\n\n    _this2 = _super2.call(this, message);\n    _this2.errors = errors;\n    _this2.message = message;\n    _this2.name = 'AggregateError';\n    return _this2;\n  }\n\n  return _createClass(CustomAggregateError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nexport var AggregateError = CustomAggregateError;","import _asyncToGenerator from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _inherits from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _classCallCheck from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/regenerator/index.js\";\nimport \"core-js/modules/esnext.promise.all-settled.js\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport QuickLRU from 'quick-lru';\nimport { BaseSource } from './basesource.js';\nimport { AbortError, AggregateError, wait, zip } from '../utils.js';\n\nvar Block = /*#__PURE__*/function () {\n  /**\n   *\n   * @param {number} offset\n   * @param {number} length\n   * @param {ArrayBuffer} [data]\n   */\n  function Block(offset, length) {\n    var data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n    _classCallCheck(this, Block);\n\n    this.offset = offset;\n    this.length = length;\n    this.data = data;\n  }\n  /**\n   * @returns {number} the top byte border\n   */\n\n\n  _createClass(Block, [{\n    key: \"top\",\n    get: function get() {\n      return this.offset + this.length;\n    }\n  }]);\n\n  return Block;\n}();\n\nvar BlockGroup = /*#__PURE__*/_createClass(\n/**\n *\n * @param {number} offset\n * @param {number} length\n * @param {number[]} blockIds\n */\nfunction BlockGroup(offset, length, blockIds) {\n  _classCallCheck(this, BlockGroup);\n\n  this.offset = offset;\n  this.length = length;\n  this.blockIds = blockIds;\n});\n\nexport var BlockedSource = /*#__PURE__*/function (_BaseSource) {\n  _inherits(BlockedSource, _BaseSource);\n\n  var _super = _createSuper(BlockedSource);\n\n  /**\n   *\n   * @param {Source} source The underlying source that shall be blocked and cached\n   * @param {object} options\n   */\n  function BlockedSource(source) {\n    var _this;\n\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref$blockSize = _ref.blockSize,\n        blockSize = _ref$blockSize === void 0 ? 65536 : _ref$blockSize,\n        _ref$cacheSize = _ref.cacheSize,\n        cacheSize = _ref$cacheSize === void 0 ? 100 : _ref$cacheSize;\n\n    _classCallCheck(this, BlockedSource);\n\n    _this = _super.call(this);\n    _this.source = source;\n    _this.blockSize = blockSize;\n    _this.blockCache = new QuickLRU({\n      maxSize: cacheSize\n    }); // mapping blockId -> Block instance\n\n    _this.blockRequests = new Map(); // set of blockIds missing for the current requests\n\n    _this.blockIdsToFetch = new Set();\n    _this.abortedBlockIds = new Set();\n    return _this;\n  }\n\n  _createClass(BlockedSource, [{\n    key: \"fileSize\",\n    get: function get() {\n      return this.source.fileSize;\n    }\n    /**\n     *\n     * @param {basesource/Slice[]} slices\n     */\n\n  }, {\n    key: \"fetch\",\n    value: function () {\n      var _fetch = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(slices, signal) {\n        var _this2 = this;\n\n        var blockRequests, missingBlockIds, allBlockIds, _iterator, _step, _step$value, offset, length, top, fileSize, firstBlockOffset, current, _blockId2, missingRequests, _i, _missingBlockIds, blockId, abortedBlockRequests, abortedBlockIds, _iterator2, _step2, _blockId, block, blocks, failedBlocks, requiredBlocks;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                blockRequests = [];\n                missingBlockIds = [];\n                allBlockIds = [];\n                _iterator = _createForOfIteratorHelper(slices);\n\n                try {\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    _step$value = _step.value, offset = _step$value.offset, length = _step$value.length;\n                    top = offset + length;\n                    fileSize = this.fileSize;\n\n                    if (fileSize !== null) {\n                      top = Math.min(top, fileSize);\n                    }\n\n                    firstBlockOffset = Math.floor(offset / this.blockSize) * this.blockSize;\n\n                    for (current = firstBlockOffset; current < top; current += this.blockSize) {\n                      _blockId2 = Math.floor(current / this.blockSize);\n\n                      if (!this.blockCache.has(_blockId2) && !this.blockRequests.has(_blockId2)) {\n                        this.blockIdsToFetch.add(_blockId2);\n                        missingBlockIds.push(_blockId2);\n                      }\n\n                      if (this.blockRequests.has(_blockId2)) {\n                        blockRequests.push(this.blockRequests.get(_blockId2));\n                      }\n\n                      allBlockIds.push(_blockId2);\n                    }\n                  } // allow additional block requests to accumulate\n\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n\n                _context.next = 7;\n                return wait();\n\n              case 7:\n                this.fetchBlocks(signal); // Gather all of the new requests that this fetch call is contributing to `fetch`.\n\n                missingRequests = [];\n\n                for (_i = 0, _missingBlockIds = missingBlockIds; _i < _missingBlockIds.length; _i++) {\n                  blockId = _missingBlockIds[_i];\n\n                  // The requested missing block could already be in the cache\n                  // instead of having its request still be outstanding.\n                  if (this.blockRequests.has(blockId)) {\n                    missingRequests.push(this.blockRequests.get(blockId));\n                  }\n                } // Actually await all pending requests that are needed for this `fetch`.\n\n\n                _context.next = 12;\n                return Promise.allSettled(blockRequests);\n\n              case 12:\n                _context.next = 14;\n                return Promise.allSettled(missingRequests);\n\n              case 14:\n                // Perform retries if a block was interrupted by a previous signal\n                abortedBlockRequests = [];\n                abortedBlockIds = allBlockIds.filter(function (id) {\n                  return _this2.abortedBlockIds.has(id) || !_this2.blockCache.has(id);\n                });\n                abortedBlockIds.forEach(function (id) {\n                  return _this2.blockIdsToFetch.add(id);\n                }); // start the retry of some blocks if required\n\n                if (!(abortedBlockIds.length > 0 && signal && !signal.aborted)) {\n                  _context.next = 40;\n                  break;\n                }\n\n                this.fetchBlocks(null);\n                _iterator2 = _createForOfIteratorHelper(abortedBlockIds);\n                _context.prev = 20;\n\n                _iterator2.s();\n\n              case 22:\n                if ((_step2 = _iterator2.n()).done) {\n                  _context.next = 30;\n                  break;\n                }\n\n                _blockId = _step2.value;\n                block = this.blockRequests.get(_blockId);\n\n                if (block) {\n                  _context.next = 27;\n                  break;\n                }\n\n                throw new Error(\"Block \".concat(_blockId, \" is not in the block requests\"));\n\n              case 27:\n                abortedBlockRequests.push(block);\n\n              case 28:\n                _context.next = 22;\n                break;\n\n              case 30:\n                _context.next = 35;\n                break;\n\n              case 32:\n                _context.prev = 32;\n                _context.t0 = _context[\"catch\"](20);\n\n                _iterator2.e(_context.t0);\n\n              case 35:\n                _context.prev = 35;\n\n                _iterator2.f();\n\n                return _context.finish(35);\n\n              case 38:\n                _context.next = 40;\n                return Promise.allSettled(abortedBlockRequests);\n\n              case 40:\n                if (!(signal && signal.aborted)) {\n                  _context.next = 42;\n                  break;\n                }\n\n                throw new AbortError('Request was aborted');\n\n              case 42:\n                blocks = allBlockIds.map(function (id) {\n                  return _this2.blockCache.get(id);\n                });\n                failedBlocks = blocks.filter(function (i) {\n                  return !i;\n                });\n\n                if (!failedBlocks.length) {\n                  _context.next = 46;\n                  break;\n                }\n\n                throw new AggregateError(failedBlocks, 'Request failed');\n\n              case 46:\n                // create a final Map, with all required blocks for this request to satisfy\n                requiredBlocks = new Map(zip(allBlockIds, blocks)); // TODO: satisfy each slice\n\n                return _context.abrupt(\"return\", this.readSliceData(slices, requiredBlocks));\n\n              case 48:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[20, 32, 35, 38]]);\n      }));\n\n      function fetch(_x, _x2) {\n        return _fetch.apply(this, arguments);\n      }\n\n      return fetch;\n    }()\n    /**\n     *\n     * @param {AbortSignal} signal\n     */\n\n  }, {\n    key: \"fetchBlocks\",\n    value: function fetchBlocks(signal) {\n      var _this3 = this;\n\n      // check if we still need to\n      if (this.blockIdsToFetch.size > 0) {\n        (function () {\n          var groups = _this3.groupBlocks(_this3.blockIdsToFetch); // start requesting slices of data\n\n\n          var groupRequests = _this3.source.fetch(groups, signal);\n\n          var _loop = function _loop(groupIndex) {\n            var group = groups[groupIndex];\n\n            var _iterator3 = _createForOfIteratorHelper(group.blockIds),\n                _step3;\n\n            try {\n              var _loop2 = function _loop2() {\n                var blockId = _step3.value;\n\n                // make an async IIFE for each block\n                _this3.blockRequests.set(blockId, _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n                  var response, blockOffset, o, t, data, block;\n                  return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          _context2.prev = 0;\n                          _context2.next = 3;\n                          return groupRequests;\n\n                        case 3:\n                          _context2.t0 = groupIndex;\n                          response = _context2.sent[_context2.t0];\n                          blockOffset = blockId * _this3.blockSize;\n                          o = blockOffset - response.offset;\n                          t = Math.min(o + _this3.blockSize, response.data.byteLength);\n                          data = response.data.slice(o, t);\n                          block = new Block(blockOffset, data.byteLength, data, blockId);\n\n                          _this3.blockCache.set(blockId, block);\n\n                          _this3.abortedBlockIds.delete(blockId);\n\n                          _context2.next = 23;\n                          break;\n\n                        case 14:\n                          _context2.prev = 14;\n                          _context2.t1 = _context2[\"catch\"](0);\n\n                          if (!(_context2.t1.name === 'AbortError')) {\n                            _context2.next = 22;\n                            break;\n                          }\n\n                          // store the signal here, we need it to determine later if an\n                          // error was caused by this signal\n                          _context2.t1.signal = signal;\n\n                          _this3.blockCache.delete(blockId);\n\n                          _this3.abortedBlockIds.add(blockId);\n\n                          _context2.next = 23;\n                          break;\n\n                        case 22:\n                          throw _context2.t1;\n\n                        case 23:\n                          _context2.prev = 23;\n\n                          _this3.blockRequests.delete(blockId);\n\n                          return _context2.finish(23);\n\n                        case 26:\n                        case \"end\":\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2, null, [[0, 14, 23, 26]]);\n                }))());\n              };\n\n              for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n                _loop2();\n              }\n            } catch (err) {\n              _iterator3.e(err);\n            } finally {\n              _iterator3.f();\n            }\n          };\n\n          for (var groupIndex = 0; groupIndex < groups.length; ++groupIndex) {\n            _loop(groupIndex);\n          }\n\n          _this3.blockIdsToFetch.clear();\n        })();\n      }\n    }\n    /**\n     *\n     * @param {Set} blockIds\n     * @returns {BlockGroup[]}\n     */\n\n  }, {\n    key: \"groupBlocks\",\n    value: function groupBlocks(blockIds) {\n      var sortedBlockIds = Array.from(blockIds).sort(function (a, b) {\n        return a - b;\n      });\n\n      if (sortedBlockIds.length === 0) {\n        return [];\n      }\n\n      var current = [];\n      var lastBlockId = null;\n      var groups = [];\n\n      var _iterator4 = _createForOfIteratorHelper(sortedBlockIds),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var blockId = _step4.value;\n\n          if (lastBlockId === null || lastBlockId + 1 === blockId) {\n            current.push(blockId);\n            lastBlockId = blockId;\n          } else {\n            groups.push(new BlockGroup(current[0] * this.blockSize, current.length * this.blockSize, current));\n            current = [blockId];\n            lastBlockId = blockId;\n          }\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n\n      groups.push(new BlockGroup(current[0] * this.blockSize, current.length * this.blockSize, current));\n      return groups;\n    }\n    /**\n     *\n     * @param {Slice[]} slices\n     * @param {Map} blocks\n     */\n\n  }, {\n    key: \"readSliceData\",\n    value: function readSliceData(slices, blocks) {\n      var _this4 = this;\n\n      return slices.map(function (slice) {\n        var top = slice.offset + slice.length;\n\n        if (_this4.fileSize !== null) {\n          top = Math.min(_this4.fileSize, top);\n        }\n\n        var blockIdLow = Math.floor(slice.offset / _this4.blockSize);\n        var blockIdHigh = Math.floor(top / _this4.blockSize);\n        var sliceData = new ArrayBuffer(slice.length);\n        var sliceView = new Uint8Array(sliceData);\n\n        for (var blockId = blockIdLow; blockId <= blockIdHigh; ++blockId) {\n          var block = blocks.get(blockId);\n          var delta = block.offset - slice.offset;\n          var topDelta = block.top - top;\n          var blockInnerOffset = 0;\n          var rangeInnerOffset = 0;\n          var usedBlockLength = void 0;\n\n          if (delta < 0) {\n            blockInnerOffset = -delta;\n          } else if (delta > 0) {\n            rangeInnerOffset = delta;\n          }\n\n          if (topDelta < 0) {\n            usedBlockLength = block.length - blockInnerOffset;\n          } else {\n            usedBlockLength = top - block.offset - blockInnerOffset;\n          }\n\n          var blockView = new Uint8Array(block.data, blockInnerOffset, usedBlockLength);\n          sliceView.set(blockView, rangeInnerOffset);\n        }\n\n        return sliceData;\n      });\n    }\n  }]);\n\n  return BlockedSource;\n}(BaseSource);","import _asyncToGenerator from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/regenerator/index.js\";\nexport var BaseResponse = /*#__PURE__*/function () {\n  function BaseResponse() {\n    _classCallCheck(this, BaseResponse);\n  }\n\n  _createClass(BaseResponse, [{\n    key: \"ok\",\n    get:\n    /**\n     * Returns whether the response has an ok'ish status code\n     */\n    function get() {\n      return this.status >= 200 && this.status <= 299;\n    }\n    /**\n     * Returns the status code of the response\n     */\n\n  }, {\n    key: \"status\",\n    get: function get() {\n      throw new Error('not implemented');\n    }\n    /**\n     * Returns the value of the specified header\n     * @param {string} headerName the header name\n     * @returns {string} the header value\n     */\n\n  }, {\n    key: \"getHeader\",\n    value: function getHeader(headerName) {\n      // eslint-disable-line no-unused-vars\n      throw new Error('not implemented');\n    }\n    /**\n     * @returns {ArrayBuffer} the response data of the request\n     */\n\n  }, {\n    key: \"getData\",\n    value: function () {\n      var _getData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                throw new Error('not implemented');\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getData() {\n        return _getData.apply(this, arguments);\n      }\n\n      return getData;\n    }()\n  }]);\n\n  return BaseResponse;\n}();\nexport var BaseClient = /*#__PURE__*/function () {\n  function BaseClient(url) {\n    _classCallCheck(this, BaseClient);\n\n    this.url = url;\n  }\n  /**\n   * Send a request with the options\n   * @param {object} [options]\n   */\n\n\n  _createClass(BaseClient, [{\n    key: \"request\",\n    value: function () {\n      var _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var _ref,\n            headers,\n            credentials,\n            signal,\n            _args2 = arguments;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _ref = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : {}, headers = _ref.headers, credentials = _ref.credentials, signal = _ref.signal;\n                throw new Error('request is not implemented');\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function request() {\n        return _request.apply(this, arguments);\n      }\n\n      return request;\n    }()\n  }]);\n\n  return BaseClient;\n}();","import _asyncToGenerator from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/regenerator/index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { BaseClient, BaseResponse } from './base.js';\n\nvar FetchResponse = /*#__PURE__*/function (_BaseResponse) {\n  _inherits(FetchResponse, _BaseResponse);\n\n  var _super = _createSuper(FetchResponse);\n\n  /**\n   * BaseResponse facade for fetch API Response\n   * @param {Response} response\n   */\n  function FetchResponse(response) {\n    var _this;\n\n    _classCallCheck(this, FetchResponse);\n\n    _this = _super.call(this);\n    _this.response = response;\n    return _this;\n  }\n\n  _createClass(FetchResponse, [{\n    key: \"status\",\n    get: function get() {\n      return this.response.status;\n    }\n  }, {\n    key: \"getHeader\",\n    value: function getHeader(name) {\n      return this.response.headers.get(name);\n    }\n  }, {\n    key: \"getData\",\n    value: function () {\n      var _getData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!this.response.arrayBuffer) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _context.next = 3;\n                return this.response.arrayBuffer();\n\n              case 3:\n                _context.t0 = _context.sent;\n                _context.next = 9;\n                break;\n\n              case 6:\n                _context.next = 8;\n                return this.response.buffer();\n\n              case 8:\n                _context.t0 = _context.sent.buffer;\n\n              case 9:\n                data = _context.t0;\n                return _context.abrupt(\"return\", data);\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getData() {\n        return _getData.apply(this, arguments);\n      }\n\n      return getData;\n    }()\n  }]);\n\n  return FetchResponse;\n}(BaseResponse);\n\nexport var FetchClient = /*#__PURE__*/function (_BaseClient) {\n  _inherits(FetchClient, _BaseClient);\n\n  var _super2 = _createSuper(FetchClient);\n\n  function FetchClient(url, credentials) {\n    var _this2;\n\n    _classCallCheck(this, FetchClient);\n\n    _this2 = _super2.call(this, url);\n    _this2.credentials = credentials;\n    return _this2;\n  }\n\n  _createClass(FetchClient, [{\n    key: \"request\",\n    value: function () {\n      var _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var _ref,\n            headers,\n            credentials,\n            signal,\n            response,\n            _args2 = arguments;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _ref = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : {}, headers = _ref.headers, credentials = _ref.credentials, signal = _ref.signal;\n                _context2.next = 3;\n                return fetch(this.url, {\n                  headers: headers,\n                  credentials: credentials,\n                  signal: signal\n                });\n\n              case 3:\n                response = _context2.sent;\n                return _context2.abrupt(\"return\", new FetchResponse(response));\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function request() {\n        return _request.apply(this, arguments);\n      }\n\n      return request;\n    }()\n  }]);\n\n  return FetchClient;\n}(BaseClient);","import _slicedToArray from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _asyncToGenerator from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/regenerator/index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { BaseClient, BaseResponse } from './base.js';\nimport { AbortError } from '../../utils.js';\n\nvar XHRResponse = /*#__PURE__*/function (_BaseResponse) {\n  _inherits(XHRResponse, _BaseResponse);\n\n  var _super = _createSuper(XHRResponse);\n\n  /**\n   * BaseResponse facade for XMLHttpRequest\n   * @param {XMLHttpRequest} xhr\n   * @param {ArrayBuffer} data\n   */\n  function XHRResponse(xhr, data) {\n    var _this;\n\n    _classCallCheck(this, XHRResponse);\n\n    _this = _super.call(this);\n    _this.xhr = xhr;\n    _this.data = data;\n    return _this;\n  }\n\n  _createClass(XHRResponse, [{\n    key: \"status\",\n    get: function get() {\n      return this.xhr.status;\n    }\n  }, {\n    key: \"getHeader\",\n    value: function getHeader(name) {\n      return this.xhr.getResponseHeader(name);\n    }\n  }, {\n    key: \"getData\",\n    value: function () {\n      var _getData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", this.data);\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getData() {\n        return _getData.apply(this, arguments);\n      }\n\n      return getData;\n    }()\n  }]);\n\n  return XHRResponse;\n}(BaseResponse);\n\nexport var XHRClient = /*#__PURE__*/function (_BaseClient) {\n  _inherits(XHRClient, _BaseClient);\n\n  var _super2 = _createSuper(XHRClient);\n\n  function XHRClient() {\n    _classCallCheck(this, XHRClient);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(XHRClient, [{\n    key: \"constructRequest\",\n    value: function constructRequest(headers, signal) {\n      var _this2 = this;\n\n      return new Promise(function (resolve, reject) {\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', _this2.url);\n        xhr.responseType = 'arraybuffer';\n\n        for (var _i = 0, _Object$entries = Object.entries(headers); _i < _Object$entries.length; _i++) {\n          var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n              key = _Object$entries$_i[0],\n              value = _Object$entries$_i[1];\n\n          xhr.setRequestHeader(key, value);\n        } // hook signals\n\n\n        xhr.onload = function () {\n          var data = xhr.response;\n          resolve(new XHRResponse(xhr, data));\n        };\n\n        xhr.onerror = reject;\n\n        xhr.onabort = function () {\n          return reject(new AbortError('Request aborted'));\n        };\n\n        xhr.send();\n\n        if (signal) {\n          if (signal.aborted) {\n            xhr.abort();\n          }\n\n          signal.addEventListener('abort', function () {\n            return xhr.abort();\n          });\n        }\n      });\n    }\n  }, {\n    key: \"request\",\n    value: function () {\n      var _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var _ref,\n            headers,\n            signal,\n            response,\n            _args2 = arguments;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _ref = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : {}, headers = _ref.headers, signal = _ref.signal;\n                _context2.next = 3;\n                return this.constructRequest(headers, signal);\n\n              case 3:\n                response = _context2.sent;\n                return _context2.abrupt(\"return\", response);\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function request() {\n        return _request.apply(this, arguments);\n      }\n\n      return request;\n    }()\n  }]);\n\n  return XHRClient;\n}(BaseClient);","import _defineProperty from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _asyncToGenerator from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/regenerator/index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport http from 'http';\nimport https from 'https';\nimport urlMod from 'url';\nimport { BaseClient, BaseResponse } from './base.js';\nimport { AbortError } from '../../utils.js';\n\nvar HttpResponse = /*#__PURE__*/function (_BaseResponse) {\n  _inherits(HttpResponse, _BaseResponse);\n\n  var _super = _createSuper(HttpResponse);\n\n  /**\n   * BaseResponse facade for node HTTP/HTTPS API Response\n   * @param {http.ServerResponse} response\n   */\n  function HttpResponse(response, dataPromise) {\n    var _this;\n\n    _classCallCheck(this, HttpResponse);\n\n    _this = _super.call(this);\n    _this.response = response;\n    _this.dataPromise = dataPromise;\n    return _this;\n  }\n\n  _createClass(HttpResponse, [{\n    key: \"status\",\n    get: function get() {\n      return this.response.statusCode;\n    }\n  }, {\n    key: \"getHeader\",\n    value: function getHeader(name) {\n      return this.response.headers[name];\n    }\n  }, {\n    key: \"getData\",\n    value: function () {\n      var _getData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.dataPromise;\n\n              case 2:\n                data = _context.sent;\n                return _context.abrupt(\"return\", data);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getData() {\n        return _getData.apply(this, arguments);\n      }\n\n      return getData;\n    }()\n  }]);\n\n  return HttpResponse;\n}(BaseResponse);\n\nexport var HttpClient = /*#__PURE__*/function (_BaseClient) {\n  _inherits(HttpClient, _BaseClient);\n\n  var _super2 = _createSuper(HttpClient);\n\n  function HttpClient(url) {\n    var _this2;\n\n    _classCallCheck(this, HttpClient);\n\n    _this2 = _super2.call(this, url);\n    _this2.parsedUrl = urlMod.parse(_this2.url);\n    _this2.httpApi = _this2.parsedUrl.protocol === 'http:' ? http : https;\n    return _this2;\n  }\n\n  _createClass(HttpClient, [{\n    key: \"constructRequest\",\n    value: function constructRequest(headers, signal) {\n      var _this3 = this;\n\n      return new Promise(function (resolve, reject) {\n        var request = _this3.httpApi.get(_objectSpread(_objectSpread({}, _this3.parsedUrl), {}, {\n          headers: headers\n        }), function (response) {\n          var dataPromise = new Promise(function (resolveData) {\n            var chunks = []; // collect chunks\n\n            response.on('data', function (chunk) {\n              chunks.push(chunk);\n            }); // concatenate all chunks and resolve the promise with the resulting buffer\n\n            response.on('end', function () {\n              var data = Buffer.concat(chunks).buffer;\n              resolveData(data);\n            });\n            response.on('error', reject);\n          });\n          resolve(new HttpResponse(response, dataPromise));\n        });\n\n        request.on('error', reject);\n\n        if (signal) {\n          if (signal.aborted) {\n            request.destroy(new AbortError('Request aborted'));\n          }\n\n          signal.addEventListener('abort', function () {\n            return request.destroy(new AbortError('Request aborted'));\n          });\n        }\n      });\n    }\n  }, {\n    key: \"request\",\n    value: function () {\n      var _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var _ref,\n            headers,\n            signal,\n            response,\n            _args2 = arguments;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _ref = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : {}, headers = _ref.headers, signal = _ref.signal;\n                _context2.next = 3;\n                return this.constructRequest(headers, signal);\n\n              case 3:\n                response = _context2.sent;\n                return _context2.abrupt(\"return\", response);\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function request() {\n        return _request.apply(this, arguments);\n      }\n\n      return request;\n    }()\n  }]);\n\n  return HttpClient;\n}(BaseClient);","import _objectWithoutProperties from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _defineProperty from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _asyncToGenerator from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nvar _excluded = [\"headers\", \"credentials\", \"maxRanges\", \"allowFullFile\"],\n    _excluded2 = [\"headers\", \"maxRanges\", \"allowFullFile\"],\n    _excluded3 = [\"headers\", \"maxRanges\", \"allowFullFile\"],\n    _excluded4 = [\"forceXHR\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/regenerator/index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { parseByteRanges, parseContentRange, parseContentType } from './httputils.js';\nimport { BaseSource } from './basesource.js';\nimport { BlockedSource } from './blockedsource.js';\nimport { FetchClient } from './client/fetch.js';\nimport { XHRClient } from './client/xhr.js';\nimport { HttpClient } from './client/http.js';\n\nvar RemoteSource = /*#__PURE__*/function (_BaseSource) {\n  _inherits(RemoteSource, _BaseSource);\n\n  var _super = _createSuper(RemoteSource);\n\n  /**\n   *\n   * @param {BaseClient} client\n   * @param {object} headers\n   * @param {numbers} maxRanges\n   * @param {boolean} allowFullFile\n   */\n  function RemoteSource(client, headers, maxRanges, allowFullFile) {\n    var _this;\n\n    _classCallCheck(this, RemoteSource);\n\n    _this = _super.call(this);\n    _this.client = client;\n    _this.headers = headers;\n    _this.maxRanges = maxRanges;\n    _this.allowFullFile = allowFullFile;\n    _this._fileSize = null;\n    return _this;\n  }\n  /**\n   *\n   * @param {Slice[]} slices\n   */\n\n\n  _createClass(RemoteSource, [{\n    key: \"fetch\",\n    value: function () {\n      var _fetch = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(slices, signal) {\n        var _this2 = this;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(this.maxRanges >= slices.length)) {\n                  _context.next = 4;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", this.fetchSlices(slices, signal));\n\n              case 4:\n                if (this.maxRanges > 0 && slices.length > 1) {// TODO: split into multiple multi-range requests\n                  // const subSlicesRequests = [];\n                  // for (let i = 0; i < slices.length; i += this.maxRanges) {\n                  //   subSlicesRequests.push(\n                  //     this.fetchSlices(slices.slice(i, i + this.maxRanges), signal),\n                  //   );\n                  // }\n                  // return (await Promise.all(subSlicesRequests)).flat();\n                }\n\n              case 5:\n                return _context.abrupt(\"return\", Promise.all(slices.map(function (slice) {\n                  return _this2.fetchSlice(slice, signal);\n                })));\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function fetch(_x, _x2) {\n        return _fetch.apply(this, arguments);\n      }\n\n      return fetch;\n    }()\n  }, {\n    key: \"fetchSlices\",\n    value: function () {\n      var _fetchSlices = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(slices, signal) {\n        var _this3 = this;\n\n        var response, _parseContentType, type, params, byteRanges, data, _parseContentRange, start, end, total, first, others, _data;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.client.request({\n                  headers: _objectSpread(_objectSpread({}, this.headers), {}, {\n                    Range: \"bytes=\".concat(slices.map(function (_ref) {\n                      var offset = _ref.offset,\n                          length = _ref.length;\n                      return \"\".concat(offset, \"-\").concat(offset + length);\n                    }).join(','))\n                  }),\n                  signal: signal\n                });\n\n              case 2:\n                response = _context2.sent;\n\n                if (response.ok) {\n                  _context2.next = 7;\n                  break;\n                }\n\n                throw new Error('Error fetching data.');\n\n              case 7:\n                if (!(response.status === 206)) {\n                  _context2.next = 32;\n                  break;\n                }\n\n                _parseContentType = parseContentType(response.getHeader('content-type')), type = _parseContentType.type, params = _parseContentType.params;\n\n                if (!(type === 'multipart/byteranges')) {\n                  _context2.next = 18;\n                  break;\n                }\n\n                _context2.t0 = parseByteRanges;\n                _context2.next = 13;\n                return response.getData();\n\n              case 13:\n                _context2.t1 = _context2.sent;\n                _context2.t2 = params.boundary;\n                byteRanges = (0, _context2.t0)(_context2.t1, _context2.t2);\n                this._fileSize = byteRanges[0].fileSize || null;\n                return _context2.abrupt(\"return\", byteRanges);\n\n              case 18:\n                _context2.next = 20;\n                return response.getData();\n\n              case 20:\n                data = _context2.sent;\n                _parseContentRange = parseContentRange(response.getHeader('content-range')), start = _parseContentRange.start, end = _parseContentRange.end, total = _parseContentRange.total;\n                this._fileSize = total || null;\n                first = [{\n                  data: data,\n                  offset: start,\n                  length: end - start\n                }];\n\n                if (!(slices.length > 1)) {\n                  _context2.next = 29;\n                  break;\n                }\n\n                _context2.next = 27;\n                return Promise.all(slices.slice(1).map(function (slice) {\n                  return _this3.fetchSlice(slice, signal);\n                }));\n\n              case 27:\n                others = _context2.sent;\n                return _context2.abrupt(\"return\", first.concat(others));\n\n              case 29:\n                return _context2.abrupt(\"return\", first);\n\n              case 32:\n                if (this.allowFullFile) {\n                  _context2.next = 34;\n                  break;\n                }\n\n                throw new Error('Server responded with full file');\n\n              case 34:\n                _context2.next = 36;\n                return response.getData();\n\n              case 36:\n                _data = _context2.sent;\n                this._fileSize = _data.byteLength;\n                return _context2.abrupt(\"return\", [{\n                  data: _data,\n                  offset: 0,\n                  length: _data.byteLength\n                }]);\n\n              case 39:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function fetchSlices(_x3, _x4) {\n        return _fetchSlices.apply(this, arguments);\n      }\n\n      return fetchSlices;\n    }()\n  }, {\n    key: \"fetchSlice\",\n    value: function () {\n      var _fetchSlice = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(slice, signal) {\n        var offset, length, response, data, _parseContentRange2, total, _data2;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                offset = slice.offset, length = slice.length;\n                _context3.next = 3;\n                return this.client.request({\n                  headers: _objectSpread(_objectSpread({}, this.headers), {}, {\n                    Range: \"bytes=\".concat(offset, \"-\").concat(offset + length)\n                  }),\n                  signal: signal\n                });\n\n              case 3:\n                response = _context3.sent;\n\n                if (response.ok) {\n                  _context3.next = 8;\n                  break;\n                }\n\n                throw new Error('Error fetching data.');\n\n              case 8:\n                if (!(response.status === 206)) {\n                  _context3.next = 17;\n                  break;\n                }\n\n                _context3.next = 11;\n                return response.getData();\n\n              case 11:\n                data = _context3.sent;\n                _parseContentRange2 = parseContentRange(response.getHeader('content-range')), total = _parseContentRange2.total;\n                this._fileSize = total || null;\n                return _context3.abrupt(\"return\", {\n                  data: data,\n                  offset: offset,\n                  length: length\n                });\n\n              case 17:\n                if (this.allowFullFile) {\n                  _context3.next = 19;\n                  break;\n                }\n\n                throw new Error('Server responded with full file');\n\n              case 19:\n                _context3.next = 21;\n                return response.getData();\n\n              case 21:\n                _data2 = _context3.sent;\n                this._fileSize = _data2.byteLength;\n                return _context3.abrupt(\"return\", {\n                  data: _data2,\n                  offset: 0,\n                  length: _data2.byteLength\n                });\n\n              case 24:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function fetchSlice(_x5, _x6) {\n        return _fetchSlice.apply(this, arguments);\n      }\n\n      return fetchSlice;\n    }()\n  }, {\n    key: \"fileSize\",\n    get: function get() {\n      return this._fileSize;\n    }\n  }]);\n\n  return RemoteSource;\n}(BaseSource);\n\nfunction maybeWrapInBlockedSource(source, _ref2) {\n  var blockSize = _ref2.blockSize,\n      cacheSize = _ref2.cacheSize;\n\n  if (blockSize === null) {\n    return source;\n  }\n\n  return new BlockedSource(source, {\n    blockSize: blockSize,\n    cacheSize: cacheSize\n  });\n}\n\nexport function makeFetchSource(url) {\n  var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref3$headers = _ref3.headers,\n      headers = _ref3$headers === void 0 ? {} : _ref3$headers,\n      credentials = _ref3.credentials,\n      _ref3$maxRanges = _ref3.maxRanges,\n      maxRanges = _ref3$maxRanges === void 0 ? 0 : _ref3$maxRanges,\n      _ref3$allowFullFile = _ref3.allowFullFile,\n      allowFullFile = _ref3$allowFullFile === void 0 ? false : _ref3$allowFullFile,\n      blockOptions = _objectWithoutProperties(_ref3, _excluded);\n\n  var client = new FetchClient(url, credentials);\n  var source = new RemoteSource(client, headers, maxRanges, allowFullFile);\n  return maybeWrapInBlockedSource(source, blockOptions);\n}\nexport function makeXHRSource(url) {\n  var _ref4 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref4$headers = _ref4.headers,\n      headers = _ref4$headers === void 0 ? {} : _ref4$headers,\n      _ref4$maxRanges = _ref4.maxRanges,\n      maxRanges = _ref4$maxRanges === void 0 ? 0 : _ref4$maxRanges,\n      _ref4$allowFullFile = _ref4.allowFullFile,\n      allowFullFile = _ref4$allowFullFile === void 0 ? false : _ref4$allowFullFile,\n      blockOptions = _objectWithoutProperties(_ref4, _excluded2);\n\n  var client = new XHRClient(url);\n  var source = new RemoteSource(client, headers, maxRanges, allowFullFile);\n  return maybeWrapInBlockedSource(source, blockOptions);\n}\nexport function makeHttpSource(url) {\n  var _ref5 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref5$headers = _ref5.headers,\n      headers = _ref5$headers === void 0 ? {} : _ref5$headers,\n      _ref5$maxRanges = _ref5.maxRanges,\n      maxRanges = _ref5$maxRanges === void 0 ? 0 : _ref5$maxRanges,\n      _ref5$allowFullFile = _ref5.allowFullFile,\n      allowFullFile = _ref5$allowFullFile === void 0 ? false : _ref5$allowFullFile,\n      blockOptions = _objectWithoutProperties(_ref5, _excluded3);\n\n  var client = new HttpClient(url);\n  var source = new RemoteSource(client, headers, maxRanges, allowFullFile);\n  return maybeWrapInBlockedSource(source, blockOptions);\n}\n/**\n *\n * @param {string} url\n * @param {object} options\n */\n\nexport function makeRemoteSource(url) {\n  var _ref6 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref6$forceXHR = _ref6.forceXHR,\n      forceXHR = _ref6$forceXHR === void 0 ? false : _ref6$forceXHR,\n      clientOptions = _objectWithoutProperties(_ref6, _excluded4);\n\n  if (typeof fetch === 'function' && !forceXHR) {\n    return makeFetchSource(url, clientOptions);\n  }\n\n  if (typeof XMLHttpRequest !== 'undefined') {\n    return makeXHRSource(url, clientOptions);\n  }\n\n  return makeHttpSource(url, clientOptions);\n}","import _asyncToGenerator from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/regenerator/index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { BaseSource } from './basesource.js';\n\nvar FileReaderSource = /*#__PURE__*/function (_BaseSource) {\n  _inherits(FileReaderSource, _BaseSource);\n\n  var _super = _createSuper(FileReaderSource);\n\n  function FileReaderSource(file) {\n    var _this;\n\n    _classCallCheck(this, FileReaderSource);\n\n    _this = _super.call(this);\n    _this.file = file;\n    return _this;\n  }\n\n  _createClass(FileReaderSource, [{\n    key: \"fetchSlice\",\n    value: function () {\n      var _fetchSlice = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(slice, signal) {\n        var _this2 = this;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", new Promise(function (resolve, reject) {\n                  var blob = _this2.file.slice(slice.offset, slice.offset + slice.length);\n\n                  var reader = new FileReader();\n\n                  reader.onload = function (event) {\n                    return resolve(event.target.result);\n                  };\n\n                  reader.onerror = reject;\n                  reader.onabort = reject;\n                  reader.readAsArrayBuffer(blob);\n\n                  if (signal) {\n                    signal.addEventListener('abort', function () {\n                      return reader.abort();\n                    });\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function fetchSlice(_x, _x2) {\n        return _fetchSlice.apply(this, arguments);\n      }\n\n      return fetchSlice;\n    }()\n  }]);\n\n  return FileReaderSource;\n}(BaseSource);\n/**\n * Create a new source from a given file/blob.\n * @param {Blob} file The file or blob to read from.\n * @returns The constructed source\n */\n\n\nexport function makeFileReaderSource(file) {\n  return new FileReaderSource(file);\n}","import _defineProperty from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _asyncToGenerator from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _inherits from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _wrapNativeSuper from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/regenerator/index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/** @module geotiff */\nimport GeoTIFFImage from './geotiffimage.js';\nimport DataView64 from './dataview64.js';\nimport DataSlice from './dataslice.js';\nimport Pool from './pool.js';\nimport { makeRemoteSource } from './source/remote.js';\nimport { makeBufferSource } from './source/arraybuffer.js';\nimport { makeFileReaderSource } from './source/filereader.js';\nimport { makeFileSource } from './source/file.js';\nimport { fieldTypes, fieldTagNames, arrayFields, geoKeyNames } from './globals.js';\nimport { writeGeotiff } from './geotiffwriter.js';\nimport * as globals from './globals.js';\nimport * as rgb from './rgb.js';\nimport { getDecoder, addDecoder } from './compression/index.js';\nimport { setLogger } from './logging.js';\nexport { globals };\nexport { rgb };\nexport { default as BaseDecoder } from './compression/basedecoder.js';\nexport { getDecoder, addDecoder };\nexport { setLogger };\n/**\n * @typedef {Uint8Array | Int8Array | Uint16Array | Int16Array | Uint32Array | Int32Array | Float32Array | Float64Array}\n * TypedArray\n */\n\nfunction getFieldTypeLength(fieldType) {\n  switch (fieldType) {\n    case fieldTypes.BYTE:\n    case fieldTypes.ASCII:\n    case fieldTypes.SBYTE:\n    case fieldTypes.UNDEFINED:\n      return 1;\n\n    case fieldTypes.SHORT:\n    case fieldTypes.SSHORT:\n      return 2;\n\n    case fieldTypes.LONG:\n    case fieldTypes.SLONG:\n    case fieldTypes.FLOAT:\n    case fieldTypes.IFD:\n      return 4;\n\n    case fieldTypes.RATIONAL:\n    case fieldTypes.SRATIONAL:\n    case fieldTypes.DOUBLE:\n    case fieldTypes.LONG8:\n    case fieldTypes.SLONG8:\n    case fieldTypes.IFD8:\n      return 8;\n\n    default:\n      throw new RangeError(\"Invalid field type: \".concat(fieldType));\n  }\n}\n\nfunction parseGeoKeyDirectory(fileDirectory) {\n  var rawGeoKeyDirectory = fileDirectory.GeoKeyDirectory;\n\n  if (!rawGeoKeyDirectory) {\n    return null;\n  }\n\n  var geoKeyDirectory = {};\n\n  for (var i = 4; i <= rawGeoKeyDirectory[3] * 4; i += 4) {\n    var key = geoKeyNames[rawGeoKeyDirectory[i]];\n    var location = rawGeoKeyDirectory[i + 1] ? fieldTagNames[rawGeoKeyDirectory[i + 1]] : null;\n    var count = rawGeoKeyDirectory[i + 2];\n    var offset = rawGeoKeyDirectory[i + 3];\n    var value = null;\n\n    if (!location) {\n      value = offset;\n    } else {\n      value = fileDirectory[location];\n\n      if (typeof value === 'undefined' || value === null) {\n        throw new Error(\"Could not get value of geoKey '\".concat(key, \"'.\"));\n      } else if (typeof value === 'string') {\n        value = value.substring(offset, offset + count - 1);\n      } else if (value.subarray) {\n        value = value.subarray(offset, offset + count);\n\n        if (count === 1) {\n          value = value[0];\n        }\n      }\n    }\n\n    geoKeyDirectory[key] = value;\n  }\n\n  return geoKeyDirectory;\n}\n\nfunction getValues(dataSlice, fieldType, count, offset) {\n  var values = null;\n  var readMethod = null;\n  var fieldTypeLength = getFieldTypeLength(fieldType);\n\n  switch (fieldType) {\n    case fieldTypes.BYTE:\n    case fieldTypes.ASCII:\n    case fieldTypes.UNDEFINED:\n      values = new Uint8Array(count);\n      readMethod = dataSlice.readUint8;\n      break;\n\n    case fieldTypes.SBYTE:\n      values = new Int8Array(count);\n      readMethod = dataSlice.readInt8;\n      break;\n\n    case fieldTypes.SHORT:\n      values = new Uint16Array(count);\n      readMethod = dataSlice.readUint16;\n      break;\n\n    case fieldTypes.SSHORT:\n      values = new Int16Array(count);\n      readMethod = dataSlice.readInt16;\n      break;\n\n    case fieldTypes.LONG:\n    case fieldTypes.IFD:\n      values = new Uint32Array(count);\n      readMethod = dataSlice.readUint32;\n      break;\n\n    case fieldTypes.SLONG:\n      values = new Int32Array(count);\n      readMethod = dataSlice.readInt32;\n      break;\n\n    case fieldTypes.LONG8:\n    case fieldTypes.IFD8:\n      values = new Array(count);\n      readMethod = dataSlice.readUint64;\n      break;\n\n    case fieldTypes.SLONG8:\n      values = new Array(count);\n      readMethod = dataSlice.readInt64;\n      break;\n\n    case fieldTypes.RATIONAL:\n      values = new Uint32Array(count * 2);\n      readMethod = dataSlice.readUint32;\n      break;\n\n    case fieldTypes.SRATIONAL:\n      values = new Int32Array(count * 2);\n      readMethod = dataSlice.readInt32;\n      break;\n\n    case fieldTypes.FLOAT:\n      values = new Float32Array(count);\n      readMethod = dataSlice.readFloat32;\n      break;\n\n    case fieldTypes.DOUBLE:\n      values = new Float64Array(count);\n      readMethod = dataSlice.readFloat64;\n      break;\n\n    default:\n      throw new RangeError(\"Invalid field type: \".concat(fieldType));\n  } // normal fields\n\n\n  if (!(fieldType === fieldTypes.RATIONAL || fieldType === fieldTypes.SRATIONAL)) {\n    for (var i = 0; i < count; ++i) {\n      values[i] = readMethod.call(dataSlice, offset + i * fieldTypeLength);\n    }\n  } else {\n    // RATIONAL or SRATIONAL\n    for (var _i = 0; _i < count; _i += 2) {\n      values[_i] = readMethod.call(dataSlice, offset + _i * fieldTypeLength);\n      values[_i + 1] = readMethod.call(dataSlice, offset + (_i * fieldTypeLength + 4));\n    }\n  }\n\n  if (fieldType === fieldTypes.ASCII) {\n    return new TextDecoder('utf-8').decode(values);\n  }\n\n  return values;\n}\n/**\n * Data class to store the parsed file directory, geo key directory and\n * offset to the next IFD\n */\n\n\nvar ImageFileDirectory = /*#__PURE__*/_createClass(function ImageFileDirectory(fileDirectory, geoKeyDirectory, nextIFDByteOffset) {\n  _classCallCheck(this, ImageFileDirectory);\n\n  this.fileDirectory = fileDirectory;\n  this.geoKeyDirectory = geoKeyDirectory;\n  this.nextIFDByteOffset = nextIFDByteOffset;\n});\n/**\n * Error class for cases when an IFD index was requested, that does not exist\n * in the file.\n */\n\n\nvar GeoTIFFImageIndexError = /*#__PURE__*/function (_Error) {\n  _inherits(GeoTIFFImageIndexError, _Error);\n\n  var _super = _createSuper(GeoTIFFImageIndexError);\n\n  function GeoTIFFImageIndexError(index) {\n    var _this;\n\n    _classCallCheck(this, GeoTIFFImageIndexError);\n\n    _this = _super.call(this, \"No image at index \".concat(index));\n    _this.index = index;\n    return _this;\n  }\n\n  return _createClass(GeoTIFFImageIndexError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar GeoTIFFBase = /*#__PURE__*/function () {\n  function GeoTIFFBase() {\n    _classCallCheck(this, GeoTIFFBase);\n  }\n\n  _createClass(GeoTIFFBase, [{\n    key: \"readRasters\",\n    value:\n    /**\n     * (experimental) Reads raster data from the best fitting image. This function uses\n     * the image with the lowest resolution that is still a higher resolution than the\n     * requested resolution.\n     * When specified, the `bbox` option is translated to the `window` option and the\n     * `resX` and `resY` to `width` and `height` respectively.\n     * Then, the [readRasters]{@link GeoTIFFImage#readRasters} method of the selected\n     * image is called and the result returned.\n     * @see GeoTIFFImage.readRasters\n     * @param {import('./geotiffimage').ReadRasterOptions} [options={}] optional parameters\n     * @returns {Promise<(TypedArray|TypedArray[])>} the decoded arrays as a promise\n     */\n    function () {\n      var _readRasters = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var options,\n            imageWindow,\n            width,\n            height,\n            resX,\n            resY,\n            bbox,\n            firstImage,\n            usedImage,\n            imageCount,\n            imgBBox,\n            _firstImage$getOrigin,\n            _firstImage$getOrigin2,\n            oX,\n            oY,\n            _firstImage$getResolu,\n            _firstImage$getResolu2,\n            rX,\n            rY,\n            usedBBox,\n            allImages,\n            i,\n            image,\n            _image$fileDirectory,\n            subfileType,\n            newSubfileType,\n            _i2,\n            _image,\n            imgResX,\n            imgResY,\n            wnd,\n            _firstImage$getOrigin3,\n            _firstImage$getOrigin4,\n            _oX,\n            _oY,\n            _usedImage$getResolut,\n            _usedImage$getResolut2,\n            imageResX,\n            imageResY,\n            _args = arguments;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                options = _args.length > 0 && _args[0] !== undefined ? _args[0] : {};\n                imageWindow = options.window, width = options.width, height = options.height;\n                resX = options.resX, resY = options.resY, bbox = options.bbox;\n                _context.next = 5;\n                return this.getImage();\n\n              case 5:\n                firstImage = _context.sent;\n                usedImage = firstImage;\n                _context.next = 9;\n                return this.getImageCount();\n\n              case 9:\n                imageCount = _context.sent;\n                imgBBox = firstImage.getBoundingBox();\n\n                if (!(imageWindow && bbox)) {\n                  _context.next = 13;\n                  break;\n                }\n\n                throw new Error('Both \"bbox\" and \"window\" passed.');\n\n              case 13:\n                if (!(width || height)) {\n                  _context.next = 24;\n                  break;\n                }\n\n                // if we have an image window (pixel coordinates), transform it to a BBox\n                // using the origin/resolution of the first image.\n                if (imageWindow) {\n                  _firstImage$getOrigin = firstImage.getOrigin(), _firstImage$getOrigin2 = _slicedToArray(_firstImage$getOrigin, 2), oX = _firstImage$getOrigin2[0], oY = _firstImage$getOrigin2[1];\n                  _firstImage$getResolu = firstImage.getResolution(), _firstImage$getResolu2 = _slicedToArray(_firstImage$getResolu, 2), rX = _firstImage$getResolu2[0], rY = _firstImage$getResolu2[1];\n                  bbox = [oX + imageWindow[0] * rX, oY + imageWindow[1] * rY, oX + imageWindow[2] * rX, oY + imageWindow[3] * rY];\n                } // if we have a bbox (or calculated one)\n\n\n                usedBBox = bbox || imgBBox;\n\n                if (!width) {\n                  _context.next = 20;\n                  break;\n                }\n\n                if (!resX) {\n                  _context.next = 19;\n                  break;\n                }\n\n                throw new Error('Both width and resX passed');\n\n              case 19:\n                resX = (usedBBox[2] - usedBBox[0]) / width;\n\n              case 20:\n                if (!height) {\n                  _context.next = 24;\n                  break;\n                }\n\n                if (!resY) {\n                  _context.next = 23;\n                  break;\n                }\n\n                throw new Error('Both width and resY passed');\n\n              case 23:\n                resY = (usedBBox[3] - usedBBox[1]) / height;\n\n              case 24:\n                if (!(resX || resY)) {\n                  _context.next = 48;\n                  break;\n                }\n\n                allImages = [];\n                i = 0;\n\n              case 27:\n                if (!(i < imageCount)) {\n                  _context.next = 36;\n                  break;\n                }\n\n                _context.next = 30;\n                return this.getImage(i);\n\n              case 30:\n                image = _context.sent;\n                _image$fileDirectory = image.fileDirectory, subfileType = _image$fileDirectory.SubfileType, newSubfileType = _image$fileDirectory.NewSubfileType;\n\n                if (i === 0 || subfileType === 2 || newSubfileType & 1) {\n                  allImages.push(image);\n                }\n\n              case 33:\n                ++i;\n                _context.next = 27;\n                break;\n\n              case 36:\n                allImages.sort(function (a, b) {\n                  return a.getWidth() - b.getWidth();\n                });\n                _i2 = 0;\n\n              case 38:\n                if (!(_i2 < allImages.length)) {\n                  _context.next = 48;\n                  break;\n                }\n\n                _image = allImages[_i2];\n                imgResX = (imgBBox[2] - imgBBox[0]) / _image.getWidth();\n                imgResY = (imgBBox[3] - imgBBox[1]) / _image.getHeight();\n                usedImage = _image;\n\n                if (!(resX && resX > imgResX || resY && resY > imgResY)) {\n                  _context.next = 45;\n                  break;\n                }\n\n                return _context.abrupt(\"break\", 48);\n\n              case 45:\n                ++_i2;\n                _context.next = 38;\n                break;\n\n              case 48:\n                wnd = imageWindow;\n\n                if (bbox) {\n                  _firstImage$getOrigin3 = firstImage.getOrigin(), _firstImage$getOrigin4 = _slicedToArray(_firstImage$getOrigin3, 2), _oX = _firstImage$getOrigin4[0], _oY = _firstImage$getOrigin4[1];\n                  _usedImage$getResolut = usedImage.getResolution(firstImage), _usedImage$getResolut2 = _slicedToArray(_usedImage$getResolut, 2), imageResX = _usedImage$getResolut2[0], imageResY = _usedImage$getResolut2[1];\n                  wnd = [Math.round((bbox[0] - _oX) / imageResX), Math.round((bbox[1] - _oY) / imageResY), Math.round((bbox[2] - _oX) / imageResX), Math.round((bbox[3] - _oY) / imageResY)];\n                  wnd = [Math.min(wnd[0], wnd[2]), Math.min(wnd[1], wnd[3]), Math.max(wnd[0], wnd[2]), Math.max(wnd[1], wnd[3])];\n                }\n\n                return _context.abrupt(\"return\", usedImage.readRasters(_objectSpread(_objectSpread({}, options), {}, {\n                  window: wnd\n                })));\n\n              case 51:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function readRasters() {\n        return _readRasters.apply(this, arguments);\n      }\n\n      return readRasters;\n    }()\n  }]);\n\n  return GeoTIFFBase;\n}();\n/**\n * @typedef {Object} GeoTIFFOptions\n * @property {boolean} [cache=false] whether or not decoded tiles shall be cached.\n */\n\n/**\n * The abstraction for a whole GeoTIFF file.\n * @augments GeoTIFFBase\n */\n\n\nvar GeoTIFF = /*#__PURE__*/function (_GeoTIFFBase) {\n  _inherits(GeoTIFF, _GeoTIFFBase);\n\n  var _super2 = _createSuper(GeoTIFF);\n\n  /**\n   * @constructor\n   * @param {*} source The datasource to read from.\n   * @param {boolean} littleEndian Whether the image uses little endian.\n   * @param {boolean} bigTiff Whether the image uses bigTIFF conventions.\n   * @param {number} firstIFDOffset The numeric byte-offset from the start of the image\n   *                                to the first IFD.\n   * @param {GeoTIFFOptions} [options] further options.\n   */\n  function GeoTIFF(source, littleEndian, bigTiff, firstIFDOffset) {\n    var _this2;\n\n    var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n\n    _classCallCheck(this, GeoTIFF);\n\n    _this2 = _super2.call(this);\n    _this2.source = source;\n    _this2.littleEndian = littleEndian;\n    _this2.bigTiff = bigTiff;\n    _this2.firstIFDOffset = firstIFDOffset;\n    _this2.cache = options.cache || false;\n    _this2.ifdRequests = [];\n    _this2.ghostValues = null;\n    return _this2;\n  }\n\n  _createClass(GeoTIFF, [{\n    key: \"getSlice\",\n    value: function () {\n      var _getSlice = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(offset, size) {\n        var fallbackSize;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                fallbackSize = this.bigTiff ? 4048 : 1024;\n                _context2.t0 = DataSlice;\n                _context2.next = 4;\n                return this.source.fetch([{\n                  offset: offset,\n                  length: typeof size !== 'undefined' ? size : fallbackSize\n                }]);\n\n              case 4:\n                _context2.t1 = _context2.sent[0];\n                _context2.t2 = offset;\n                _context2.t3 = this.littleEndian;\n                _context2.t4 = this.bigTiff;\n                return _context2.abrupt(\"return\", new _context2.t0(_context2.t1, _context2.t2, _context2.t3, _context2.t4));\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getSlice(_x, _x2) {\n        return _getSlice.apply(this, arguments);\n      }\n\n      return getSlice;\n    }()\n    /**\n     * Instructs to parse an image file directory at the given file offset.\n     * As there is no way to ensure that a location is indeed the start of an IFD,\n     * this function must be called with caution (e.g only using the IFD offsets from\n     * the headers or other IFDs).\n     * @param {number} offset the offset to parse the IFD at\n     * @returns {Promise<ImageFileDirectory>} the parsed IFD\n     */\n\n  }, {\n    key: \"parseFileDirectoryAt\",\n    value: function () {\n      var _parseFileDirectoryAt = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(offset) {\n        var entrySize, offsetSize, dataSlice, numDirEntries, byteSize, fileDirectory, i, entryCount, fieldTag, fieldType, typeCount, fieldValues, value, fieldTypeLength, valueOffset, actualOffset, length, fieldDataSlice, geoKeyDirectory, nextIFDByteOffset;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                entrySize = this.bigTiff ? 20 : 12;\n                offsetSize = this.bigTiff ? 8 : 2;\n                _context3.next = 4;\n                return this.getSlice(offset);\n\n              case 4:\n                dataSlice = _context3.sent;\n                numDirEntries = this.bigTiff ? dataSlice.readUint64(offset) : dataSlice.readUint16(offset); // if the slice does not cover the whole IFD, request a bigger slice, where the\n                // whole IFD fits: num of entries + n x tag length + offset to next IFD\n\n                byteSize = numDirEntries * entrySize + (this.bigTiff ? 16 : 6);\n\n                if (dataSlice.covers(offset, byteSize)) {\n                  _context3.next = 11;\n                  break;\n                }\n\n                _context3.next = 10;\n                return this.getSlice(offset, byteSize);\n\n              case 10:\n                dataSlice = _context3.sent;\n\n              case 11:\n                fileDirectory = {}; // loop over the IFD and create a file directory object\n\n                i = offset + (this.bigTiff ? 8 : 2);\n                entryCount = 0;\n\n              case 14:\n                if (!(entryCount < numDirEntries)) {\n                  _context3.next = 41;\n                  break;\n                }\n\n                fieldTag = dataSlice.readUint16(i);\n                fieldType = dataSlice.readUint16(i + 2);\n                typeCount = this.bigTiff ? dataSlice.readUint64(i + 4) : dataSlice.readUint32(i + 4);\n                fieldValues = void 0;\n                value = void 0;\n                fieldTypeLength = getFieldTypeLength(fieldType);\n                valueOffset = i + (this.bigTiff ? 12 : 8); // check whether the value is directly encoded in the tag or refers to a\n                // different external byte range\n\n                if (!(fieldTypeLength * typeCount <= (this.bigTiff ? 8 : 4))) {\n                  _context3.next = 26;\n                  break;\n                }\n\n                fieldValues = getValues(dataSlice, fieldType, typeCount, valueOffset);\n                _context3.next = 36;\n                break;\n\n              case 26:\n                // resolve the reference to the actual byte range\n                actualOffset = dataSlice.readOffset(valueOffset);\n                length = getFieldTypeLength(fieldType) * typeCount; // check, whether we actually cover the referenced byte range; if not,\n                // request a new slice of bytes to read from it\n\n                if (!dataSlice.covers(actualOffset, length)) {\n                  _context3.next = 32;\n                  break;\n                }\n\n                fieldValues = getValues(dataSlice, fieldType, typeCount, actualOffset);\n                _context3.next = 36;\n                break;\n\n              case 32:\n                _context3.next = 34;\n                return this.getSlice(actualOffset, length);\n\n              case 34:\n                fieldDataSlice = _context3.sent;\n                fieldValues = getValues(fieldDataSlice, fieldType, typeCount, actualOffset);\n\n              case 36:\n                // unpack single values from the array\n                if (typeCount === 1 && arrayFields.indexOf(fieldTag) === -1 && !(fieldType === fieldTypes.RATIONAL || fieldType === fieldTypes.SRATIONAL)) {\n                  value = fieldValues[0];\n                } else {\n                  value = fieldValues;\n                } // write the tags value to the file directly\n\n\n                fileDirectory[fieldTagNames[fieldTag]] = value;\n\n              case 38:\n                i += entrySize, ++entryCount;\n                _context3.next = 14;\n                break;\n\n              case 41:\n                geoKeyDirectory = parseGeoKeyDirectory(fileDirectory);\n                nextIFDByteOffset = dataSlice.readOffset(offset + offsetSize + entrySize * numDirEntries);\n                return _context3.abrupt(\"return\", new ImageFileDirectory(fileDirectory, geoKeyDirectory, nextIFDByteOffset));\n\n              case 44:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function parseFileDirectoryAt(_x3) {\n        return _parseFileDirectoryAt.apply(this, arguments);\n      }\n\n      return parseFileDirectoryAt;\n    }()\n  }, {\n    key: \"requestIFD\",\n    value: function () {\n      var _requestIFD = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(index) {\n        var _this3 = this;\n\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (!this.ifdRequests[index]) {\n                  _context5.next = 4;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\", this.ifdRequests[index]);\n\n              case 4:\n                if (!(index === 0)) {\n                  _context5.next = 9;\n                  break;\n                }\n\n                // special case for index 0\n                this.ifdRequests[index] = this.parseFileDirectoryAt(this.firstIFDOffset);\n                return _context5.abrupt(\"return\", this.ifdRequests[index]);\n\n              case 9:\n                if (this.ifdRequests[index - 1]) {\n                  _context5.next = 19;\n                  break;\n                }\n\n                _context5.prev = 10;\n                this.ifdRequests[index - 1] = this.requestIFD(index - 1);\n                _context5.next = 19;\n                break;\n\n              case 14:\n                _context5.prev = 14;\n                _context5.t0 = _context5[\"catch\"](10);\n\n                if (!(_context5.t0 instanceof GeoTIFFImageIndexError)) {\n                  _context5.next = 18;\n                  break;\n                }\n\n                throw new GeoTIFFImageIndexError(index);\n\n              case 18:\n                throw _context5.t0;\n\n              case 19:\n                // if the previous IFD was loaded, we can finally fetch the one we are interested in.\n                // we need to wrap this in an IIFE, otherwise this.ifdRequests[index] would be delayed\n                this.ifdRequests[index] = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n                  var previousIfd;\n                  return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n                    while (1) {\n                      switch (_context4.prev = _context4.next) {\n                        case 0:\n                          _context4.next = 2;\n                          return _this3.ifdRequests[index - 1];\n\n                        case 2:\n                          previousIfd = _context4.sent;\n\n                          if (!(previousIfd.nextIFDByteOffset === 0)) {\n                            _context4.next = 5;\n                            break;\n                          }\n\n                          throw new GeoTIFFImageIndexError(index);\n\n                        case 5:\n                          return _context4.abrupt(\"return\", _this3.parseFileDirectoryAt(previousIfd.nextIFDByteOffset));\n\n                        case 6:\n                        case \"end\":\n                          return _context4.stop();\n                      }\n                    }\n                  }, _callee4);\n                }))();\n                return _context5.abrupt(\"return\", this.ifdRequests[index]);\n\n              case 21:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[10, 14]]);\n      }));\n\n      function requestIFD(_x4) {\n        return _requestIFD.apply(this, arguments);\n      }\n\n      return requestIFD;\n    }()\n    /**\n     * Get the n-th internal subfile of an image. By default, the first is returned.\n     *\n     * @param {number} [index=0] the index of the image to return.\n     * @returns {Promise<GeoTIFFImage>} the image at the given index\n     */\n\n  }, {\n    key: \"getImage\",\n    value: function () {\n      var _getImage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n        var index,\n            ifd,\n            _args6 = arguments;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                index = _args6.length > 0 && _args6[0] !== undefined ? _args6[0] : 0;\n                _context6.next = 3;\n                return this.requestIFD(index);\n\n              case 3:\n                ifd = _context6.sent;\n                return _context6.abrupt(\"return\", new GeoTIFFImage(ifd.fileDirectory, ifd.geoKeyDirectory, this.dataView, this.littleEndian, this.cache, this.source));\n\n              case 5:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function getImage() {\n        return _getImage.apply(this, arguments);\n      }\n\n      return getImage;\n    }()\n    /**\n     * Returns the count of the internal subfiles.\n     *\n     * @returns {Promise<number>} the number of internal subfile images\n     */\n\n  }, {\n    key: \"getImageCount\",\n    value: function () {\n      var _getImageCount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n        var index, hasNext;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                index = 0; // loop until we run out of IFDs\n\n                hasNext = true;\n\n              case 2:\n                if (!hasNext) {\n                  _context7.next = 18;\n                  break;\n                }\n\n                _context7.prev = 3;\n                _context7.next = 6;\n                return this.requestIFD(index);\n\n              case 6:\n                ++index;\n                _context7.next = 16;\n                break;\n\n              case 9:\n                _context7.prev = 9;\n                _context7.t0 = _context7[\"catch\"](3);\n\n                if (!(_context7.t0 instanceof GeoTIFFImageIndexError)) {\n                  _context7.next = 15;\n                  break;\n                }\n\n                hasNext = false;\n                _context7.next = 16;\n                break;\n\n              case 15:\n                throw _context7.t0;\n\n              case 16:\n                _context7.next = 2;\n                break;\n\n              case 18:\n                return _context7.abrupt(\"return\", index);\n\n              case 19:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this, [[3, 9]]);\n      }));\n\n      function getImageCount() {\n        return _getImageCount.apply(this, arguments);\n      }\n\n      return getImageCount;\n    }()\n    /**\n     * Get the values of the COG ghost area as a parsed map.\n     * See https://gdal.org/drivers/raster/cog.html#header-ghost-area for reference\n     * @returns {Promise<Object>} the parsed ghost area or null, if no such area was found\n     */\n\n  }, {\n    key: \"getGhostValues\",\n    value: function () {\n      var _getGhostValues = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8() {\n        var _this4 = this;\n\n        var offset, detectionString, heuristicAreaSize, slice, valuesString, firstLine, metadataSize, fullString;\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                offset = this.bigTiff ? 16 : 8;\n\n                if (!this.ghostValues) {\n                  _context8.next = 3;\n                  break;\n                }\n\n                return _context8.abrupt(\"return\", this.ghostValues);\n\n              case 3:\n                detectionString = 'GDAL_STRUCTURAL_METADATA_SIZE=';\n                heuristicAreaSize = detectionString.length + 100;\n                _context8.next = 7;\n                return this.getSlice(offset, heuristicAreaSize);\n\n              case 7:\n                slice = _context8.sent;\n\n                if (!(detectionString === getValues(slice, fieldTypes.ASCII, detectionString.length, offset))) {\n                  _context8.next = 19;\n                  break;\n                }\n\n                valuesString = getValues(slice, fieldTypes.ASCII, heuristicAreaSize, offset);\n                firstLine = valuesString.split('\\n')[0];\n                metadataSize = Number(firstLine.split('=')[1].split(' ')[0]) + firstLine.length;\n\n                if (!(metadataSize > heuristicAreaSize)) {\n                  _context8.next = 16;\n                  break;\n                }\n\n                _context8.next = 15;\n                return this.getSlice(offset, metadataSize);\n\n              case 15:\n                slice = _context8.sent;\n\n              case 16:\n                fullString = getValues(slice, fieldTypes.ASCII, metadataSize, offset);\n                this.ghostValues = {};\n                fullString.split('\\n').filter(function (line) {\n                  return line.length > 0;\n                }).map(function (line) {\n                  return line.split('=');\n                }).forEach(function (_ref2) {\n                  var _ref3 = _slicedToArray(_ref2, 2),\n                      key = _ref3[0],\n                      value = _ref3[1];\n\n                  _this4.ghostValues[key] = value;\n                });\n\n              case 19:\n                return _context8.abrupt(\"return\", this.ghostValues);\n\n              case 20:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function getGhostValues() {\n        return _getGhostValues.apply(this, arguments);\n      }\n\n      return getGhostValues;\n    }()\n    /**\n     * Parse a (Geo)TIFF file from the given source.\n     *\n     * @param {*} source The source of data to parse from.\n     * @param {GeoTIFFOptions} [options] Additional options.\n     * @param {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\n     *                               to be aborted\n     */\n\n  }, {\n    key: \"close\",\n    value:\n    /**\n     * Closes the underlying file buffer\n     * N.B. After the GeoTIFF has been completely processed it needs\n     * to be closed but only if it has been constructed from a file.\n     */\n    function close() {\n      if (typeof this.source.close === 'function') {\n        return this.source.close();\n      }\n\n      return false;\n    }\n  }], [{\n    key: \"fromSource\",\n    value: function () {\n      var _fromSource = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(source, options, signal) {\n        var headerData, dataView, BOM, littleEndian, magicNumber, bigTiff, offsetByteSize, firstIFDOffset;\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.next = 2;\n                return source.fetch([{\n                  offset: 0,\n                  length: 1024\n                }], signal);\n\n              case 2:\n                headerData = _context9.sent[0];\n                dataView = new DataView64(headerData);\n                BOM = dataView.getUint16(0, 0);\n\n                if (!(BOM === 0x4949)) {\n                  _context9.next = 9;\n                  break;\n                }\n\n                littleEndian = true;\n                _context9.next = 14;\n                break;\n\n              case 9:\n                if (!(BOM === 0x4D4D)) {\n                  _context9.next = 13;\n                  break;\n                }\n\n                littleEndian = false;\n                _context9.next = 14;\n                break;\n\n              case 13:\n                throw new TypeError('Invalid byte order value.');\n\n              case 14:\n                magicNumber = dataView.getUint16(2, littleEndian);\n\n                if (!(magicNumber === 42)) {\n                  _context9.next = 19;\n                  break;\n                }\n\n                bigTiff = false;\n                _context9.next = 27;\n                break;\n\n              case 19:\n                if (!(magicNumber === 43)) {\n                  _context9.next = 26;\n                  break;\n                }\n\n                bigTiff = true;\n                offsetByteSize = dataView.getUint16(4, littleEndian);\n\n                if (!(offsetByteSize !== 8)) {\n                  _context9.next = 24;\n                  break;\n                }\n\n                throw new Error('Unsupported offset byte-size.');\n\n              case 24:\n                _context9.next = 27;\n                break;\n\n              case 26:\n                throw new TypeError('Invalid magic number.');\n\n              case 27:\n                firstIFDOffset = bigTiff ? dataView.getUint64(8, littleEndian) : dataView.getUint32(4, littleEndian);\n                return _context9.abrupt(\"return\", new GeoTIFF(source, littleEndian, bigTiff, firstIFDOffset, options));\n\n              case 29:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9);\n      }));\n\n      function fromSource(_x5, _x6, _x7) {\n        return _fromSource.apply(this, arguments);\n      }\n\n      return fromSource;\n    }()\n  }]);\n\n  return GeoTIFF;\n}(GeoTIFFBase);\n\nexport { GeoTIFF };\nexport default GeoTIFF;\n/**\n * Wrapper for GeoTIFF files that have external overviews.\n * @augments GeoTIFFBase\n */\n\nvar MultiGeoTIFF = /*#__PURE__*/function (_GeoTIFFBase2) {\n  _inherits(MultiGeoTIFF, _GeoTIFFBase2);\n\n  var _super3 = _createSuper(MultiGeoTIFF);\n\n  /**\n   * Construct a new MultiGeoTIFF from a main and several overview files.\n   * @param {GeoTIFF} mainFile The main GeoTIFF file.\n   * @param {GeoTIFF[]} overviewFiles An array of overview files.\n   */\n  function MultiGeoTIFF(mainFile, overviewFiles) {\n    var _this5;\n\n    _classCallCheck(this, MultiGeoTIFF);\n\n    _this5 = _super3.call(this);\n    _this5.mainFile = mainFile;\n    _this5.overviewFiles = overviewFiles;\n    _this5.imageFiles = [mainFile].concat(overviewFiles);\n    _this5.fileDirectoriesPerFile = null;\n    _this5.fileDirectoriesPerFileParsing = null;\n    _this5.imageCount = null;\n    return _this5;\n  }\n\n  _createClass(MultiGeoTIFF, [{\n    key: \"parseFileDirectoriesPerFile\",\n    value: function () {\n      var _parseFileDirectoriesPerFile = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10() {\n        var requests;\n        return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                requests = [this.mainFile.parseFileDirectoryAt(this.mainFile.firstIFDOffset)].concat(this.overviewFiles.map(function (file) {\n                  return file.parseFileDirectoryAt(file.firstIFDOffset);\n                }));\n                _context10.next = 3;\n                return Promise.all(requests);\n\n              case 3:\n                this.fileDirectoriesPerFile = _context10.sent;\n                return _context10.abrupt(\"return\", this.fileDirectoriesPerFile);\n\n              case 5:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function parseFileDirectoriesPerFile() {\n        return _parseFileDirectoriesPerFile.apply(this, arguments);\n      }\n\n      return parseFileDirectoriesPerFile;\n    }()\n    /**\n     * Get the n-th internal subfile of an image. By default, the first is returned.\n     *\n     * @param {number} [index=0] the index of the image to return.\n     * @returns {Promise<GeoTIFFImage>} the image at the given index\n     */\n\n  }, {\n    key: \"getImage\",\n    value: function () {\n      var _getImage2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11() {\n        var index,\n            visited,\n            relativeIndex,\n            i,\n            imageFile,\n            ii,\n            ifd,\n            _args11 = arguments;\n        return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                index = _args11.length > 0 && _args11[0] !== undefined ? _args11[0] : 0;\n                _context11.next = 3;\n                return this.getImageCount();\n\n              case 3:\n                _context11.next = 5;\n                return this.parseFileDirectoriesPerFile();\n\n              case 5:\n                visited = 0;\n                relativeIndex = 0;\n                i = 0;\n\n              case 8:\n                if (!(i < this.imageFiles.length)) {\n                  _context11.next = 26;\n                  break;\n                }\n\n                imageFile = this.imageFiles[i];\n                ii = 0;\n\n              case 11:\n                if (!(ii < this.imageCounts[i])) {\n                  _context11.next = 22;\n                  break;\n                }\n\n                if (!(index === visited)) {\n                  _context11.next = 17;\n                  break;\n                }\n\n                _context11.next = 15;\n                return imageFile.requestIFD(relativeIndex);\n\n              case 15:\n                ifd = _context11.sent;\n                return _context11.abrupt(\"return\", new GeoTIFFImage(ifd.fileDirectory, ifd.geoKeyDirectory, imageFile.dataView, imageFile.littleEndian, imageFile.cache, imageFile.source));\n\n              case 17:\n                visited++;\n                relativeIndex++;\n\n              case 19:\n                ii++;\n                _context11.next = 11;\n                break;\n\n              case 22:\n                relativeIndex = 0;\n\n              case 23:\n                i++;\n                _context11.next = 8;\n                break;\n\n              case 26:\n                throw new RangeError('Invalid image index');\n\n              case 27:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n\n      function getImage() {\n        return _getImage2.apply(this, arguments);\n      }\n\n      return getImage;\n    }()\n    /**\n     * Returns the count of the internal subfiles.\n     *\n     * @returns {Promise<number>} the number of internal subfile images\n     */\n\n  }, {\n    key: \"getImageCount\",\n    value: function () {\n      var _getImageCount2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12() {\n        var requests;\n        return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                if (!(this.imageCount !== null)) {\n                  _context12.next = 2;\n                  break;\n                }\n\n                return _context12.abrupt(\"return\", this.imageCount);\n\n              case 2:\n                requests = [this.mainFile.getImageCount()].concat(this.overviewFiles.map(function (file) {\n                  return file.getImageCount();\n                }));\n                _context12.next = 5;\n                return Promise.all(requests);\n\n              case 5:\n                this.imageCounts = _context12.sent;\n                this.imageCount = this.imageCounts.reduce(function (count, ifds) {\n                  return count + ifds;\n                }, 0);\n                return _context12.abrupt(\"return\", this.imageCount);\n\n              case 8:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n\n      function getImageCount() {\n        return _getImageCount2.apply(this, arguments);\n      }\n\n      return getImageCount;\n    }()\n  }]);\n\n  return MultiGeoTIFF;\n}(GeoTIFFBase);\n\nexport { MultiGeoTIFF };\n/**\n * Creates a new GeoTIFF from a remote URL.\n * @param {string} url The URL to access the image from\n * @param {object} [options] Additional options to pass to the source.\n *                           See {@link makeRemoteSource} for details.\n * @param {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\n *                               to be aborted\n * @returns {Promise<GeoTIFF>} The resulting GeoTIFF file.\n */\n\nexport function fromUrl(_x8) {\n  return _fromUrl.apply(this, arguments);\n}\n/**\n * Construct a new GeoTIFF from an\n * [ArrayBuffer]{@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer}.\n * @param {ArrayBuffer} arrayBuffer The data to read the file from.\n * @param {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\n *                               to be aborted\n * @returns {Promise<GeoTIFF>} The resulting GeoTIFF file.\n */\n\nfunction _fromUrl() {\n  _fromUrl = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee13(url) {\n    var options,\n        signal,\n        _args13 = arguments;\n    return _regeneratorRuntime.wrap(function _callee13$(_context13) {\n      while (1) {\n        switch (_context13.prev = _context13.next) {\n          case 0:\n            options = _args13.length > 1 && _args13[1] !== undefined ? _args13[1] : {};\n            signal = _args13.length > 2 ? _args13[2] : undefined;\n            return _context13.abrupt(\"return\", GeoTIFF.fromSource(makeRemoteSource(url, options), signal));\n\n          case 3:\n          case \"end\":\n            return _context13.stop();\n        }\n      }\n    }, _callee13);\n  }));\n  return _fromUrl.apply(this, arguments);\n}\n\nexport function fromArrayBuffer(_x9, _x10) {\n  return _fromArrayBuffer.apply(this, arguments);\n}\n/**\n * Construct a GeoTIFF from a local file path. This uses the node\n * [filesystem API]{@link https://nodejs.org/api/fs.html} and is\n * not available on browsers.\n *\n * N.B. After the GeoTIFF has been completely processed it needs\n * to be closed but only if it has been constructed from a file.\n * @param {string} path The file path to read from.\n * @param {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\n *                               to be aborted\n * @returns {Promise<GeoTIFF>} The resulting GeoTIFF file.\n */\n\nfunction _fromArrayBuffer() {\n  _fromArrayBuffer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee14(arrayBuffer, signal) {\n    return _regeneratorRuntime.wrap(function _callee14$(_context14) {\n      while (1) {\n        switch (_context14.prev = _context14.next) {\n          case 0:\n            return _context14.abrupt(\"return\", GeoTIFF.fromSource(makeBufferSource(arrayBuffer), signal));\n\n          case 1:\n          case \"end\":\n            return _context14.stop();\n        }\n      }\n    }, _callee14);\n  }));\n  return _fromArrayBuffer.apply(this, arguments);\n}\n\nexport function fromFile(_x11, _x12) {\n  return _fromFile.apply(this, arguments);\n}\n/**\n * Construct a GeoTIFF from an HTML\n * [Blob]{@link https://developer.mozilla.org/en-US/docs/Web/API/Blob} or\n * [File]{@link https://developer.mozilla.org/en-US/docs/Web/API/File}\n * object.\n * @param {Blob|File} blob The Blob or File object to read from.\n * @param {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\n *                               to be aborted\n * @returns {Promise<GeoTIFF>} The resulting GeoTIFF file.\n */\n\nfunction _fromFile() {\n  _fromFile = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee15(path, signal) {\n    return _regeneratorRuntime.wrap(function _callee15$(_context15) {\n      while (1) {\n        switch (_context15.prev = _context15.next) {\n          case 0:\n            return _context15.abrupt(\"return\", GeoTIFF.fromSource(makeFileSource(path), signal));\n\n          case 1:\n          case \"end\":\n            return _context15.stop();\n        }\n      }\n    }, _callee15);\n  }));\n  return _fromFile.apply(this, arguments);\n}\n\nexport function fromBlob(_x13, _x14) {\n  return _fromBlob.apply(this, arguments);\n}\n/**\n * Construct a MultiGeoTIFF from the given URLs.\n * @param {string} mainUrl The URL for the main file.\n * @param {string[]} overviewUrls An array of URLs for the overview images.\n * @param {Object} [options] Additional options to pass to the source.\n *                           See [makeRemoteSource]{@link module:source.makeRemoteSource}\n *                           for details.\n * @param {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\n *                               to be aborted\n * @returns {Promise<MultiGeoTIFF>} The resulting MultiGeoTIFF file.\n */\n\nfunction _fromBlob() {\n  _fromBlob = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee16(blob, signal) {\n    return _regeneratorRuntime.wrap(function _callee16$(_context16) {\n      while (1) {\n        switch (_context16.prev = _context16.next) {\n          case 0:\n            return _context16.abrupt(\"return\", GeoTIFF.fromSource(makeFileReaderSource(blob), signal));\n\n          case 1:\n          case \"end\":\n            return _context16.stop();\n        }\n      }\n    }, _callee16);\n  }));\n  return _fromBlob.apply(this, arguments);\n}\n\nexport function fromUrls(_x15) {\n  return _fromUrls.apply(this, arguments);\n}\n/**\n * Main creating function for GeoTIFF files.\n * @param {(Array)} array of pixel values\n * @returns {metadata} metadata\n */\n\nfunction _fromUrls() {\n  _fromUrls = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee17(mainUrl) {\n    var overviewUrls,\n        options,\n        signal,\n        mainFile,\n        overviewFiles,\n        _args17 = arguments;\n    return _regeneratorRuntime.wrap(function _callee17$(_context17) {\n      while (1) {\n        switch (_context17.prev = _context17.next) {\n          case 0:\n            overviewUrls = _args17.length > 1 && _args17[1] !== undefined ? _args17[1] : [];\n            options = _args17.length > 2 && _args17[2] !== undefined ? _args17[2] : {};\n            signal = _args17.length > 3 ? _args17[3] : undefined;\n            _context17.next = 5;\n            return GeoTIFF.fromSource(makeRemoteSource(mainUrl, options), signal);\n\n          case 5:\n            mainFile = _context17.sent;\n            _context17.next = 8;\n            return Promise.all(overviewUrls.map(function (url) {\n              return GeoTIFF.fromSource(makeRemoteSource(url, options));\n            }));\n\n          case 8:\n            overviewFiles = _context17.sent;\n            return _context17.abrupt(\"return\", new MultiGeoTIFF(mainFile, overviewFiles));\n\n          case 10:\n          case \"end\":\n            return _context17.stop();\n        }\n      }\n    }, _callee17);\n  }));\n  return _fromUrls.apply(this, arguments);\n}\n\nexport function writeArrayBuffer(values, metadata) {\n  return writeGeotiff(values, metadata);\n}\nexport { Pool };\nexport { GeoTIFFImage };","import _asyncToGenerator from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/exmap/node_modules/@babel/runtime/regenerator/index.js\";\nimport { getDecoder } from './compression/index.js';\nvar defaultPoolSize = typeof navigator !== 'undefined' ? navigator.hardwareConcurrency || 2 : 2;\n/**\n * @module pool\n */\n\n/**\n * Pool for workers to decode chunks of the images.\n */\n\nvar Pool = /*#__PURE__*/function () {\n  /**\n   * @constructor\n   * @param {Number} [size] The size of the pool. Defaults to the number of CPUs\n   *                      available. When this parameter is `null` or 0, then the\n   *                      decoding will be done in the main thread.\n   * @param {function(): Worker} [createWorker] A function that creates the decoder worker.\n   * Defaults to a worker with all decoders that ship with geotiff.js. The `createWorker()`\n   * function is expected to return a `Worker` compatible with Web Workers. For code that\n   * runs in Node, [web-worker](https://www.npmjs.com/package/web-worker) is a good choice.\n   *\n   * A worker that uses a custom lzw decoder would look like this `my-custom-worker.js` file:\n   * ```js\n   * import { addDecoder, getDecoder } from 'geotiff';\n   * addDecoder(5, () => import ('./my-custom-lzw').then((m) => m.default));\n   * self.addEventListener('message', async (e) => {\n   *   const { id, fileDirectory, buffer } = e.data;\n   *   const decoder = await getDecoder(fileDirectory);\n   *   const decoded = await decoder.decode(fileDirectory, buffer);\n   *   self.postMessage({ decoded, id }, [decoded]);\n   * });\n   * ```\n   * The way the above code is built into a worker by the `createWorker()` function\n   * depends on the used bundler. For most bundlers, something like this will work:\n   * ```js\n   * function createWorker() {\n   *   return new Worker(new URL('./my-custom-worker.js', import.meta.url));\n   * }\n   * ```\n   */\n  function Pool() {\n    var _this = this;\n\n    var size = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultPoolSize;\n    var createWorker = arguments.length > 1 ? arguments[1] : undefined;\n\n    _classCallCheck(this, Pool);\n\n    this.workers = null;\n    this._awaitingDecoder = null;\n    this.size = size;\n    this.messageId = 0;\n\n    if (size) {\n      this._awaitingDecoder = createWorker ? Promise.resolve(createWorker) : new Promise(function (resolve) {\n        import('./worker/decoder.js').then(function (module) {\n          resolve(module.create);\n        });\n      });\n\n      this._awaitingDecoder.then(function (create) {\n        _this._awaitingDecoder = null;\n        _this.workers = [];\n\n        for (var i = 0; i < size; i++) {\n          _this.workers.push({\n            worker: create(),\n            idle: true\n          });\n        }\n      });\n    }\n  }\n  /**\n   * Decode the given block of bytes with the set compression method.\n   * @param {ArrayBuffer} buffer the array buffer of bytes to decode.\n   * @returns {Promise<ArrayBuffer>} the decoded result as a `Promise`\n   */\n\n\n  _createClass(Pool, [{\n    key: \"decode\",\n    value: function () {\n      var _decode = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(fileDirectory, buffer) {\n        var _this2 = this;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!this._awaitingDecoder) {\n                  _context.next = 3;\n                  break;\n                }\n\n                _context.next = 3;\n                return this._awaitingDecoder;\n\n              case 3:\n                return _context.abrupt(\"return\", this.size === 0 ? getDecoder(fileDirectory).then(function (decoder) {\n                  return decoder.decode(fileDirectory, buffer);\n                }) : new Promise(function (resolve) {\n                  var worker = _this2.workers.find(function (candidate) {\n                    return candidate.idle;\n                  }) || _this2.workers[Math.floor(Math.random() * _this2.size)];\n\n                  worker.idle = false;\n                  var id = _this2.messageId++;\n\n                  var onMessage = function onMessage(e) {\n                    if (e.data.id === id) {\n                      worker.idle = true;\n                      resolve(e.data.decoded);\n                      worker.worker.removeEventListener('message', onMessage);\n                    }\n                  };\n\n                  worker.worker.addEventListener('message', onMessage);\n                  worker.worker.postMessage({\n                    fileDirectory: fileDirectory,\n                    buffer: buffer,\n                    id: id\n                  }, [buffer]);\n                }));\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function decode(_x, _x2) {\n        return _decode.apply(this, arguments);\n      }\n\n      return decode;\n    }()\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.workers) {\n        this.workers.forEach(function (worker) {\n          worker.worker.terminate();\n        });\n        this.workers = null;\n      }\n    }\n  }]);\n\n  return Pool;\n}();\n\nexport default Pool;","import { fromUrl, fromBlob, GeoTIFF, Pool, TypedArray } from \"geotiff\";\nimport colormap from \"colormap\";\n\nlet pool: Pool | null = null;\nconst getPool = () => {\n    if (!pool) pool = new Pool();\n    return pool;\n}\n\nexport interface Source {\n    bands: number[]; // 1-based\n    fileIndex: number;\n    window?: number[];\n    width?: number;\n    height?: number;\n    nodata?: number;\n    resampleMethod?: string;\n}\n\nexport interface RasterProps {\n    sources: Source[];\n}\n\nexport interface RasterValue {\n    data: TypedArray[];\n    width: number,\n    height: number,\n    nodata: number,\n}\n\nexport interface RenderProps {\n    mode: \"rgb\" | \"single\" | \"ndi\";\n    sources: Source[];\n    bands?: {\n        order: number; // 1-based\n        min?: number;\n        max?: number;\n    }[];\n    alpha?: boolean;\n    cmap?: string;\n}\n\nconst clamp = (value: number, min: number, max: number): number => {\n    const gain = 255 / (max - min);\n    const bias = -min * gain;\n    return Math.min(Math.max(gain * value + bias, 0), 255);\n}\n\nexport class Reader {\n    private files: File[];\n    private urls: string[];\n    private tiffs: GeoTIFF[];\n\n    constructor(props: {\n        files?: File[];\n        urls?: string[];\n    }) {\n        if (!(props.urls && props.urls.length > 0) && !(props.files && props.files.length > 0))\n            throw new Error(\"urls or files is necessary.\");\n\n        this.files = [];\n        this.urls = [];\n        this.tiffs = [];\n        if (props.files && props.files.length > 0) {\n            this.files = props.files;\n        } else if (props.urls && props.urls.length > 0) {\n            this.urls = props.urls;\n        }\n    }\n\n    async getTiffs(): Promise<GeoTIFF[]> {\n        if (this.tiffs.length > 0) return this.tiffs;\n        this.tiffs = this.files.length > 0 ?\n            await Promise.all(\n                this.files.map((file) => fromBlob(file))\n            ) : await Promise.all(\n                this.urls.map((url) => fromUrl(url))\n            );\n        return this.tiffs;\n    }\n\n    async getCode(fileIndex = 0, imageIndex = 0): Promise<string | null> {\n        const tiff = (await this.getTiffs())[fileIndex];\n        const image = await tiff.getImage(imageIndex);\n        const geoKeys = image.geoKeys;\n        if (geoKeys?.ProjectedCSTypeGeoKey) {\n            return \"EPSG:\" + geoKeys.ProjectedCSTypeGeoKey;\n        }\n        if (geoKeys?.GeographicTypeGeoKey) {\n            return \"EPSG:\" + geoKeys.GeographicTypeGeoKey;\n        }\n        return null;\n    }\n\n    async getUnit(fileIndex = 0, imageIndex = 0): Promise<string | null> {\n        const tiff = (await this.getTiffs())[fileIndex];\n        const image = await tiff.getImage(imageIndex);\n        const geoKeys = image.geoKeys;\n        switch (geoKeys?.ProjLinearUnitsGeoKey) {\n            case (9001): {\n                return \"m\"\n            }\n            case (9002): {\n                return \"ft\"\n            }\n            case (9003): {\n                return \"us-ft\"\n            }\n            case (9101): {\n                return \"radians\"\n            }\n            case (9102): {\n                return \"degrees\"\n            }\n        }\n        return null;\n    }\n\n    async getRasters(\n        props: RasterProps\n    ): Promise<RasterValue[]> {\n        const { sources } = props;\n        const tiffs = await this.getTiffs();\n        return await Promise.all(sources.map(async (source) => {\n            const tiff = tiffs[source.fileIndex];\n            if (!tiff) throw new Error(\"fileIndex is out of range.\");\n\n            let targetImage = await tiff.getImage(0);\n            const originWidth = targetImage.getWidth();\n            const originHeight = targetImage.getHeight();\n\n            let sourceWindow = Array.isArray(source.window) ? [...source.window] : [0, 0, originWidth, originHeight];\n            if (sourceWindow.length !== 4) throw new Error(\"window must be 4 length.\");\n\n            const dstWidth = source.width ?? sourceWindow[2] - sourceWindow[0];\n            const dstHeight = source.height ?? (sourceWindow[3] - sourceWindow[1]);\n            if (dstWidth < 1 || dstHeight < 1) throw new Error(\"dist size is too small.\");\n\n\n            const nodata = source.nodata || targetImage.getGDALNoData() || 0;\n            const imageCount = await tiff.getImageCount();\n            for (let i = 1; i < imageCount; i++) {\n                const image = await tiff.getImage(i);\n                const imageWidth = image.getWidth();\n                const imageHeight = image.getHeight();\n                const window = [\n                    Math.floor(sourceWindow[0] * imageWidth / originWidth),\n                    Math.floor(sourceWindow[1] * imageHeight / originHeight),\n                    Math.floor(sourceWindow[2] * imageWidth / originWidth),\n                    Math.floor(sourceWindow[3] * imageHeight / originHeight),\n                ];\n                const sourceWidth = window[2] - window[0];\n                const sourceHeight = window[3] - window[1];\n                if (sourceWidth < dstWidth || sourceHeight < dstHeight) {\n                    break;\n                }\n                sourceWindow = window;\n                targetImage = image;\n            }\n            const bandCount = targetImage.getBytesPerPixel() / (targetImage.getBitsPerSample() / 8);\n            if (!source.bands.every((band) => {\n                return 1 <= band && band <= bandCount\n            })) throw new Error(\"band's index is out of range.\");\n            const targetSamples = source.bands.map((v) => {\n                return v - 1;\n            });\n            const data = await targetImage.readRasters({\n                window: sourceWindow,\n                width: dstWidth,\n                height: dstHeight,\n                samples: targetSamples,\n                fillValue: nodata,\n                resampleMethod: source.resampleMethod,\n                pool: getPool(),\n                interleave: false,\n            });\n            return {\n                data: (Array.isArray(data) ? data : [data]) as TypedArray[],\n                width: dstWidth,\n                height: dstHeight,\n                nodata,\n            }\n        }));\n    }\n\n    async render(\n        props: RenderProps\n    ): Promise<ImageData> {\n        const { sources, mode = \"rgb\", bands = [], alpha = true, cmap = \"jet\" } = props;\n\n        let orders: number[] = [];\n        let colors: number[][] = [];\n        const mapping: [number, number][] = [];\n        sources.forEach((source, i) => {\n            source.bands.forEach((_, j) => {\n                mapping.push([i, j]);\n            });\n        });\n        switch (mode) {\n            case \"rgb\": {\n                orders = bands.length > 0 ? [...(bands || []).map((band) => {\n                    return band.order\n                })] : [1, 2, 3];\n                if (orders?.length !== 3) throw new Error(\"orders length must be 3 at rgb mode.\");\n                break;\n            }\n            case \"ndi\": {\n                orders = bands.length > 0 ? [...(bands || []).map((band) => {\n                    return band.order\n                })] : [1, 2];\n                if (orders?.length !== 2) throw new Error(\"orders length must be 2 at single mode.\");\n                colors = colormap({\n                    colormap: cmap,\n                    nshades: 256,\n                    format: \"rgba\",\n                    alpha: 1\n                })\n                break;\n            }\n            case \"single\": {\n                orders = bands.length > 0 ? [...(bands || []).map((band) => {\n                    return band.order\n                })] : [1];\n                if (orders?.length !== 1) throw new Error(\"orders length must be 1 at single mode.\");\n                colors = colormap({\n                    colormap: cmap,\n                    nshades: 256,\n                    format: \"rgba\",\n                    alpha: 1\n                })\n                break;\n            }\n            default: {\n                throw new Error(\"Unexpected mode.\")\n            }\n        }\n        orders.forEach((order) => {\n            if (order < 1 || mapping.length < order) throw new Error(\"orders include out of range value.\")\n        });\n        const rasters = await this.getRasters({\n            sources\n        });\n        let width = -1;\n        let height = -1;\n        rasters.forEach((raster) => {\n            if (width < 0) width = raster.width;\n            if (height < 0) height = raster.height;\n            if (width !== raster.width || height !== raster.height) throw new Error(\"Don't match raster size.\")\n        });\n        const length = width * height;\n        const data = new Uint8ClampedArray(length * (alpha ? 4 : 3));\n\n        let dstIndex = 0;\n        for (let i = 0; i < length; i++) {\n            let includeNodata = false;\n            switch (mode) {\n                case \"rgb\": {\n                    for (let j = 0; j < 3; j++) {\n                        const indexes = mapping[orders[j] - 1];\n                        const raster = rasters[indexes[0]];\n                        const layer = indexes[1];\n                        let value = raster.data[layer][i];\n                        if (value === raster.nodata) includeNodata = true;\n\n                        const min = bands[j]?.min || 0;\n                        const max = bands[j]?.max || 255;\n                        value = clamp(value, min, max);\n                        data[dstIndex++] = Math.round(value);\n                    }\n                    break;\n                }\n                case \"ndi\": {\n                    const values = [];\n                    for (let j = 0; j < 2; j++) {\n                        const indexes = mapping[j];\n                        const raster = rasters[indexes[0]];\n                        const layer = indexes[1];\n                        let value = raster.data[layer][i];\n                        if (value === raster.nodata) includeNodata = true;\n\n                        const min = bands[0]?.min || 0;\n                        const max = bands[0]?.max || 255;\n                        value = clamp(value, min, max);\n                        values.push(value);\n                    }\n                    let normalized = 0;\n                    if (values[1] - values[0] !== 0) {\n                        normalized = (values[1] + values[0]) / (values[1] - values[0]);\n                    }\n                    normalized = clamp(normalized, -1, 1);\n\n                    const pixels = colors[Math.round(normalized)];\n                    data[dstIndex++] = pixels[0];\n                    data[dstIndex++] = pixels[1];\n                    data[dstIndex++] = pixels[2];\n                    break;\n                }\n                case \"single\": {\n                    const indexes = mapping[0];\n                    const raster = rasters[indexes[0]];\n                    const layer = indexes[1];\n                    let value = raster.data[layer][i];\n                    if (value === raster.nodata) includeNodata = true;\n\n                    const min = bands[0]?.min || 0;\n                    const max = bands[0]?.max || 255;\n                    value = clamp(value, min, max);\n                    const pixels = colors[Math.round(value)];\n                    data[dstIndex++] = pixels[0];\n                    data[dstIndex++] = pixels[1];\n                    data[dstIndex++] = pixels[2];\n                    break;\n                }\n            }\n            if (alpha)\n                data[dstIndex++] = includeNodata ? 0 : 255;\n        }\n        return new ImageData(data, width, height);\n    };\n}","import SourceState from \"ol/source/State\";\n// import {\n//     DEFAULT_TILE_SIZE\n// } from \"ol/tilegrid/common\";\n\nimport { AttributionLike } from \"ol/source/Source\";\nimport TileImage from \"ol/source/TileImage\";\n\nimport { Reader } from \"./Reader\";\n\nexport type RegionalProps = {\n    urls?: string[];\n    files?: File[];\n    minZoom?: number;\n    maxZoom?: number;\n    tileSize?: number;\n    attributions?: AttributionLike;\n    attributionsCollapsible?: boolean;\n    cacheSize?: number;\n    crossOrigin?: string | null;\n    interpolate?: boolean;\n    opaque?: boolean;\n    reprojectionErrorThreshold?: number;\n    tilePixelRatio?: number;\n    wrapX?: boolean;\n    transition?: number;\n};\n\nexport class Regional extends TileImage {\n    constructor(userOptions: RegionalProps) {\n        const options = userOptions || {};\n\n        // const tileSize = options.tileSize ? options.tileSize : DEFAULT_TILE_SIZE;\n\n        super({\n            state: SourceState.LOADING,\n            attributions: options.attributions,\n            cacheSize: options.cacheSize,\n            crossOrigin: options.crossOrigin,\n            // interpolate: interpolate,\n            opaque: options.opaque,\n            // projection,\n            reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n            // tileLoadFunction,\n            tilePixelRatio: options.tilePixelRatio,\n            url: \"{z},{x},{y}\",\n            wrapX: options.wrapX !== undefined ? options.wrapX : true,\n            transition: options.transition,\n            attributionsCollapsible: options.attributionsCollapsible,\n        });\n\n        (async () => {\n            const a = new Reader({ files: options.files });\n            console.log(await a.getCode())\n            console.log(await a.render({\n                mode: \"single\",\n                bands: [{\n                    order: 1,\n                    min: 0,\n                    max: 1000\n                }],\n                sources: [\n                    {\n                        fileIndex: 0,\n                        bands: [1, 3],\n                        // window:[100,100,1300,1300],\n                        width: 10,\n                        height: 10,\n                        nodata: 0,\n                    }]\n            }))\n        })();\n    }\n}","import * as React from \"react\";\nimport { Helmet } from \"react-helmet-async\";\nimport { useForm, SubmitHandler, Controller } from \"react-hook-form\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport { join } from \"path-browserify\";\nimport {\n  Container,\n  Typography,\n  Stack,\n  Grid,\n  TextField,\n  Button,\n  RadioGroup,\n  Radio,\n  Tooltip,\n  FormControl,\n  FormControlLabel,\n  FormHelperText,\n} from \"@mui/material\";\nimport { styled } from \"@mui/system\";\n\nimport { Map } from \"ol\";\nimport SourceState from \"ol/source/State\";\nimport TileLayer from \"ol/layer/Tile\";\nimport { get as getProjection, transformExtent } from \"ol/proj\";\nimport MousePosition from \"ol/control/MousePosition\";\nimport proj4 from \"proj4\";\nimport { useOl } from \"~/hooks/useOl\";\nimport { useDnDSort } from \"~/hooks/useDnDSort\";\nimport { register as olRegister } from \"ol/proj/proj4\";\nimport { utils } from \"geo4326\";\n\nimport { Global, isSupportedCode } from \"~/scripts/ImageGrid/Global\";\nimport { Regional } from \"~/scripts/ImageGrid/Regional\";\nimport { Regional as GeoTIFF } from \"~/scripts/GeotiffGrid/Regional\";\n\nconst CodeStatus = styled(\"div\")({\n  fontSize: \"12px\",\n  marginTop: \"10px\",\n  marginLeft: \"2px\",\n});\n\nconst CodeInput = styled(\"div\")({\n  display: \"flex\",\n  marginTop: \"10px\",\n  alignItems: \"center\",\n  \"& > *\": {\n    flex: \"0 0 auto\",\n    marginRight: \"5px\",\n  },\n});\n\nconst Hint = styled(\"div\")({\n  fontSize: \"12px\",\n});\n\nconst EllipsisWrapper = styled(\"div\")({\n  overflow: \"hidden\",\n});\n\nconst EllipsisTypography = styled(Typography)({\n  overflow: \"hidden\",\n  whiteSpace: \"nowrap\",\n  textOverflow: \"ellipsis\",\n});\n\nconst LayerName = styled(EllipsisWrapper)({\n  flex: \"1 1 auto\",\n});\n\nconst LayerButton = styled(\"div\")({\n  flex: \"0 0 auto\",\n});\n\nconst StyledUl = styled(\"ul\")({\n  listStyle: \"none\",\n  margin: 0,\n  padding: 0,\n  \"& > li\": {\n    marginTop: \"5px\",\n    \"&:firstChild\": {\n      marginTop: 0,\n    },\n  },\n});\n\ntype Input = {\n  code: string;\n  type: string;\n  url: string;\n  files: FileList | string;\n  extent: string;\n  rotate: string;\n};\n\ntype SubmitProps = {\n  id: string;\n  source: Input;\n};\n\ntype FormError =\n  | \"Duplicate\"\n  | \"InvalidExtent\"\n  | \"ReversedExtent\"\n  | \"UnsupportedExtent\"\n  | \"FailedLoadSource\"\n  | \"UnsupportedCrs\";\n\ntype LayerConf = {\n  layer: TileLayer<Regional | Global>;\n  name: string;\n  id: string;\n};\n\nconst defaultSourceValue = {\n  code: \"EPSG:4326\",\n  type: \"file\",\n  files: \"\",\n  url: \"\",\n  extent: \"\",\n  rotate: \"0\",\n};\n\nconst Coordinates = styled(\"div\")({\n  position: \"absolute\",\n  top: 0,\n  left: 0,\n  padding: \"2px 4px\",\n  fontSize: 10,\n  pointerEvents: \"none\",\n});\n\nconst Viewer = (): React.ReactElement => {\n  const ol = useOl();\n  const wrapperRef = React.useRef<HTMLDivElement | null>(null);\n  const positionRef = React.useRef<HTMLDivElement | null>(null);\n  const [layerConfs, setLayerConfs] = React.useState<LayerConf[]>([]);\n  const [error, setError] = React.useState<FormError | null>(null);\n  const [loading, setLoading] = React.useState<boolean>();\n  const [projection, setProjection] = React.useState<{\n    code: string;\n    error: boolean;\n  }>({\n    code: \"EPSG:3857\",\n    error: false,\n  });\n  const codeRef = React.useRef<HTMLInputElement | null>(null);\n\n  const changeMapProjection = React.useCallback(\n    (code: string) => {\n      if (!getProjection(code)) {\n        try {\n          const crs = utils.getCrs(code);\n          proj4.defs(code, crs);\n        } catch {\n          setProjection(prev => {\n            prev.error = true;\n            return {\n              code: prev.code,\n              error: true,\n            };\n          });\n          return;\n        }\n        olRegister(proj4);\n      }\n      ol.changeProjection(code);\n      setProjection({\n        code,\n        error: false,\n      });\n    },\n    [ol]\n  );\n\n  const layerList = useDnDSort<LayerConf>({\n    defaultItems: [],\n    mode: \"topbottom\",\n    drop: (draged, hovered) => {\n      if (draged.index !== hovered.index)\n        setLayerConfs(prevList => {\n          if (\n            hovered.index < 0 ||\n            draged.index < 0 ||\n            draged.index > prevList.length - 1 ||\n            hovered.index > prevList.length - 1\n          ) {\n            return prevList;\n          }\n\n          const nextList = [...prevList];\n          const target = nextList[draged.index];\n          nextList.splice(draged.index, 1);\n          nextList.splice(hovered.index, 0, target);\n          return nextList;\n        });\n    },\n  });\n\n  const {\n    control,\n    handleSubmit,\n    register,\n    reset,\n    watch,\n    setValue,\n    formState: { errors },\n  } = useForm<Input>({\n    mode: \"onSubmit\",\n    criteriaMode: \"all\",\n    defaultValues: defaultSourceValue,\n  });\n\n  const removeLayer = React.useCallback(\n    (id: string) => {\n      setLayerConfs(layerConfs => {\n        const newLayerConfs = [...layerConfs];\n        const index = newLayerConfs.findIndex(layerConf => {\n          return id === layerConf.id;\n        });\n        const target = newLayerConfs[index];\n        if (target) {\n          if (ol.map) {\n            ol.map.removeLayer(target.layer);\n\n            newLayerConfs.splice(index, 1);\n            return newLayerConfs;\n          }\n        }\n        return newLayerConfs;\n      });\n    },\n    [ol.map]\n  );\n\n  const resetList = layerList.reset;\n  React.useEffect(() => {\n    let zIndex = 0;\n    layerConfs.forEach(({ layer }) => {\n      layer.setZIndex(zIndex++);\n    });\n\n    resetList([...layerConfs]);\n  }, [layerConfs, resetList]);\n\n  const setLayer = React.useCallback(\n    async (map: Map, id: string, source: Input) => {\n      setLoading(true);\n      const code = source.code;\n      const rotate = source.rotate.length > 0 ? parseFloat(source.rotate) : 0;\n      if (!getProjection(code)) {\n        try {\n          const crs = utils.getCrs(code);\n          proj4.defs(code, crs);\n        } catch {\n          setError(\"UnsupportedCrs\");\n          return;\n        }\n        olRegister(proj4);\n      }\n\n      const extent = source.extent.split(\",\").map(v => Number(v));\n      let name = \"\";\n      let file: File | undefined;\n      let url: string | undefined;\n      switch (source.type) {\n        case \"file\": {\n          if (!(source.files instanceof FileList)) break;\n          console.log(\"aaa\");\n          new GeoTIFF({\n            files: [source.files[0]],\n          });\n          return;\n          // file = source.files[0];\n          // name = file.name;\n          break;\n        }\n        case \"url\": {\n          url = source.url;\n          name = url;\n          break;\n        }\n      }\n      let imageSource: Regional | Global | null = null;\n      try {\n        if (isSupportedCode(code)) {\n          imageSource = new Global({\n            projection: code,\n            file,\n            url,\n            imageExtent: extent,\n            rotate: (rotate / 180) * Math.PI,\n            crossOrigin: \"anonymous\",\n            wrapX: true,\n          });\n        } else {\n          imageSource = new Regional({\n            projection: code,\n            file,\n            url,\n            imageExtent: extent,\n            rotate: (rotate / 180) * Math.PI,\n            crossOrigin: \"anonymous\",\n            wrapX: true,\n          });\n        }\n      } catch {\n        setError(\"UnsupportedExtent\");\n        setLoading(false);\n      }\n      if (imageSource) {\n        const source = imageSource;\n        const sourceState = source.getState();\n        const setting = () => {\n          const layer = new TileLayer({\n            source,\n          });\n          map.addLayer(layer);\n          setLayerConfs(layerConfs => {\n            return [\n              ...layerConfs,\n              {\n                id,\n                layer,\n                name,\n                error: null,\n              },\n            ];\n          });\n\n          const originExtent = extent;\n          if (originExtent) {\n            const transformed = transformExtent(\n              originExtent,\n              code,\n              \"EPSG:3857\"\n            );\n\n            if (transformed[0] > transformed[2])\n              transformed[2] += proj4(code, \"EPSG:3857\", [180, 0])[0] * 2;\n\n            map.getView().fit(transformed, {\n              padding: [40, 20, 40, 20],\n              maxZoom: 20,\n            });\n          }\n        };\n\n        if (sourceState === SourceState.READY) {\n          setting();\n          setLoading(false);\n        } else {\n          const sourceListener = () => {\n            const sourceState = source.getState();\n            if (sourceState === SourceState.ERROR) {\n              source.removeEventListener(\"change\", sourceListener);\n              setError(\"FailedLoadSource\");\n              setLoading(false);\n            }\n            if (sourceState === SourceState.READY) {\n              source.removeEventListener(\"change\", sourceListener);\n              setting();\n              setLoading(false);\n            }\n          };\n          imageSource.addEventListener(\"change\", sourceListener);\n        }\n      }\n    },\n    []\n  );\n\n  const load = React.useCallback(\n    ({ source, id }: SubmitProps) => {\n      if (ol.map) setLayer(ol.map, id, source);\n    },\n    [ol.map, setLayer]\n  );\n\n  React.useEffect(() => {\n    if (loading === false) {\n      reset();\n    }\n  }, [loading, reset]);\n\n  const onSubmit: SubmitHandler<Input> = React.useCallback(\n    data => {\n      const extent = data.extent.split(\",\").map(v => Number(v));\n\n      for (let i = 0; i < extent.length; i++) {\n        const n = extent[i];\n        if (!(typeof n === \"number\" && n - n === 0)) {\n          setError(\"InvalidExtent\");\n          return;\n        }\n      }\n      if (extent[0] > extent[2] || extent[1] > extent[3]) {\n        setError(\"ReversedExtent\");\n        return;\n      }\n      let id = \"\";\n      switch (data.type) {\n        case \"file\": {\n          if (!(data.files instanceof FileList)) break;\n\n          const file = data.files[0];\n          id += file.name;\n          break;\n        }\n        case \"url\": {\n          const url = data.url;\n          id += url;\n          break;\n        }\n      }\n      id += extent.join(\",\");\n\n      const rotate = data.rotate.length > 0 ? data.rotate : 0;\n      id += \",\" + rotate;\n      if (id.length > 0) {\n        const index = layerConfs.findIndex(layerConf => {\n          return id === layerConf.id;\n        });\n        if (index >= 0) {\n          setError(\"Duplicate\");\n          return;\n        }\n        load({\n          id,\n          source: data,\n        });\n      }\n    },\n    [load, layerConfs]\n  );\n\n  const watcher = watch();\n  const sample = React.useCallback(() => {\n    reset();\n    setValue(\"code\", \"EPSG:4326\");\n    setValue(\"type\", \"url\");\n    setValue(\n      \"url\",\n      location.origin + join(location.pathname, \"../image/rect.png\")\n    );\n    setValue(\"extent\", \"0,0,10,10\");\n\n    setError(null);\n  }, [setValue, setError, reset]);\n\n  React.useEffect(() => {\n    let mousePositionControl: MousePosition | null = null;\n\n    if (ol.map && positionRef.current) {\n      mousePositionControl = new MousePosition({\n        coordinateFormat: coords => {\n          if (coords)\n            return `lon: ${coords[0].toFixed(4)}, lat: ${coords[1].toFixed(4)}`;\n          return \"\";\n        },\n        projection: \"EPSG:4326\",\n        className: \"\",\n        target: positionRef.current,\n      });\n      ol.map.addControl(mousePositionControl);\n    }\n    return () => {\n      if (ol.map && mousePositionControl) {\n        ol.map.removeControl(mousePositionControl);\n      }\n    };\n  }, [ol.map]);\n\n  return (\n    <>\n      <CssBaseline />\n      <Helmet>\n        <title>Display Image</title>\n        <meta name=\"description\" content=\"Display image on map.\" />\n        <link\n          rel=\"canonical\"\n          href=\"https://yonda-yonda.github.io/exmap/picture\"\n        />\n        <link\n          rel=\"icon\"\n          type=\"image/x-icon\"\n          href=\"https://github.githubassets.com/favicon.ico\"\n        />\n        <link\n          rel=\"stylesheet\"\n          href=\"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap\"\n        />\n        <meta name=\"twitter:card\" content=\"summary_large_image\" />\n        <meta name=\"twitter:title\" content=\"Display Image\" />\n        <meta\n          name=\"twitter:description\"\n          content=\"PNG JPEG GIF WEBP\"\n        />\n        <meta\n          property=\"og:url\"\n          content=\"https://yonda-yonda.github.io/exmap/picture\"\n        />\n        <meta\n          name=\"twitter:image\"\n          content=\"https://yonda-yonda.github.io/exmap/image/twitter_picture.png\"\n        />\n      </Helmet>\n      <Container>\n        <Typography variant=\"h2\" component=\"h1\">\n          Display Image\n        </Typography>\n        <Stack my={4} spacing={4}>\n          <div>\n            <Grid container spacing={2}>\n              <Grid item xs={9}>\n                <div style={{ position: \"relative\" }} ref={wrapperRef}>\n                  <div\n                    ref={ol.ref}\n                    style={{\n                      width: \"100%\",\n                      height: \"340px\",\n                    }}\n                  />\n\n                  <CodeStatus>view at {projection.code}</CodeStatus>\n                  <CodeInput>\n                    <div>\n                      <TextField\n                        inputRef={codeRef}\n                        label=\"MapCode\"\n                        size=\"small\"\n                      />\n                    </div>\n                    <Button\n                      variant=\"contained\"\n                      type=\"button\"\n                      onClick={() => {\n                        changeMapProjection(codeRef.current?.value || \"\");\n                      }}\n                    >\n                      Change\n                    </Button>\n                  </CodeInput>\n                  {projection.error && (\n                    <FormHelperText>Unsupported Code.</FormHelperText>\n                  )}\n                  <Coordinates ref={positionRef}></Coordinates>\n                </div>\n              </Grid>\n              <Grid item xs={3}>\n                {layerConfs.length > 0 ? (\n                  <StyledUl>\n                    {layerList.items.map(item => {\n                      return (\n                        <li key={item.key} ref={item.ref} {...item.trigger}>\n                          <Stack\n                            direction=\"row\"\n                            spacing={1}\n                            justifyContent=\"space-between\"\n                            alignItems=\"center\"\n                          >\n                            <LayerName>\n                              <Tooltip\n                                title={\n                                  <Typography\n                                    variant=\"caption\"\n                                    display=\"block\"\n                                    {...item.propagation}\n                                  >\n                                    {item.value.name}\n                                  </Typography>\n                                }\n                                arrow\n                                placement=\"left\"\n                              >\n                                <EllipsisTypography variant=\"body2\">\n                                  {item.value.name}\n                                </EllipsisTypography>\n                              </Tooltip>\n                            </LayerName>\n                            <LayerButton {...item.propagation}>\n                              <Button\n                                size=\"small\"\n                                variant=\"outlined\"\n                                onClick={() => {\n                                  removeLayer(item.value.id);\n                                }}\n                              >\n                                REMOVE\n                              </Button>\n                            </LayerButton>\n                          </Stack>\n                        </li>\n                      );\n                    })}\n                  </StyledUl>\n                ) : (\n                  <Typography>Nothing to display.</Typography>\n                )}\n              </Grid>\n            </Grid>\n          </div>\n          <hr />\n          <div>\n            <form onSubmit={handleSubmit(onSubmit)}>\n              <Stack spacing={2}>\n                <div>\n                  <Button variant=\"outlined\" onClick={sample} size=\"small\">\n                    sample\n                  </Button>\n                </div>\n                <Controller\n                  control={control}\n                  name=\"type\"\n                  render={({ field }) => (\n                    <FormControl fullWidth>\n                      <RadioGroup row {...field}>\n                        <FormControlLabel\n                          value=\"file\"\n                          control={<Radio size=\"small\" />}\n                          label=\"Local File\"\n                        />\n                        <FormControlLabel\n                          value=\"url\"\n                          control={<Radio size=\"small\" />}\n                          label=\"URL\"\n                        />\n                      </RadioGroup>\n                    </FormControl>\n                  )}\n                />\n                {watcher.type === \"file\" && (\n                  <FormControl\n                    component=\"fieldset\"\n                    error={!!errors?.files}\n                    fullWidth\n                  >\n                    <input\n                      {...register(\"files\", {\n                        required: true,\n                        validate: {\n                          length: f => f instanceof FileList && f.length === 1,\n                        },\n                      })}\n                      disabled={loading}\n                      // accept=\".webp,.png,.jpeg,.jpg,.gif,image/webp,image/png,image/jpeg,image/svg+xml,image/gif\"\n                      type=\"file\"\n                    />\n                    {errors?.files?.type === \"required\" && (\n                      <FormHelperText>\n                        Required. <br />\n                        \n                      </FormHelperText>\n                    )}\n                    {errors?.files?.type === \"length\" && (\n                      <FormHelperText>\n                        Required. <br />\n                        1\n                      </FormHelperText>\n                    )}\n                  </FormControl>\n                )}\n                {watcher.type === \"url\" && (\n                  <Controller\n                    control={control}\n                    name=\"url\"\n                    render={({ field, fieldState: { invalid, error } }) => (\n                      <FormControl\n                        component=\"fieldset\"\n                        error={invalid}\n                        fullWidth\n                      >\n                        <TextField\n                          {...field}\n                          label=\"url\"\n                          size=\"small\"\n                          error={invalid}\n                          placeholder=\"https://\"\n                          disabled={loading}\n                        />\n                        {error?.type === \"required\" && (\n                          <FormHelperText>\n                            Required. <br />\n                            \n                          </FormHelperText>\n                        )}\n                        {error?.type === \"pattern\" && (\n                          <FormHelperText>\n                            Not matched URL pattern.\n                            <br />\n                            URL\n                          </FormHelperText>\n                        )}\n                      </FormControl>\n                    )}\n                    rules={{\n                      required: true,\n                      pattern: /(^(https?):\\/\\/[^ \"]+$|(^http:\\/\\/localhost))/,\n                    }}\n                  />\n                )}\n                <Hint>support: .webp, .png, .jpeg, .jpg, .gif</Hint>\n                <Stack direction=\"row\" spacing={4} sx={{ mt: 2, mb: 1 }}>\n                  <Controller\n                    control={control}\n                    name=\"code\"\n                    render={({ field, fieldState: { invalid, error } }) => (\n                      <FormControl\n                        component=\"fieldset\"\n                        error={invalid}\n                        fullWidth\n                      >\n                        <TextField\n                          {...field}\n                          label=\"SourceCode\"\n                          size=\"small\"\n                          error={invalid}\n                        />\n                        {error?.type === \"required\" && (\n                          <FormHelperText>\n                            Required. <br />\n                            \n                          </FormHelperText>\n                        )}\n                      </FormControl>\n                    )}\n                    rules={{\n                      required: true,\n                    }}\n                  />\n                  <Controller\n                    control={control}\n                    name=\"extent\"\n                    render={({ field, fieldState: { invalid, error } }) => (\n                      <FormControl\n                        component=\"fieldset\"\n                        error={invalid}\n                        fullWidth\n                      >\n                        <TextField\n                          {...field}\n                          label=\"Extent\"\n                          size=\"small\"\n                          error={invalid}\n                          placeholder=\"left, bottom, right, top\"\n                        />\n                        {error?.type === \"required\" && (\n                          <FormHelperText>\n                            Required. <br />\n                            \n                          </FormHelperText>\n                        )}\n                        {error?.type === \"pattern\" && (\n                          <FormHelperText>\n                            Must be left bottom and right top coordinates\n                            separated by commas.\n                            <br />\n                            ,,,\n                          </FormHelperText>\n                        )}\n                      </FormControl>\n                    )}\n                    rules={{\n                      required: true,\n                      pattern: /^(\\+|-|\\.|\\d|e|E|,|\\s)*$/,\n                    }}\n                  />\n                </Stack>\n                <Stack direction=\"row\" spacing={4} sx={{ mb: 1 }}>\n                  <Controller\n                    control={control}\n                    name=\"rotate\"\n                    render={({ field, fieldState: { invalid, error } }) => (\n                      <FormControl\n                        component=\"fieldset\"\n                        error={invalid}\n                        fullWidth\n                      >\n                        <TextField\n                          {...field}\n                          label=\"Rotate(degree)\"\n                          size=\"small\"\n                          error={invalid}\n                        />\n                        {error?.type === \"pattern\" && (\n                          <FormHelperText>\n                            must be a number. <br />\n                            \n                          </FormHelperText>\n                        )}\n                      </FormControl>\n                    )}\n                    rules={{\n                      pattern: /^((\\+|-){0,1}[1-9]\\d*|0)(\\.\\d+)?$/,\n                    }}\n                  />\n                </Stack>\n              </Stack>\n              <FormControl error={!!error} sx={{ mt: 3 }}>\n                <div>\n                  <Button\n                    variant=\"contained\"\n                    type=\"submit\"\n                    disabled={loading}\n                    onClick={() => {\n                      setError(null);\n                    }}\n                  >\n                    Add Layer\n                  </Button>\n                </div>\n                {error === \"Duplicate\" && (\n                  <FormHelperText sx={{ ml: 0 }}>\n                    Duplicate Layer. <br />\n                    \n                  </FormHelperText>\n                )}\n                {error === \"InvalidExtent\" && (\n                  <FormHelperText sx={{ ml: 0 }}>\n                    Extent includes Non-numbers. <br />\n                    Extent\n                  </FormHelperText>\n                )}\n                {error === \"ReversedExtent\" && (\n                  <FormHelperText sx={{ ml: 0 }}>\n                    Some values of Extent are reversed. <br />\n                    Extent\n                  </FormHelperText>\n                )}\n                {error === \"UnsupportedExtent\" && (\n                  <FormHelperText sx={{ ml: 0 }}>\n                    Some values of Extent are unsupported. <br />\n                    Extent\n                  </FormHelperText>\n                )}\n                {error === \"FailedLoadSource\" && (\n                  <FormHelperText sx={{ ml: 0 }}>\n                    Failed to load source. <br />\n                    \n                  </FormHelperText>\n                )}\n                {error === \"UnsupportedCrs\" && (\n                  <FormHelperText sx={{ ml: 0 }}>\n                    Unsupported CRS. <br />\n                    \n                  </FormHelperText>\n                )}\n              </FormControl>\n            </form>\n          </div>\n        </Stack>\n      </Container>\n    </>\n  );\n};\nexport default Viewer;\n"],"names":["getFormControlLabelUtilityClasses","slot","generateUtilityClass","_excluded","FormControlLabelRoot","styled","name","overridesResolver","props","styles","ownerState","concat","label","root","capitalize","labelPlacement","_ref2","theme","display","alignItems","cursor","verticalAlign","WebkitTapHighlightColor","marginLeft","marginRight","flexDirection","color","palette","text","disabled","inProps","ref","useThemeProps","className","_props$componentsProp","componentsProps","control","disabledProp","disableTypography","_props$labelPlacement","other","muiFormControl","useFormControl","controlProps","forEach","key","classes","slots","composeClasses","useUtilityClasses","children","type","Typography","component","typography","createSvgIcon","d","RadioButtonIconRoot","position","RadioButtonIconBackground","RadioButtonUnchecked","skipSx","transform","RadioButtonIconDot","RadioButtonChecked","_ref","left","transition","transitions","create","easing","easeIn","duration","shortest","checked","easeOut","_props$checked","_props$classes","fontSize","background","dot","getRadioUtilityClass","RadioRoot","SwitchBase","shouldForwardProp","prop","secondary","backgroundColor","action","active","main","hoverOpacity","defaultCheckedIcon","defaultIcon","_defaultIcon$props$fo","_defaultCheckedIcon$p","a","b","checkedProp","_props$checkedIcon","checkedIcon","_props$color","_props$icon","icon","nameProp","onChangeProp","onChange","_props$size","size","radioGroup","RadioGroupContext","createChainedFunction","value","String","getFormGroupUtilityClass","FormGroupRoot","row","flexWrap","_props$row","actions","defaultValue","valueProp","rootRef","_useControlled","useControlled","controlled","default","_useControlled2","setValueState","focus","input","current","querySelector","handleRef","useForkRef","useId","event","target","role","undefined","getSwitchBaseUtilityClass","SwitchBaseRoot","ButtonBase","padding","borderRadius","edge","SwitchBaseInput","opacity","width","height","top","margin","zIndex","autoFocus","defaultChecked","_props$disableFocusRi","disableFocusRipple","_props$edge","id","inputProps","inputRef","onBlur","onFocus","readOnly","required","tabIndex","Boolean","state","setCheckedState","hasLabelFor","centerRipple","focusRipple","nativeEvent","defaultPrevented","newChecked","module","exports","colorScale","lerp","rgb2float","rgba","rgb2hex","dig","hex","i","toString","substr","length","rgbaStr","join","spec","indicies","fromrgba","torgba","nsteps","cmap","colormap","format","nshades","alpha","toLowerCase","Error","Array","isArray","slice","map","c","Math","round","index","min","max","steps","rgb","colors","j","amt","push","fieldTagNames","fieldTags","hasOwnProperty","parseInt","arrayFields","BitsPerSample","ExtraSamples","SampleFormat","StripByteCounts","StripOffsets","StripRowCounts","TileByteCounts","TileOffsets","SubIFDs","fieldTypeNames","fieldTypes","_key","photometricInterpretations","WhiteIsZero","BlackIsZero","RGB","Palette","TransparencyMask","CMYK","YCbCr","CIELab","ICCLab","ExtraSamplesValues","Unspecified","Assocalpha","Unassalpha","LercParameters","Version","AddCompression","LercAddCompression","None","Deflate","geoKeyNames","geoKeys","_key2","v0","v1","t","assertPath","path","TypeError","JSON","stringify","normalizeStringPosix","allowAboveRoot","code","res","lastSegmentLength","lastSlash","dots","charCodeAt","lastSlashIndex","lastIndexOf","posix","resolve","cwd","resolvedPath","resolvedAbsolute","arguments","process","normalize","isAbsolute","trailingSeparator","joined","arg","relative","from","to","fromStart","fromEnd","fromLen","toStart","toLen","lastCommonSep","fromCode","out","_makeLong","dirname","hasRoot","end","matchedSlash","basename","ext","start","extIdx","firstNonSlashEnd","extname","startDot","startPart","preDotState","pathObject","sep","dir","base","_format","parse","ret","delimiter","win32","HALF_WORLD_3857","PI","EXTENT","is4326","EPSG4326_PROJECTIONS","projection","getCode","is3857","EPSG3857_PROJECTIONS","isSupportedCode","rotateExtent","extent","rad","center","leftTop","cos","sin","leftBottom","rightBottom","rightTop","resolutionsFromExtent","options","maxZoom","DEFAULT_MAX_ZOOM","getHeight","getWidth","tileSize","DEFAULT_TILE_SIZE","maxResolution","sourceResolution","resolutions","z","resolution","pow","Global","userOptions","url","file","getCachedProjection","gridExtent","interpolate","SourceState","attributions","cacheSize","crossOrigin","opaque","reprojectionErrorThreshold","tileLoadFunction","imageTile","coordString","split","Number","x","y","canvas","document","createElement","context","getContext","tempCanvas","tempContext","context_","extentLeft","extentRight","window","getWindow","tileLeft","tileRight","tileTop","tileBottom","imageExtent_","imageExtentLeft","imageExtentBottom","imageExtentRight","imageExtentTop","extentWidth","setState","TileState","sourcePerPixel","tilePerPixel","tileRect","sourceRect","sourceRectSize","tileRectSize","clearRect","putImageData","getImageData","drawImage","src","toDataURL","getImage","tilePixelRatio","wrapX","attributionsCollapsible","Infinity","imageExtent","originExtentAspectRatio","gridExtentWidth","gridExtentHeight","rotate","imageSmoothingEnabled","image","Image","URL","createObjectURL","addEventListener","revokeObjectURL","imageWidth","imageHeight","rotatedCoordinates","rotatedWidth","rotatedHeight","tileGrid","TileGrid","minZoom","save","translate","restore","TileImage","Regional","extentHeight","fromWhiteIsZero","raster","rgbRaster","Uint8Array","fromBlackIsZero","fromPalette","colorMap","greenOffset","blueOffset","mapIndex","fromCMYK","cmykRaster","m","k","fromYCbCr","yCbCrRaster","Uint8ClampedArray","cb","cr","fromCIELab","cieLabRaster","r","g","registry","Map","addDecoder","cases","importFn","set","getDecoder","_x","_getDecoder","apply","this","_callee","fileDirectory","Decoder","_context","prev","next","get","Compression","sent","abrupt","stop","copyNewSize","array","samplesPerPixel","Object","getPrototypeOf","resampleNearest","valueArrays","inWidth","inHeight","outWidth","outHeight","relX","relY","newArray","cy","cx","resampleBilinear","rawY","yl","floor","yh","ceil","rawX","tx","xl","xh","ll","hl","lh","hh","resample","method","resampleNearestInterleaved","valueArray","samples","resampleBilinearInterleaved","resampleInterleaved","sum","s","arrayForType","bitsPerSample","Uint16Array","Uint32Array","Int8Array","Int16Array","Int32Array","Float32Array","Float64Array","needsNormalization","normalizeArray","inBuffer","planarConfiguration","tileWidth","tileHeight","view","DataView","samplesToTransfer","outArray","bitMask","repeat","bitsPerLine","lineBitOffset","pixelBitOffset","bitOffset","outIndex","byteOffset","innerBitOffset","getUint8","getUint16","raw","getUint32","buffer","then","GeoTIFFImage","dataView","littleEndian","cache","source","tiles","isTiled","PlanarConfiguration","_readRGB","_readRasters","_readRaster2","_getTileOrStrip","ImageWidth","ImageLength","SamplesPerPixel","TileWidth","TileLength","RowsPerStrip","getTileWidth","getTileHeight","bytes","getSampleByteSize","RangeError","sampleIndex","prototype","getInt8","getInt16","getInt32","offset","getFloat32","getFloat64","getSampleFormat","getBitsPerSample","_callee2","sample","poolOrDecoder","signal","numTilesPerRow","numTilesPerCol","byteCount","request","_this","_context2","fetch","data","sampleFormat","decode","getSamplesPerPixel","getBlockHeight","t0","t1","t2","t3","_x2","_x3","_x4","_x5","_callee3","imageWindow","interleave","resampleMethod","minXTile","maxXTile","minYTile","maxYTile","windowWidth","bytesPerPixel","srcSampleOffsets","sampleReaders","promises","yTile","xTile","_loop","resampled","_this2","_context3","getBytesPerPixel","getReaderForSample","si","promise","getTileOrStrip","tile","blockHeight","firstLine","firstCol","lastLine","lastCol","reader","ymax","xmax","pixelOffset","call","windowCoordinate","Promise","all","_x6","_x7","_x8","_x9","_x10","_x11","_x12","_x13","_x14","_callee4","wnd","_ref2$samples","_ref2$pool","pool","fillValue","imageWindowWidth","imageWindowHeight","numPixels","_i","_i2","result","_args4","_context4","reject","fill","getArrayForSample","_readRaster","_callee5","_ref3","_ref3$interleave","_ref3$pool","_ref3$enableAlpha","enableAlpha","pi","subOptions","red","green","blue","_i3","_args5","_context5","PhotometricInterpretation","readRasters","ColorMap","ModelTiepoint","tiePoints","metadata","GDAL_METADATA","string","items","filter","item","inner","GDAL_NODATA","substring","modelTransformation","ModelTransformation","referenceImage","modelPixelScale","ModelPixelScale","_referenceImage$getRe","getResolution","_referenceImage$getRe2","refResX","refResY","refResZ","GTRasterTypeGeoKey","origin","getOrigin","x1","y1","x2","y2","DataView64","arrayBuffer","_dataView","combined","right","isSafeInteger","isNegative","carrying","byte","DataSlice","sliceOffset","bigTiff","_sliceOffset","_littleEndian","_bigTiff","byteLength","sliceTop","readUint32","readUint64","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","minLen","_arrayLikeToArray","n","constructor","test","_unsupportedIterableToArray","F","done","e","_e","f","err","normalCompletion","didErr","step","_e2","return","arr","len","arr2","CRLFCRLF","itemsToObject","fromEntries","_step","obj","_iterator","_step$value","parseHeaders","line","kv","str","trim","parseContentRange","rawContentRange","total","_rawContentRange$matc","match","_rawContentRange$matc2","parseByteRanges","responseArrayBuffer","boundary","decoder","TextDecoder","startBoundary","endBoundary","_text","startsWith","innerText","endOfHeaders","indexOf","headers","_parseContentRange","startOfData","fileSize","BaseSource","_close","_fetchSlice","_fetch","slices","_args","fetchSlice","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","valueOf","_isNativeReflectConstruct","Super","NewTarget","QuickLRU","_Map","_Symbol$iterator","_Symbol$toStringTag","_super","maxSize","maxAge","POSITIVE_INFINITY","onEviction","oldCache","_size","expiry","Date","now","delete","_deleteIfExpired","_getOrDeleteIfExpired","_getItemValue","_emitEvictions","_set","_entriesAscending","_iterator2","_step2","_item","_iterator3","_step3","_item2","_item3","_value","has","finish","_item4","_moveToRecent","_ref$maxAge","_peek","deleted","clear","newSize","removeCount","keys","_iterator4","_step4","_step4$value","values","_iterator5","_step5","_step5$value","_iterator6","_step6","_item5","_iterator7","_step7","_item6","_item7","_value2","entriesDescending","_item8","_item9","_item10","_key3","_value3","entriesAscending","_iterator8","_step8","_step8$value","_context6","_step9","oldCacheSize","_iterator9","callbackFunction","_step10","thisArgument","_iterator10","_step10$value","toStringTag","wait","_wait","milliseconds","setTimeout","zip","A","B","AbortError","_Error","params","captureStackTrace","AggregateError","_Error2","CustomAggregateError","_super2","errors","message","Block","BlockGroup","blockIds","BlockedSource","_BaseSource","_ref$blockSize","blockSize","_ref$cacheSize","blockCache","blockRequests","blockIdsToFetch","Set","abortedBlockIds","missingBlockIds","allBlockIds","firstBlockOffset","_blockId2","missingRequests","_missingBlockIds","blockId","abortedBlockRequests","_blockId","block","blocks","failedBlocks","requiredBlocks","add","fetchBlocks","allSettled","aborted","readSliceData","_this3","groups","groupBlocks","groupRequests","groupIndex","_loop2","response","blockOffset","sortedBlockIds","sort","lastBlockId","_this4","blockIdLow","blockIdHigh","sliceData","ArrayBuffer","sliceView","delta","blockInnerOffset","rangeInnerOffset","usedBlockLength","blockView","BaseResponse","_getData","status","headerName","BaseClient","_request","_args2","credentials","FetchResponse","_BaseResponse","FetchClient","_BaseClient","XHRResponse","xhr","getResponseHeader","XHRClient","XMLHttpRequest","open","responseType","_Object$entries","entries","_Object$entries$_i","setRequestHeader","onload","onerror","onabort","send","abort","constructRequest","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","_objectSpread","getOwnPropertyDescriptors","defineProperties","defineProperty","HttpResponse","dataPromise","statusCode","HttpClient","parsedUrl","httpApi","protocol","resolveData","chunks","on","chunk","Buffer","destroy","_excluded2","_excluded3","_excluded4","RemoteSource","_fetchSlices","client","maxRanges","allowFullFile","_fileSize","fetchSlices","_parseContentType","byteRanges","first","others","_data","Range","ok","rawContentType","getHeader","_rawContentType$split","_rawContentType$split2","param","getData","_parseContentRange2","_data2","maybeWrapInBlockedSource","makeFetchSource","_ref3$headers","_ref3$maxRanges","_ref3$allowFullFile","blockOptions","makeXHRSource","_ref4","_ref4$headers","_ref4$maxRanges","_ref4$allowFullFile","makeHttpSource","_ref5","_ref5$headers","_ref5$maxRanges","_ref5$allowFullFile","_ref6","_ref6$forceXHR","forceXHR","clientOptions","FileReaderSource","blob","FileReader","readAsArrayBuffer","makeFileReaderSource","getFieldTypeLength","fieldType","parseGeoKeyDirectory","rawGeoKeyDirectory","GeoKeyDirectory","geoKeyDirectory","location","count","subarray","getValues","dataSlice","readMethod","fieldTypeLength","readUint8","readInt8","readUint16","readInt16","readInt32","readInt64","readFloat32","readFloat64","ImageFileDirectory","nextIFDByteOffset","GeoTIFFImageIndexError","GeoTIFFBase","resX","resY","bbox","firstImage","usedImage","imageCount","imgBBox","_firstImage$getOrigin","_firstImage$getOrigin2","oX","oY","_firstImage$getResolu","_firstImage$getResolu2","rX","rY","usedBBox","allImages","_image$fileDirectory","subfileType","newSubfileType","_image","imgResX","imgResY","_firstImage$getOrigin3","_firstImage$getOrigin4","_oX","_oY","_usedImage$getResolut","_usedImage$getResolut2","imageResX","imageResY","getImageCount","getBoundingBox","SubfileType","NewSubfileType","GeoTIFF","_GeoTIFFBase","_fromSource","_getGhostValues","_getImageCount","_getImage","_requestIFD","_parseFileDirectoryAt","_getSlice","firstIFDOffset","ifdRequests","ghostValues","fallbackSize","t4","entrySize","offsetSize","numDirEntries","byteSize","entryCount","fieldTag","typeCount","fieldValues","valueOffset","actualOffset","fieldDataSlice","getSlice","covers","readOffset","parseFileDirectoryAt","requestIFD","previousIfd","_callee6","ifd","_args6","_callee7","hasNext","_context7","_callee8","detectionString","heuristicAreaSize","valuesString","metadataSize","fullString","_context8","close","_callee9","headerData","BOM","magicNumber","_context9","getUint64","fromUrl","_fromUrl","_callee13","_args13","_context13","fromSource","fromBlob","_fromBlob","_callee16","_context16","defaultPoolSize","navigator","hardwareConcurrency","Pool","createWorker","workers","_awaitingDecoder","messageId","worker","idle","_decode","find","candidate","random","onMessage","decoded","removeEventListener","postMessage","terminate","clamp","gain","bias","Reader","urls","files","tiffs","getTiffs","fileIndex","imageIndex","tiff","ProjectedCSTypeGeoKey","GeographicTypeGeoKey","getUnit","ProjLinearUnitsGeoKey","getRasters","sources","targetImage","originWidth","originHeight","sourceWindow","dstWidth","dstHeight","nodata","getGDALNoData","sourceWidth","sourceHeight","bandCount","bands","every","band","targetSamples","v","render","mode","orders","mapping","_","order","rasters","dstIndex","includeNodata","indexes","layer","normalized","pixels","ImageData","console","log","CodeStatus","marginTop","CodeInput","flex","Hint","EllipsisWrapper","overflow","EllipsisTypography","whiteSpace","textOverflow","LayerName","LayerButton","StyledUl","listStyle","defaultSourceValue","Coordinates","pointerEvents","ol","useOl","wrapperRef","React","positionRef","layerConfs","setLayerConfs","error","setError","loading","setLoading","setProjection","codeRef","changeMapProjection","getProjection","crs","utils","proj4","olRegister","changeProjection","layerList","useDnDSort","defaultItems","drop","draged","hovered","prevList","nextList","splice","useForm","criteriaMode","defaultValues","handleSubmit","register","reset","watch","setValue","formState","removeLayer","newLayerConfs","findIndex","layerConf","resetList","setZIndex","setLayer","parseFloat","FileList","imageSource","sourceState","getState","setting","TileLayer","addLayer","originExtent","transformed","transformExtent","getView","fit","sourceListener","load","onSubmit","watcher","pathname","mousePositionControl","MousePosition","coordinateFormat","coords","toFixed","addControl","removeControl","CssBaseline","Helmet","content","rel","href","property","Container","variant","Stack","my","spacing","Grid","container","xs","style","TextField","Button","onClick","FormHelperText","trigger","direction","justifyContent","Tooltip","title","propagation","arrow","placement","field","FormControl","fullWidth","RadioGroup","FormControlLabel","Radio","validate","fieldState","invalid","placeholder","rules","pattern","sx","mt","mb","ml"],"sourceRoot":""}